/*!* Application Version: 3.0.11* Application Environment: prod* Build Version: 1591183984*/
webpackJsonp([0],[,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_authentication__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__),__webpack_require__(22));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__);__webpack_require__.d(exports,"a",function(){return IdentityQueries});var IdentityQueries=function(_AuthenticationQuerie){function IdentityQueries(){return _classCallCheck(this,IdentityQueries),_possibleConstructorReturn(this,(IdentityQueries.__proto__||Object.getPrototypeOf(IdentityQueries)).apply(this,arguments))}return _inherits(IdentityQueries,_AuthenticationQuerie),IdentityQueries}(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries);IdentityQueries.getIdentity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getIdentity",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.getIdentity,function(identity){return identity}),IdentityQueries.getHasIdentity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getIdentity",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.hasIdentity,function(hasIdentity){return hasIdentity}),IdentityQueries.getUserId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getUserId",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.getIdentity,function(identity){return identity?identity.user_id:null})},,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(121)),__WEBPACK_IMPORTED_MODULE_2_app_modules_configuration_stores_EnvironmentStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__),__webpack_require__(542)),__WEBPACK_IMPORTED_MODULE_3_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_3_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__),__WEBPACK_IMPORTED_MODULE_4__stores_ChangeAvatarStore__=__webpack_require__(83);__webpack_require__.d(exports,"a",function(){return ConfigurationQueries});var ConfigurationQueries=function(_StejarConfigurationQ){function ConfigurationQueries(){return _classCallCheck(this,ConfigurationQueries),_possibleConstructorReturn(this,(ConfigurationQueries.__proto__||Object.getPrototypeOf(ConfigurationQueries)).apply(this,arguments))}return _inherits(ConfigurationQueries,_StejarConfigurationQ),ConfigurationQueries}(__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__.ConfigurationQueries);ConfigurationQueries.getConfiguration=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getConfiguration",ConfigurationQueries.getConfiguration,function(configuration){return configuration}),ConfigurationQueries.getEnv=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getEnv",function(state){return state.ConfigurationStore},function(configuration){return configuration.env}),ConfigurationQueries.getBadgesSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getBadgesSpaceId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.badgesSpaceId}),ConfigurationQueries.getRewardsBaseUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getRewardsBaseUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.rewardsUrl}),ConfigurationQueries.getClubUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getClubUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.clubUrl}),ConfigurationQueries.getAccountUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getAccountUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.accountUrl}),ConfigurationQueries.getCustomerSupportUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getCustomerSupportUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.customerSupportUrl}),ConfigurationQueries.getTagCommanderUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getTagCommanderUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.tagCommanderUrl}),ConfigurationQueries.getTwitchClientId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getTwitchClientId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.twitchClientId}),ConfigurationQueries.getAvatarsUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.avatarsUrl}),ConfigurationQueries.getCurrentEnv=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getCurrentEnv",__WEBPACK_IMPORTED_MODULE_2_app_modules_configuration_stores_EnvironmentStore__.a.getCurrentEnv,function(env){return env}),ConfigurationQueries.getEnableDebug=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.enableDebug",ConfigurationQueries.getConfiguration,function(configuration){return configuration.enableDebug}),ConfigurationQueries.getStatsCDNUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getStatsCDNUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.statsCDNUrl}),ConfigurationQueries.getWebcenterAssetsUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getWebcenterAssetsUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.webcenterAssetsUrl}),ConfigurationQueries.getBetaPopulationsSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getBetaPopulationsSpaceId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.betaPopulationsSpaceId}),ConfigurationQueries.getBetaEnitySpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getBetaEnitySpaceId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.betaEnitySpaceId}),ConfigurationQueries.getBetaType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getBetaType",ConfigurationQueries.getConfiguration,function(configuration){return configuration.betaType}),ConfigurationQueries.getOverlayIndexUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getOverlayIndexUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.overlayIndexUrl}),ConfigurationQueries.getAvatarsMaintenanceStartDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsMaintenanceStartDate",ConfigurationQueries.getConfiguration,function(configuration){return configuration.avatarsMaintenanceStartDate}),ConfigurationQueries.getAvatarsMaintenanceEndDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsMaintenanceEndDate",ConfigurationQueries.getConfiguration,function(configuration){return configuration.avatarsMaintenanceEndDate}),ConfigurationQueries.getAreAvatarsInMaintenance=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsMaintenanceEndDate",__WEBPACK_IMPORTED_MODULE_4__stores_ChangeAvatarStore__.a.getAvatarIntervalCheck,ConfigurationQueries.getAvatarsMaintenanceStartDate,ConfigurationQueries.getAvatarsMaintenanceEndDate,function(check,startDate,endDate){return __WEBPACK_IMPORTED_MODULE_3_moment___default.a.utc().isBetween(__WEBPACK_IMPORTED_MODULE_3_moment___default.a.utc(startDate),__WEBPACK_IMPORTED_MODULE_3_moment___default.a.utc(endDate))}),ConfigurationQueries.getDefaultDataCacheTime=function(){return 900},ConfigurationQueries.getConnectionsCacheTime=function(){return 120},ConfigurationQueries.getFriendsCacheTime=function(){return 300},ConfigurationQueries.getGamesToApplicationsCacheTime=function(){return 86400},ConfigurationQueries.isExpired=function(expiration,cacheTime){return!__WEBPACK_IMPORTED_MODULE_3_moment___default.a.unix(expiration).isAfter(__WEBPACK_IMPORTED_MODULE_3_moment___default()().subtract(cacheTime,"seconds"))}},,,function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function isActive$(state){return state[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18__stores_OverlayStore__.a)()].isActive}var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_1_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_1_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__),__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__),__webpack_require__(39)),__WEBPACK_IMPORTED_MODULE_5_app_stores_PlatformsStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_12_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_14_app_stores_AddFriendStore__=__webpack_require__(279),__WEBPACK_IMPORTED_MODULE_15_app_stores_UserEmailVerificationStore__=__webpack_require__(558),__WEBPACK_IMPORTED_MODULE_16__stores_FilterFriendStore__=__webpack_require__(555),__WEBPACK_IMPORTED_MODULE_17__stores_FriendsActionsStore__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_18__stores_OverlayStore__=__webpack_require__(557),__WEBPACK_IMPORTED_MODULE_19__stores_IpLocationStore__=__webpack_require__(556);exports.m=isActive$,__webpack_require__.d(exports,"e",function(){return myUserProfiles$}),__webpack_require__.d(exports,"r",function(){return getOwnedFriendsByIds$}),__webpack_require__.d(exports,"f",function(){return friendsInFriendsState$}),__webpack_require__.d(exports,"a",function(){return friendsInFriendsStateIds$}),__webpack_require__.d(exports,"b",function(){return friendsInRequestStateIds$}),__webpack_require__.d(exports,"q",function(){return myUserProfilesIds$}),__webpack_require__.d(exports,"k",function(){return friendsUserProfilesIds$}),__webpack_require__.d(exports,"g",function(){return getUsername$}),__webpack_require__.d(exports,"B",function(){return getNbOfFriendsOnline$}),__webpack_require__.d(exports,"z",function(){return getLoadedFriendsActivityFeed$}),__webpack_require__.d(exports,"G",function(){return getLoadedFriendsRequests$}),__webpack_require__.d(exports,"y",function(){return getLoadedOnlineFriends$}),__webpack_require__.d(exports,"p",function(){return gameCustomerSupport$}),__webpack_require__.d(exports,"s",function(){return hasFoundProfilesByName$}),__webpack_require__.d(exports,"t",function(){return foundProfilesByNameIds$}),__webpack_require__.d(exports,"w",function(){return friendsToAdd$}),__webpack_require__.d(exports,"v",function(){return hasFoundFriendsToAdd$}),__webpack_require__.d(exports,"u",function(){return friendsToAddState$}),__webpack_require__.d(exports,"j",function(){return showUserEmailVerificationButton$}),__webpack_require__.d(exports,"J",function(){return isEmailVerificationSent$}),__webpack_require__.d(exports,"l",function(){return getEmailVerificationNotificationsNb$}),__webpack_require__.d(exports,"n",function(){return getHasFriendsInFriendsState$}),__webpack_require__.d(exports,"o",function(){return getHasFriendsInRequestState$}),__webpack_require__.d(exports,"i",function(){return getAllFriends$}),__webpack_require__.d(exports,"A",function(){return getFriendsActivityFeedFiltered$}),__webpack_require__.d(exports,"E",function(){return getOnlineFeedFilteredToShow$}),__webpack_require__.d(exports,"F",function(){return getHasOnlineFeedAfterFiltered$}),__webpack_require__.d(exports,"C",function(){return getHasFriendsActivityFeedAfterFiltered$}),__webpack_require__.d(exports,"D",function(){return getNbFriendsInActivityFeed$}),__webpack_require__.d(exports,"H",function(){return getFriendsRequestsRelatedToTooggleParam$}),__webpack_require__.d(exports,"I",function(){return getFriendsRequestsLength$}),__webpack_require__.d(exports,"d",function(){return gamesSortedByPublishedAt$}),__webpack_require__.d(exports,"c",function(){return gamesByInstallmentId$}),__webpack_require__.d(exports,"x",function(){return friendUserProfiles$}),__webpack_require__.d(exports,"h",function(){return myCountryCode$});var defaultLoadedSelector=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return args.reduce(function(prev,curr){return prev&&curr})},platformsBySpaceId$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("gamesBySpaceId$",__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getByPlatformId,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getById,function(gamesByPlatformId,gamesById){var tmp={};return Object.keys(gamesByPlatformId).forEach(function(spaceId){tmp[spaceId]=gamesById[gamesByPlatformId[spaceId]]}),tmp}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("platformsBySpaceId$",__WEBPACK_IMPORTED_MODULE_5_app_stores_PlatformsStore__.a.getById,function(platforms){return platforms})),myUserProfiles$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserProfiles$",__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(userId,profilesIds,profilesByIds){return profilesIds.filter(function(id){return profilesByIds[id].userId===userId}).map(function(id){return profilesByIds[id]})}),getOwnedFriendsByIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInFriendsState$",__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.getByIds,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.getOwnershipByUserId,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(byIds,ownershipByUserId,userId){var friends={};return ownershipByUserId[userId]?(ownershipByUserId[userId].forEach(function(id){friends[id]=byIds[id]}),friends):friends}),friendsInFriendsState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInFriendsState$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.FRIENDS})}),friendsInFriendsStateIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInFriendsStateIds$",friendsInFriendsState$,function(friends){return friends.map(function(friend){return friend.pid})}),friendsInRequestState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInRequestState$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE})}),friendsInSentInviteState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInSentInviteState$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_SENT_INVITE})}),friendsInRequestStateIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInRequestStateIds$",friendsInRequestState$,function(friends){return friends.map(function(friend){return friend.pid})}),friendsUserProfiles$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfiles$",friendsInFriendsStateIds$,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(userIds,profilesIds,profilesByIds){return profilesIds.filter(function(id){return userIds.includes(profilesByIds[id].userId)}).map(function(id){return profilesByIds[id]})}),myUserProfilesIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserProfilesIds$",myUserProfiles$,function(profiles){return profiles.map(function(p){return p.profileId})}),friendsUserProfilesIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfilesIds$",friendsUserProfiles$,function(profiles){return profiles.map(function(p){return p.profileId})}),friendsUserProfilesIdsByUserId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfilesIdsByUserId$",friendsUserProfiles$,function(profiles){var tmp={};return profiles.forEach(function(profile){tmp[profile.userId]||(tmp[profile.userId]=[]),tmp[profile.userId].push(profile.profileId)}),tmp}),getUsername$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getUsername$",myUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(profileIds,profiles){var id=profileIds.find(function(id){return!!profiles[id]&&profiles[id].platformType===__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.UPLAY});return profiles[id]?profiles[id].nameOnPlatform:null}),getMyClubProfile$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getMyClubProfile$",__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(ids,byId,userId){return byId[ids.find(function(id){return byId[id].profileId===userId})]}),computeLpgByUserIds=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLevel$",getMyClubProfile$,function(profile){return profile&&profile.currentLevel?profile.currentLevel.levelNumber:0}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getUnits$",getMyClubProfile$,function(profile){return profile?profile.units:0}),function(userProfilesIdsByUserId,platformsBySpaceId,userIds,gameIdsbyUserId,gamesById){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.keyBy)(userIds.map(function(userId){var userProfilesIds=userProfilesIdsByUserId[userId]||[],games=[];return userProfilesIds.length&&(games=userProfilesIds.map(function(id){return gameIdsbyUserId[id]?gameIdsbyUserId[id]:[]}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}).map(function(gameId){return gamesById[gameId]}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastSessionDate).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastSessionDate))?1:-1})),0==games.length?null:{id:games[0].id,gameName:games[0].title,publishedAt:games[0].publishedAt,gameCleanUrl:games[0].cleanUrl,lastPlayedDate:games[0].lastSessionDate,platformCode:platformsBySpaceId[games[0].spaceId].code,imageUrl:games[0].thumbUrl,userId:userId,spaceId:games[0].spaceId,coverUrl:games[0].coverUrl}}).filter(function(item){return!!item}),"userId")}),myProfileIdsByUserId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myProfileIdsByUserId$",myUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(profileIds,userId){return _defineProperty({},userId,profileIds)}),myUserIdAsArray$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserIdAsArray",__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(userId){return[userId]}),myLastPlayedGameDict$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGameDict$",myProfileIdsByUserId$,platformsBySpaceId$,myUserIdAsArray$,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getById,computeLpgByUserIds),getNbOfFriendsOnline$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGameEvenIfOwned$",myLastPlayedGameDict$,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(lpg,userId){return lpg[userId]}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedNbOfFriendsOnline$",__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.loaded,defaultLoadedSelector),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNbOfFriendsOnline$",__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(connections,friends){return Object.keys(connections).filter(function(id,index,self){return self.map(function(item){return friends[connections[item].profileId].userId}).indexOf(friends[connections[id].profileId].userId)===index}).length})),getOnlineFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeed$",__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getByUserId,friendsUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_5_app_stores_PlatformsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getByPlatformId,__WEBPACK_IMPORTED_MODULE_12_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,function(connections,friends,userProfilesByUserId,friendsProfilesIds,platforms,games,gamesByPlatformId,avatarsUrl,appId){var spaceIds=Object.keys(platforms),connectionsIdsWithUser=Object.keys(connections).filter(function(id){return friendsProfilesIds.includes(connections[id].profileId)}),withAGame=connectionsIdsWithUser.filter(function(id){return spaceIds.includes(connections[id].spaceIds[0])}),withoutAGame=connectionsIdsWithUser.filter(function(id){return!spaceIds.includes(connections[id].spaceIds[0])}).filter(function(id){return!withAGame.map(function(i){return connections[i].profileId}).includes(connections[id].profileId)}),currentlyPlaying=[];withAGame.forEach(function(id){currentlyPlaying.find(function(playing){return playing.userId==connections[id].profileId})||currentlyPlaying.push(Object.assign({userId:friends[connections[id].profileId].userId,username:friends[friends[connections[id].profileId].userId].nameOnPlatform,avatarUrl:avatarsUrl+"/"+friends[connections[id].profileId].userId+"/default_146_146.png?appId="+appId,isOnline:!0,isCurrentlyPlayingAGame:!0}))}),currentlyPlaying=currentlyPlaying.slice(0);var justOnline=withoutAGame.map(function(id){return Object.assign({userId:connections[id].profileId,username:friends[connections[id].profileId].nameOnPlatform,avatarUrl:avatarsUrl+"/"+friends[connections[id].profileId].userId+"/default_146_146.png?appId="+appId,isOnline:!0,isCurrentlyPlayingAGame:!1})}).slice(0);return currentlyPlaying.concat(justOnline)}),offlineFriendsIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("offlineFriendsIds$",friendsInFriendsStateIds$,__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.getByProfileId,function(friends,connections){return friends.filter(function(id){return!Object.keys(connections).includes(id)})}),getOfflineFriendsWithLPG=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOfflineFriendsWithLPG",friendsUserProfilesIdsByUserId$,platformsBySpaceId$,offlineFriendsIds$,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getById,computeLpgByUserIds),getOfflineFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOfflineFeed$",getOwnedFriendsByIds$,offlineFriendsIds$,getOfflineFriendsWithLPG,__WEBPACK_IMPORTED_MODULE_12_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,function(friends,offlineFriendsIds,friendsWithLPG,avatarUrl,appId){var offlineWithLPG=Object.keys(friendsWithLPG).map(function(userId){return{userId:userId,username:friends[friendsWithLPG[userId].userId].nameOnPlatform,avatarUrl:avatarUrl+"/"+userId+"/default_146_146.png?appId="+appId,isOnline:!1,isCurrentlyPlayingAGame:!1}}).slice(0),friendsWithoutLPG=offlineFriendsIds.filter(function(pid){return!Object.keys(friendsWithLPG).includes(pid)}).map(function(userId){return{userId:userId,username:friends[userId].nameOnPlatform,avatarUrl:avatarUrl+"/"+userId+"/default_146_146.png?appId="+appId,isOnline:!1,isCurrentlyPlayingAGame:!1}}).slice(0);return offlineWithLPG.concat(friendsWithoutLPG)}),getLoadedFriendsActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedFriendsActivityFeed$",__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__.a.loadedFriendsProfiles,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.loadedFriendsProfiles,__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.loaded,defaultLoadedSelector),getLoadedFriendsRequests$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedFriendsRequests$",__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__.a.loadedFriendsProfiles,defaultLoadedSelector),getLoadedOnlineFriends$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedOnlineFriends$",__WEBPACK_IMPORTED_MODULE_8_app_stores_ConnectionsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.loadedFriendsProfiles,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.loaded,defaultLoadedSelector),getFriendsActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeed$",getOnlineFeed$,getOfflineFeed$,function(online,offline){return online.concat(offline.filter(function(offlineFriend){return online.map(function(onlineFriend){return onlineFriend.username}).indexOf(offlineFriend.username)===-1})).sort(function(a,b){return sortFriends(a,b)})}),gameCustomerSupport$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("gameCustomerSupport$",__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_12_app_modules_configuration_queries_ConfigurationQueries__.a.getCustomerSupportUrl,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getByPlatformId,__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getById,function(spaceId,customerSupportUrl,gamesByPlatformId,gamesById){return spaceId&&gamesById[gamesByPlatformId[spaceId]]&&gamesById[gamesByPlatformId[spaceId]].links&&gamesById[gamesByPlatformId[spaceId]].links.supportLink?gamesById[gamesByPlatformId[spaceId]].links.supportLink:customerSupportUrl}),getFriendsRequestsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsNb$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE}).length}),getNotificationsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNotificationsNb$",getFriendsRequestsNb$,function(friends){
return friends}),getFriendsRequests$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequests$",getOwnedFriendsByIds$,__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_12_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,getNotificationsNb$,function(friends,clubProfiles,avatarsUrl,appId,notificationsNb){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastModified).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastModified))?1:-1}).map(function(friend,offset){return{userId:friend.pid,userAvatarUrl:avatarsUrl+"/"+friend.pid+"/default_146_146.png?appId="+appId,userAvatarName:friend.nameOnPlatform,userLevel:clubProfiles[friend.pid]?clubProfiles[friend.pid].currentLevel.levelNumber:0,invitationRequestDate:friend.lastModified,friendState:friend.state,isLatestNotification:offset<notificationsNb}})}),getFriendsInvitations$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitations$",getOwnedFriendsByIds$,__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_12_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,getNotificationsNb$,function(friends,clubProfiles,avatarsUrl,appId,notificationsNb){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_SENT_INVITE}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastModified).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastModified))?1:-1}).map(function(friend,offset){return{userId:friend.pid,userAvatarUrl:avatarsUrl+"/"+friend.pid+"/default_146_146.png?appId="+appId,userAvatarName:friend.nameOnPlatform,userLevel:clubProfiles[friend.pid]?clubProfiles[friend.pid].currentLevel.levelNumber:0,invitationRequestDate:friend.lastModified,friendState:friend.state,isLatestNotification:offset<notificationsNb}})}),foundProfilesByName$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("foundProfilesByName$",__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_14_app_stores_AddFriendStore__.a.getUserNameToSearch,function(friends,name){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.nameOnPlatform==name})}),hasFoundProfilesByName$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasFoundProfilesByName$",foundProfilesByName$,function(friends){return friends.length>=1}),foundProfilesByNameIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("foundProfilesByNameIds$",foundProfilesByName$,function(friends){return friends.map(function(friend){return friend.profileId})}),friendsToAdd$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsToAdd$",getOwnedFriendsByIds$,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_12_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,foundProfilesByName$,hasFoundProfilesByName$,function(friends,userProfiles,clubProfiles,avatarUrl,applicationId,friendsProfilesByName,hasFoundProfilesByName){var friendsToAddFiltered=friendsProfilesByName.slice();if(hasFoundProfilesByName||(friendsToAddFiltered=friendsProfilesByName.filter(function(item){return item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.UPLAY})),friendsToAddFiltered.length){var friendsToAddMaped=friendsToAddFiltered.map(function(item){var friend=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(friends,function(profile){return profile.pid==item.profileId||profile.pid==item.userId}),clubProfile=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(clubProfiles,function(profile){return profile.profileId==item.userId});return{pid:item.userId?item.userId:item.profileId,friendState:friend?friend.state:__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,userAvatarUrl:avatarUrl+"/"+(item.userId?item.userId:item.profileId)+"/default_146_146.png?appId="+applicationId,userName:userProfiles[item.userId]?userProfiles[item.userId].nameOnPlatform:item.nameOnPlatform,level:clubProfile&&clubProfile.currentLevel?clubProfile.currentLevel.levelNumber:0,invitationRequestDate:friend?friend.lastModified:null,hasPsnProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.PSN,psnName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.PSN?item.nameOnPlatform:null,hasSteamProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.STEAM,steamName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.STEAM?item.nameOnPlatform:null,hasXboxProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE,xboxName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE?item.nameOnPlatform:null}}).sort(function(a,b){return a.level>b.level?-1:1});return friendsToAddMaped.length?[friendsToAddMaped[0]]:[]}return[]}),hasFoundFriendsToAdd$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasFoundFriendsToAdd$",friendsToAdd$,function(friends){return friends.length>=1}),friendsToAddState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsToAddState$",friendsToAdd$,function(friends){var state={};return friends.map(function(item){return state[item.pid]=!1}),state}),showUserEmailVerificationButton$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("showUserEmailVerificationButton$",__WEBPACK_IMPORTED_MODULE_15_app_stores_UserEmailVerificationStore__.a.getShowUserEmailVerificationButton,function(showUserEmailVerificationButton){return showUserEmailVerificationButton}),isEmailVerificationSent$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("isEmailVerificationSent$",__WEBPACK_IMPORTED_MODULE_15_app_stores_UserEmailVerificationStore__.a.getIsEmailVerificationSent,function(isEmailVerificationSent){return isEmailVerificationSent}),getEmailVerificationNotificationsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getTotalNotificationsNb$",showUserEmailVerificationButton$,isEmailVerificationSent$,function(showUserEmailVerificationButton,isEmailVerificationSent){return showUserEmailVerificationButton&&!isEmailVerificationSent?1:0}),getHasFriendsInFriendsState$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasProfileCallError$",__WEBPACK_IMPORTED_MODULE_10_app_stores_ClubProfilesStore__.a.getHasError,function(error){return error}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInFriendsState$",friendsInFriendsState$,function(friends){return friends&&friends.length>0})),getHasFriendsInRequestState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInRequestState$",friendsInRequestState$,function(friends){return friends&&friends.length>0}),getAllFriends$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInSentInviteState$",friendsInSentInviteState$,function(friends){return friends&&friends.length>0}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getAllFriends$",getOwnedFriendsByIds$,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.map)(friends,function(friend){return friend})})),getFriendsActivityFeedFiltered$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeedFiltered$",getFriendsActivityFeed$,__WEBPACK_IMPORTED_MODULE_16__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friends,name){return name?friends.filter(function(friend){return friend.username.toLowerCase().indexOf(name.toLowerCase())!==-1}):friends}),getOnlineFeedFiltered$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeedFilteredToShow$",getFriendsActivityFeedFiltered$,getFriendsActivityFeed$,__WEBPACK_IMPORTED_MODULE_16__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friendsFiltered,friends,name){return name&&0==friendsFiltered.length&&friends.length>=1?friends:friendsFiltered}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeedFiltered$",getOnlineFeed$,__WEBPACK_IMPORTED_MODULE_16__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friends,name){return name?friends.filter(function(friend){return friend.username.toLowerCase().indexOf(name.toLowerCase())!==-1}):friends})),getOnlineFeedFilteredToShow$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeedFilteredToShow$",getOnlineFeedFiltered$,getOnlineFeed$,__WEBPACK_IMPORTED_MODULE_16__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friendsFiltered,friends,name){return name&&0==friendsFiltered.length&&friends.length>=1?friends.sort(function(a,b){return sortFriends(a,b)}):friendsFiltered.sort(function(a,b){return sortFriends(a,b)})}),getHasOnlineFeedAfterFiltered$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasOnlineFeedAfterFiltered$",getOnlineFeedFiltered$,function(friends){return friends.length>=1}),getHasFriendsActivityFeedAfterFiltered$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsActivityFeedAfterFiltered$",getFriendsActivityFeedFiltered$,function(friends){return friends.length>=1}),getNbFriendsInActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNbFriendsInActivityFeed$",getFriendsActivityFeed$,function(friends){return friends.length}),getFriendsRequestsRelatedToTooggleParam$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsRelatedToTooggleParam$",getFriendsRequests$,__WEBPACK_IMPORTED_MODULE_17__stores_FriendsActionsStore__.a.getShowMoreFriendRequests,function(friends,toggle){return toggle?friends.slice(0,2):friends}),getFriendsRequestsLength$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitationsRelatedToTooggleParam$",getFriendsInvitations$,__WEBPACK_IMPORTED_MODULE_17__stores_FriendsActionsStore__.a.getShowMoreFriendInvitations,function(friends,toggle){return toggle?friends.slice(0,2):friends}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsLength$",getFriendsRequests$,function(friends){return friends.length})),gamesSortedByPublishedAt$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitationsLength$",getFriendsInvitations$,function(friends){return friends.length}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("nbConnections$",getFriendsRequestsLength$,getNbOfFriendsOnline$,function(nbFriendsRequests,nbOfFriendsOnline){return nbFriendsRequests+nbOfFriendsOnline}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5_app_stores_PlatformsStore__.a.getByGameId,function(gamesById,platformsByGameId){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.map)(gamesById,function(game){return game}).filter(function(game){return platformsByGameId[game.id].length>0}).filter(function(game){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(game.publishedAt).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()())}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.publishedAt).isAfter(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.publishedAt))?-1:1})})),gamesByInstallmentId$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getUserPlatformType$",myUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(profileIds,profiles){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(profiles,function(profile,profileId){return profileIds.indexOf(profileId)!==-1})}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("gamesBySpaceInstallmentId$",__WEBPACK_IMPORTED_MODULE_4_app_stores_GamesStore__.a.getById,function(gamesById){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.keyBy)(gamesById,"installmentId")})),friendUserProfiles$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendUserProfiles$",function(state,props){return props.friendId},__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.getById,function(userId,profilesIds,profilesByIds){return profilesIds.filter(function(id){return profilesByIds[id].userId===userId}).map(function(id){return profilesByIds[id]})}),myCountryCode$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myCountryCode$",__WEBPACK_IMPORTED_MODULE_19__stores_IpLocationStore__.a.getByProfileId,__WEBPACK_IMPORTED_MODULE_19__stores_IpLocationStore__.a.getByIp,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(byProfileId,byIp,userId){return byProfileId&&byIp?byIp[byProfileId[userId]].countryCode:null}),sortFriends=function(a,b){return a.isCurrentlyPlayingAGame&&b.isCurrentlyPlayingAGame?a.username.toLowerCase()>b.username.toLowerCase()?1:-1:a.isCurrentlyPlayingAGame&&b.isOnline?-1:a.isOnline&&b.isCurrentlyPlayingAGame?1:a.isOnline&&b.isOnline?a.username.toLowerCase()>b.username.toLowerCase()?1:-1:!a.isOnline&&!a.isCurrentlyPlayingAGame||b.isOnline||b.isCurrentlyPlayingAGame?a.isOnline||a.isCurrentlyPlayingAGame||!b.isOnline&&!b.isCurrentlyPlayingAGame?a.username.toLowerCase()>b.username.toLowerCase()?1:-1:1:-1}},,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(28));__webpack_require__.d(exports,"a",function(){return WidgetQueries});var WidgetQueries=function WidgetQueries(){_classCallCheck(this,WidgetQueries)};WidgetQueries.getShowFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showFriends}),WidgetQueries.getShowMobileTabs=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showMobileTabs}),WidgetQueries.getBooted=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.booted}),WidgetQueries.getIsInMobileView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.isInMobileView}),WidgetQueries.getNoActiveClickOnMenu=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.noActiveClickOnMenu}),WidgetQueries.getNewLastPlayGameInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.newLastPlayGameInstallmentId}),WidgetQueries.getShowNotifications=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showNotifications}),WidgetQueries.getIsOnArabLocale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasArabLanguage,function(widgetStore,hasArabLanguage){return null===widgetStore.isOnArabLocale?hasArabLanguage:widgetStore.isOnArabLocale}),WidgetQueries.isSafari=function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},WidgetQueries.getHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.height}),WidgetQueries.getParentHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.windowHeight}),WidgetQueries.getShowPlayerCardDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showPlayerCardDetails}),WidgetQueries.getShowFriendsDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showFriendsDetails}),WidgetQueries.getShowDetailsView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showDetailsView}),WidgetQueries.getShowMobileViewOnDesktop=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showMobileViewOnDesktop}),WidgetQueries.getIosVersion=function(){var version=null;if(/iP(hone|od|ad)/.test(navigator.platform)){var match=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(void 0!==match&&null!==match){var paseVersion=[parseInt(match[1],10),parseInt(match[2],10),parseInt(match[3],10)];version=paseVersion[0]}}return version},WidgetQueries.getisOnIpad=function(){return/iPad/.test(navigator.platform)},WidgetQueries.getIsIsoVersionLowerThanNine=function(){return null!==WidgetQueries.getIosVersion()&&WidgetQueries.getIosVersion()<=9},WidgetQueries.getIsIos=function(){return null!==WidgetQueries.getIosVersion()},WidgetQueries.getRemCoefSize=function(){return document.querySelector("html").style&&document.querySelector("html").style.fontSize?parseFloat(document.querySelector("html").style.fontSize.replace(/[^0-9\.]+/g,"")):10},WidgetQueries.getParentUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.parentUrl}),WidgetQueries.getSsoId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.ssoId}),WidgetQueries.getConnectLoginUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.connectLoginUrl}),WidgetQueries.getConnectUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.connectUrl}),WidgetQueries.getCONNECTloginData=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.CONNECTloginData}),WidgetQueries.getStartedPanelFlow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.startedPanelFlow}),WidgetQueries.getShowStatsHeaderOnPlayerCardDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showStatsHeaderOnPlayerCardDetails}),WidgetQueries.getShowStatsHeaderOnFriendsDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showStatsHeaderOnFriendsDetails}),WidgetQueries.getShowNameHeaderOnFriendsDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showNameHeaderOnFriendsDetails}),WidgetQueries.getIntegratorConfigurationHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHeight,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getMobileHeight,function(widgetStore,height,mobileHeight){return widgetStore.isInMobileView&&mobileHeight?mobileHeight:height?height:50}),WidgetQueries.getTrackingBannerHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.trackingBannerHeight}),WidgetQueries.getCollapsedHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getScrollbarWidth",WidgetQueries.getIsInMobileView,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHeight,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getMobileHeight,function(inMobileView,height,mobileHeight){return inMobileView&&mobileHeight?mobileHeight:height})},,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_lodash__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(27)),__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_services_IntegratorConfigurationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__),__webpack_require__(754)),__WEBPACK_IMPORTED_MODULE_5_messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_7_app_actions_ShowFriendsActivityAction__=__webpack_require__(515),__WEBPACK_IMPORTED_MODULE_8_app_actions_HideFriendsActivityAction__=__webpack_require__(493),__WEBPACK_IMPORTED_MODULE_9_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(145),__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_11_app_actions_ResizeWidgetAction__=__webpack_require__(509),__WEBPACK_IMPORTED_MODULE_12__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_13_app_modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__stejar_translate__),__webpack_require__(37)),__WEBPACK_IMPORTED_MODULE_14_app_services_GamesService__=__webpack_require__(182),__WEBPACK_IMPORTED_MODULE_15_app_services_RewardsService__=__webpack_require__(554),__WEBPACK_IMPORTED_MODULE_16_app_actions_LoadingRewardsAction__=__webpack_require__(244),__WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingGameStatsAction__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_18_app_selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_19_app_actions_ShowMobileTabsAction__=__webpack_require__(516),__WEBPACK_IMPORTED_MODULE_20_app_actions_HideMobileTabsAction__=__webpack_require__(494),__WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__=__webpack_require__(523),__WEBPACK_IMPORTED_MODULE_22_app_actions_ChangeLastPlayedGameAction__=__webpack_require__(479),__WEBPACK_IMPORTED_MODULE_23_app_actions_LoadingGamesAction__=__webpack_require__(243),__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_communication_services_WidgetService__=__webpack_require__(753),__WEBPACK_IMPORTED_MODULE_25_app_services_ProfilesService__=__webpack_require__(76),__WEBPACK_IMPORTED_MODULE_26_app_services_FriendsService__=__webpack_require__(181),__WEBPACK_IMPORTED_MODULE_27_app_actions_HideAddFriendsAction__=__webpack_require__(231),__WEBPACK_IMPORTED_MODULE_28_app_actions_LoadingAddFriendsAction__=__webpack_require__(242),__WEBPACK_IMPORTED_MODULE_29_app_actions_HideNotificationsPanelAction__=__webpack_require__(495),__WEBPACK_IMPORTED_MODULE_30_app_actions_ShowNotificationsPanelAction__=__webpack_require__(517),__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_32__stejar_http__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_33_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_32__stejar_http__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_34_app_actions_LoadedEnvAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_33_ubisoft_api__),__webpack_require__(496)),__WEBPACK_IMPORTED_MODULE_35_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_36_app_actions_ToggleVisitedNotificationsAction__=__webpack_require__(719),__WEBPACK_IMPORTED_MODULE_37__actions_SelectArabLanguageAction__=__webpack_require__(246),__WEBPACK_IMPORTED_MODULE_38__actions_DeselectArabLanguageAction__=__webpack_require__(230),__WEBPACK_IMPORTED_MODULE_39__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_40__actions_ResizeWidgetHeightAction__=__webpack_require__(510),__WEBPACK_IMPORTED_MODULE_41__actions_ChangeLPGPlatformAction__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_42__actions_SetParentUrlAction__=__webpack_require__(512),__WEBPACK_IMPORTED_MODULE_43__actions_SetSsoIdAction__=__webpack_require__(513),__WEBPACK_IMPORTED_MODULE_44__EmailVerificationService__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_45_ubisoft_connect__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_46__actions_UserEmailVerificationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_45_ubisoft_connect__),__webpack_require__(260)),__WEBPACK_IMPORTED_MODULE_47__actions_ConnectLoginUrlAction__=__webpack_require__(490),__WEBPACK_IMPORTED_MODULE_48__services_WidgetChannelService__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_49__services_GeneralChannelService__=__webpack_require__(276),__WEBPACK_IMPORTED_MODULE_50__actions_DeleteCONNECTloginDataAction__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_51__stejar_configuration__=__webpack_require__(121),__WEBPACK_IMPORTED_MODULE_52__actions_ResizeWidgetParentHeightAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_51__stejar_configuration__),__webpack_require__(511)),__WEBPACK_IMPORTED_MODULE_53__queries_OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_54__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_55__stores_PlatformsStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_56__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_57__actions_OverlayOpenAction__=__webpack_require__(508),__WEBPACK_IMPORTED_MODULE_58__actions_OverlayCloseAction__=__webpack_require__(507),__WEBPACK_IMPORTED_MODULE_59__actions_ShowDetailsViewAction__=__webpack_require__(514),__WEBPACK_IMPORTED_MODULE_60__actions_ChangeCarouselLPGAction__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_61__actions_ChangeUserNameAction__=__webpack_require__(228),__WEBPACK_IMPORTED_MODULE_62__actions_ChangeUserNameShowRulesAction__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_63__actions_ToggleShowResizeAvatarAction__=__webpack_require__(255),__WEBPACK_IMPORTED_MODULE_64__actions_UploadAvatarAction__=__webpack_require__(259),__WEBPACK_IMPORTED_MODULE_65__actions_ChangeAvatarSelectedAction__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_66__actions_ToggleShowAvatarComponentAction__=__webpack_require__(248),__WEBPACK_IMPORTED_MODULE_67__actions_ToggleShowSelecteAvatarOverlayAction__=__webpack_require__(256),__WEBPACK_IMPORTED_MODULE_68__actions_ToggleShowAvatarTooltipAction__=__webpack_require__(249),__WEBPACK_IMPORTED_MODULE_69__actions_ToggleShowGameContentAction__=__webpack_require__(253),__WEBPACK_IMPORTED_MODULE_70__entities_Overlay__=__webpack_require__(739),__WEBPACK_IMPORTED_MODULE_71__actions_ToggleAddFriendsTabAction__=__webpack_require__(247),__WEBPACK_IMPORTED_MODULE_72__actions_LoadedAddFriendsStatAction__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_73__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_74__actions_ToggleShowFriendsTabDetailsViewAction__=__webpack_require__(176),__WEBPACK_IMPORTED_MODULE_75__services_ConnectionsService__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_76__actions_ToggleShowFriendProfileContentAction__=__webpack_require__(250),__WEBPACK_IMPORTED_MODULE_77__actions_LoadedFriendsClubProfilesAction__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_79__actions_LoadedFriendsUserProfilesAction__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_80__stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_81__actions_LoadedConnectionsAction__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_82__stores_ConnectionsStore__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_83__services_BetaNotificationsService__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_84__stores_NewsStore__=__webpack_require__(147),__WEBPACK_IMPORTED_MODULE_85__stores_ProfileEntitiesStore__=__webpack_require__(148),__WEBPACK_IMPORTED_MODULE_86__stores_PopulationsStore__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_87__actions_ToggleShowMobileViewOnDesktopAction__=__webpack_require__(527),__WEBPACK_IMPORTED_MODULE_88__actions_ChangeFriendGamesCarouselLPGAction__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_89__actions_ChangeFriendPlatformAction__=__webpack_require__(226),__WEBPACK_IMPORTED_MODULE_90__actions_ToggleShowFrindProfileStatsAction__=__webpack_require__(252),__WEBPACK_IMPORTED_MODULE_91__actions_StartedPanelFlowAction__=__webpack_require__(519),__WEBPACK_IMPORTED_MODULE_92__entities_ScrollUpdate__=__webpack_require__(262),__WEBPACK_IMPORTED_MODULE_93__stores_StatsComparisonStore__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_94__stores_OtherGamesCarouselStore__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_95__actions_ToggleShowStatsHeaderOnPlayerCardDetails__=__webpack_require__(258),__WEBPACK_IMPORTED_MODULE_96__stores_FriendProfileStore__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_97__actions_ToggleShowStatsHeaderOnFriendsDetails__=__webpack_require__(257),__WEBPACK_IMPORTED_MODULE_98__services_GamesAggregationService__=__webpack_require__(275),__WEBPACK_IMPORTED_MODULE_99__services_FriendsAggregationService__=__webpack_require__(551),__WEBPACK_IMPORTED_MODULE_100__actions_ToggleShowNameHeaderOnFriendsDetails__=__webpack_require__(254),__WEBPACK_IMPORTED_MODULE_101_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_101_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_101_moment__);
__webpack_require__.d(exports,"a",function(){return CommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},CommunicationService=function(_AbstractActions){function CommunicationService(integratorConfigurationService,pageLoaderService,translatorService,gamesService,rewardsService,tagCommanderService,profilesService,friendsService,service,apiConfiguration,emailVerificationService,channel,generalChannel,configurationService,connectionsService,betaNotificationsService,gamesAggregationService,friendsAggregationService){_classCallCheck(this,CommunicationService);var _this=_possibleConstructorReturn(this,(CommunicationService.__proto__||Object.getPrototypeOf(CommunicationService)).call(this));return _this.integratorConfigurationService=integratorConfigurationService,_this.pageLoaderService=pageLoaderService,_this.translatorService=translatorService,_this.gamesService=gamesService,_this.rewardsService=rewardsService,_this.tagCommanderService=tagCommanderService,_this.profilesService=profilesService,_this.friendsService=friendsService,_this.service=service,_this.apiConfiguration=apiConfiguration,_this.emailVerificationService=emailVerificationService,_this.channel=channel,_this.generalChannel=generalChannel,_this.configurationService=configurationService,_this.connectionsService=connectionsService,_this.betaNotificationsService=betaNotificationsService,_this.gamesAggregationService=gamesAggregationService,_this.friendsAggregationService=friendsAggregationService,_this.windowsHeight=null,_this.windowsWidth=null,_this.iframeBoundingClientRect=null,_this}return _inherits(CommunicationService,_AbstractActions),_createClass(CommunicationService,[{key:"startCommunication",value:function(){var _this2=this;return new Promise(function(resolve){if(_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_BOOTSTRAP,function(configuration){return _this2.integratorConfigurationService.loadConfiguration(configuration),_this2.hideAllTabs(),resolve()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_HANDLE_BACKDROP_CLICK,function(){_this2.hideFriends(),_this2.hidePlayerCard(),_this2.hideNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_COLLAPSE,function(){_this2.hidePlayerCard(),_this2.hideFriends(),_this2.hideNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_EXPAND_FRIENDS,function(){return _this2.showFriends()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_EXPAND_PLAYER_CARD,function(){return _this2.showPlayerCard()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_EXPAND_NOTIFICATIONS,function(){return _this2.showNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_RESIZED_WINDOW,function(payload){return _this2.addMobileClass(payload)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_LOCALE,function(locale){return _this2.changeLocale(locale)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_GAME,function(installmentId){return _this2.changeLastPlayedGame(installmentId)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_TRACKING_SITE_SECTION,function(siteSection){return _this2.changeTrackingSiteSection(siteSection)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_ENV,function(env){return _this2.changeEnv(env)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_FRIEND_PROFILE_TYPE,function(type){return _this2.changeFriendsProfileType(type)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_LOGIN_TYPE,function(type){return _this2.changeLoginType(type)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_DARK_BACKGROUND,function(toggle){return _this2.handleToggleDarkBackground(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TOGGLE_DESKTOP_RESIZE,function(toggle){return _this2.toggleDesktopResize(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TOGGLE_SIGN_IN_TEXT,function(toggle){return _this2.toggleSignInText(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_URL,function(url){return _this2.setParentUrl(url)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_SOS_ID,function(ssoID){return _this2.setSsoId(ssoID)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TICKET_ERROR,function(){return _this2.deleteTicket()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TRIGGER_EMAIL_VERIFICATION,function(triggerEmailResponse){return _this2.onTriggerEmailActivation(triggerEmailResponse)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TRIGGER_LOGOUT,function(){return _this2.onTriggerLogout()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TRIGGER_USER_DATA_SUCCESS,function(userData){return _this2.onUserDataSuccess(userData)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TRIGGER_USER_DATA_ERROR,function(){return _this2.onUserDataFailure()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,function(payload){return _this2.onSetConnectLoginUrl(payload.loginUrl,payload.connectUrl)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_GET_TICKET,function(){return _this2.getTicket()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_GET_CONNECT_CALLBACKS_PARAMS,function(){return _this2.getConnectCallbacksParams()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_INITIAL_WINDOW_HEIGHT,function(innerHeight){return _this2.setInitalWindowHeight(innerHeight)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_GET_IFRAME_BOUNDING_CLIENT_RECT,function(payload){return _this2.setInitalWindowsParams(payload.innerWidth,payload.innerHeight,payload.iframeBoundingClientRect)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_OPEN_POPUP_WINDOW,function(payload){return _this2.openPopupWindow(payload)}),_this2.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_INITIALIZE),window.parent.parent===window)return resolve()})}},{key:"clickedOnLogout",value:function(noPageLoaderEvents){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.hidePlayerCard(),noPageLoaderEvents){_context.next=4;break}return _context.next=4,this.pageLoaderService.showPageLoader();case 4:this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_TRIGGER_LOGOUT,{ticket:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket,sessionId:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId});case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"loggedIn",value:function(identity,afterLogin,isReInit){var action=__WEBPACK_IMPORTED_MODULE_39__messages__.b.INIT,getTicket={op:"getTicket",status:"error"};afterLogin&&(action=__WEBPACK_IMPORTED_MODULE_39__messages__.b.LOGIN,this.tagCommanderService.trackAuthEvent()),isReInit&&(action=__WEBPACK_IMPORTED_MODULE_39__messages__.b.REINIT),identity?getTicket={op:identity.opId,status:"ok",payload:{expiration:identity.expiration,ticket:identity.ticket,userId:identity.user_id,sessionId:identity.sessionId,nameOnPlatform:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18_app_selectors__.g)(this.getState())}}:getTicket.errorMessage="no login data available",this.hidePlayerCard(),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_LOGGED_IN,{action:action,getTicket:getTicket})}},{key:"clickedOnFriends",value:function(){return __WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())?this.hideFriends():(this.tagCommanderService.trackEvent("Nav - Ubibar - Friends Panel","Overlay"),this.showFriends())}},{key:"clickedOnMobileFriends",value:function(){var _this3=this;if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.tagCommanderService.trackEvent("Nav - Ubibar - Friends Panel","Overlay"),this.showFriends()}},{key:"clickedOnPlayerCard",value:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())?this.hidePlayerCard():(this.tagCommanderService.trackEvent("Nav - Ubibar - Open User Panel","Overlay"),this.showPlayerCard())}},{key:"clickedOnMobilePlayerCardTab",value:function(){var _this4=this;if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this4.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.tagCommanderService.trackEvent("Nav - Ubibar - Open User Panel","Overlay"),this.showPlayerCard()}},{key:"clickedOnMobilePlayerCard",value:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_20_app_actions_HideMobileTabsAction__.a),this.hideMobileTabs(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())&&this.hidePlayerCard(),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())&&this.hideFriends(),void(__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications())):(this.tagCommanderService.trackEvent("Nav - Ubibar - Open User Panel","Overlay"),this.showPlayerCard())}},{key:"clickedOnNotifications",value:function(){return __WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?this.hideNotifications():(this.tagCommanderService.trackEvent("Nav - Ubibar - Notifications Panel","Overlay"),this.showNotifications())}},{key:"clickedOnMobileNotifications",value:function(){var _this5=this;if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this5.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.tagCommanderService.trackEvent("Nav - Ubibar - Notifications Panel","Overlay"),this.showNotifications()}},{key:"clickedOnMenu",value:function(){return this.dispatch(new __WEBPACK_IMPORTED_MODULE_20_app_actions_HideMobileTabsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_95__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_97__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1))),this.hideMobileTabs(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())?this.hidePlayerCard():__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())?this.hideFriends():__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?this.hideNotifications():void 0}},{key:"clickedOnClosePlayerCard",value:function(){return this.hidePlayerCard()}},{key:"clickedOnCloseFriends",value:function(){return this.hideFriends()}},{key:"clickedOnCloseNotifications",value:function(){return this.hideNotifications()}},{key:"doShowFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context2.next=3;break}return _context2.next=3,this.toggleOpenDetailsViewState(!1,null);case 3:this.dispatch(new __WEBPACK_IMPORTED_MODULE_7_app_actions_ShowFriendsActivityAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ShowMobileTabsAction__.a),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_5_messages__.d.FRIENDS),this.onExpandFriends(),this.showMobileTabs();case 9:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"showFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())){_context3.next=2;break}return _context3.abrupt("return");case 2:if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())){_context3.next=5;break}return _context3.next=5,this.hidePlayerCard(!0);case 5:return __WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications(!0),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())&&this.dispatchIntegratorGetIframeBoundingClientRect(),this.doShowFriends(),_context3.abrupt("return");case 9:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"hideFriends",value:function(shouldNotCollapse){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())){_context4.next=2;break}return _context4.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context4.next=5;break}return _context4.next=5,this.toggleOpenDetailsViewState(!1,null);case 5:return _context4.next=7,this.dispatch(new __WEBPACK_IMPORTED_MODULE_8_app_actions_HideFriendsActivityAction__.a);case 7:if(!shouldNotCollapse){_context4.next=10;break}return document.body.classList.remove("expanded"),_context4.abrupt("return");case 10:return this.hideBackdrop(),this.collapse(),_context4.abrupt("return");case 13:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"doShowPlayerCard",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_57__actions_OverlayOpenAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ShowMobileTabsAction__.a),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_5_messages__.d.PLAYER_CARD),this.showMobileTabs(),_context5.abrupt("return");case 6:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"showPlayerCard",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())){_context6.next=2;break}return _context6.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())){_context6.next=5;break}return _context6.next=5,this.hideFriends(!0);case 5:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications(!0),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&this.dispatchIntegratorGetIframeBoundingClientRect(),this.doShowPlayerCard();case 8:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"hidePlayerCard",value:function(shouldNotCollapse){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())){_context7.next=2;break}return _context7.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context7.next=5;break}return _context7.next=5,this.toggleOpenDetailsViewState(!1,null);case 5:return _context7.next=7,this.dispatch(new __WEBPACK_IMPORTED_MODULE_58__actions_OverlayCloseAction__.a);case 7:if(!shouldNotCollapse){_context7.next=10;break}return document.body.classList.remove("expanded"),_context7.abrupt("return");case 10:return this.hideBackdrop(),this.collapse(),_context7.abrupt("return");case 13:case"end":return _context7.stop()}},_callee7,this)}))}},{key:"doShowNotifications",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(__WEBPACK_IMPORTED_MODULE_86__stores_PopulationsStore__.a.loaded(this.getState())&&__WEBPACK_IMPORTED_MODULE_85__stores_ProfileEntitiesStore__.a.loaded(this.getState())&&__WEBPACK_IMPORTED_MODULE_84__stores_NewsStore__.a.loaded(this.getState())&&this.betaNotificationsService.seenAllNotifications(!0,!1,!0),!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context8.next=4;break}return _context8.next=4,this.toggleOpenDetailsViewState(!1,null);case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_30_app_actions_ShowNotificationsPanelAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ShowMobileTabsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_36_app_actions_ToggleVisitedNotificationsAction__.a((!0))),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_5_messages__.d.NOTIFICATIONS),this.showMobileTabs(),_context8.abrupt("return");case 11:case"end":return _context8.stop()}},_callee8,this)}))}},{key:"showNotifications",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())){_context9.next=2;break}return _context9.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())){_context9.next=5;break}return _context9.next=5,this.hideFriends(!0);case 5:if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())){_context9.next=8;break}return _context9.next=8,this.hidePlayerCard(!0);case 8:this.doShowNotifications();case 9:case"end":return _context9.stop()}},_callee9,this)}))}},{key:"hideNotifications",value:function(shouldNotCollapse){if(__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())){if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_29_app_actions_HideNotificationsPanelAction__.a),this.betaNotificationsService.seenAllNotifications(!0,!0,!0),shouldNotCollapse)return void document.body.classList.remove("expanded");this.hideBackdrop(),this.collapse()}}},{key:"hideAllTabs",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee10(){return regeneratorRuntime.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())){_context10.next=3;break}return _context10.next=3,this.toggleOpenDetailsViewState(!1,null);case 3:this.dispatch(new __WEBPACK_IMPORTED_MODULE_58__actions_OverlayCloseAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8_app_actions_HideFriendsActivityAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_29_app_actions_HideNotificationsPanelAction__.a),this.hideBackdrop(),this.collapse(),this.hideMobileTabs();case 9:case"end":return _context10.stop()}},_callee10,this)}))}},{key:"showBackdrop",value:function(){return this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_SHOW_BACKDROP)}},{key:"hideBackdrop",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_HIDE_BACKDROP)}},{key:"expand",value:function(panel){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_EXPAND),_context11.next=3,new Promise(function(resolve){return setTimeout(function(){return resolve()},301)});case 3:document.body.classList.add("expanded");case 4:case"end":return _context11.stop()}},_callee11,this)}))}},{key:"collapse",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee12(){return regeneratorRuntime.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:this.dispatch(new __WEBPACK_IMPORTED_MODULE_20_app_actions_HideMobileTabsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_95__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_97__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1))),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_COLLAPSE),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIntegratorConfigurationHeight(this.getState())),document.body.classList.remove("expanded");case 6:case"end":return _context12.stop()}},_callee12,this)}))}},{key:"showMobileTabs",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_SHOW_MOBILE_TABS)}},{key:"hideMobileTabs",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_HIDE_MOBILE_TABS)}},{key:"addMobileClass",value:function(windowSize){this.changeIframeWidthInCorelationToParentWindowWidth(windowSize.innerWidth,windowSize.innerHeight,windowSize.iframeBoundingClientRect),windowSize.innerWidth<=__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_RESIZE_WIDTH||windowSize.innerWidth<=__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_MOBILE_WIDTH&&windowSize.innerHeight<windowSize.innerWidth&&__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_communication_services_WidgetService__.a.isMobileDevice()?(document.body.classList.contains("mobile")||document.body.classList.add("mobile"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11_app_actions_ResizeWidgetAction__.a((!0)))):(document.body.classList.contains("mobile")&&document.body.classList.remove("mobile"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11_app_actions_ResizeWidgetAction__.a((!1)))),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowMobileTabs(this.state)&&this.showMobileTabs();var privacyFooter=0;return document.getElementById("footer_tc_privacy")&&(privacyFooter=document.getElementById("footer_tc_privacy").offsetHeight),this.windowsHeight=windowSize.innerHeight,this.windowsWidth=windowSize.innerWidth,this.iframeBoundingClientRect=windowSize.iframeBoundingClientRect,this.dispatch(new __WEBPACK_IMPORTED_MODULE_52__actions_ResizeWidgetParentHeightAction__.a(windowSize.innerHeight,privacyFooter)),this.resizeHight(windowSize.innerHeight,windowSize.iframeHeight),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_RESIZE,{isInExpandedMode:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState()),showSignInText:__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).showSignInText,locale:__WEBPACK_IMPORTED_MODULE_12__stejar_translate__.LocaleQueries.getCurrentLocale(this.getState())})}},{key:"openLoginModal",value:function(connectIFrameUrl){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_OPEN_LOGIN_MODAL,connectIFrameUrl)}},{key:"changeLocale",value:function(locale){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee13(){return regeneratorRuntime.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return"ar-ae"===locale.toLowerCase()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_37__actions_SelectArabLanguageAction__.a):this.dispatch(new __WEBPACK_IMPORTED_MODULE_38__actions_DeselectArabLanguageAction__.a),this.dispatchIntegratorGetIframeBoundingClientRect(),_context13.prev=2,_context13.next=5,this.translatorService.loadLocale(locale);case 5:_context13.next=10;break;case 7:_context13.prev=7,_context13.t0=_context13["catch"](2),locale="en-GB";case 10:this.translatorService.changeLocale(locale),_context13.prev=11,_context13.t1=locale,_context13.next="en-GB"===_context13.t1?15:"en-US"===_context13.t1?18:"en-CA"===_context13.t1?18:"pt-BR"===_context13.t1?20:"zh-CN"===_context13.t1?22:"zh-TW"===_context13.t1?24:26;break;case 15:return __WEBPACK_IMPORTED_MODULE_101_moment___default.a.defineLocale("en-gb",{parentLocale:"en",longDateFormat:{L:"DD/MM/YYYY"}}),this.translatorService.registerDateLocale("en-gb"),_context13.abrupt("break",26);case 18:return this.translatorService.registerDateLocale("en"),_context13.abrupt("break",26);case 20:return this.translatorService.registerDateLocale("pt-br"),_context13.abrupt("break",26);case 22:return this.translatorService.registerDateLocale("zh-cn"),_context13.abrupt("break",26);case 24:return this.translatorService.registerDateLocale("zh-tw"),_context13.abrupt("break",26);case 26:_context13.next=31;break;case 28:_context13.prev=28,_context13.t2=_context13["catch"](11),console.warn(_context13.t2);case 31:if(this.tagCommanderService.changeLanguage(),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_LOCALE,{locale:locale,showSignInText:__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).showSignInText}),!__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())||!__WEBPACK_IMPORTED_MODULE_53__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed(this.getState())){_context13.next=38;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16_app_actions_LoadingRewardsAction__.a),_context13.next=38,Promise.all([this.gamesService.loadLastPlayedGameStatsCard(),this.rewardsService.loadUserRewards()]);case 38:case"end":return _context13.stop()}},_callee13,this,[[2,7],[11,28]])}))}},{key:"changeTrackingSiteSection",value:function(siteSection){this.tagCommanderService.changeTrackingSiteSection(siteSection)}},{key:"changeLastPlayedGame",value:function(installmentId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee14(){var otherGames,game,offset,id,spaceId,platformCode,_this6=this;return regeneratorRuntime.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:if(__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getInstallmentId(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getNewLastPlayGameInstallmentId(this.getState())){_context14.next=3;break}return _context14.next=3,this.gamesAggregationService.loadComingSoonGames();case 3:return otherGames=__WEBPACK_IMPORTED_MODULE_53__queries_OtherGamesCarouselQueries__.a.getOtherGamesPlayed(this.getState()),game=__WEBPACK_IMPORTED_MODULE_53__queries_OtherGamesCarouselQueries__.a.computeGameByInstallmentId(installmentId,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.c)(this.getState()),__WEBPACK_IMPORTED_MODULE_55__stores_PlatformsStore__.a.getByGameId(this.getState()),__WEBPACK_IMPORTED_MODULE_55__stores_PlatformsStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())),offset=0,otherGames.find(function(otherGame,index){return offset=index,otherGame.installmentId==installmentId}),id=game?game.id:null,spaceId=game?game.spaceId:null,platformCode=game?game.platformCode:null,this.dispatch(new __WEBPACK_IMPORTED_MODULE_23_app_actions_LoadingGamesAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16_app_actions_LoadingRewardsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22_app_actions_ChangeLastPlayedGameAction__.a(installmentId?installmentId:null)),_context14.next=16,new Promise(function(resolve){return setTimeout(function(){return resolve()},100)});case 16:if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_60__actions_ChangeCarouselLPGAction__.a(offset,id,spaceId,platformCode)),
this.dispatch(new __WEBPACK_IMPORTED_MODULE_41__actions_ChangeLPGPlatformAction__.a(id,spaceId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_23_app_actions_LoadingGamesAction__.a((!1))),!__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.getState())){_context14.next=22;break}return _context14.next=22,Promise.all([this.loadFriendsPalyingGame(installmentId).then(function(){return _this6.gamesService.loadMyLastPlayedGameStatsWithFriends(spaceId)})["catch"](function(){return _this6.gamesService.loadMyLastPlayedGameStatsWithFriends(spaceId)}),this.rewardsService.loadUserRewards(spaceId)]);case 22:case"end":return _context14.stop()}},_callee14,this)}))}},{key:"changeEnv",value:function(env){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee15(){return regeneratorRuntime.wrap(function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:_context15.next=12;break;case 3:_context15.t0=env,_context15.next="cert2"===_context15.t0?6:"dev"===_context15.t0?6:"dev-prod"===_context15.t0?6:"local-prod"===_context15.t0?6:"prod"===_context15.t0?6:"uat"===_context15.t0?6:"uat-prod"===_context15.t0?6:9;break;case 6:return _context15.next=8,this.resetSateForConfigChange(new __WEBPACK_IMPORTED_MODULE_32__stejar_http__.HttpRequest(__webpack_require__(165)("./"+env+".json")));case 8:return _context15.abrupt("return");case 9:return _context15.next=11,this.resetSateForConfigChange(new __WEBPACK_IMPORTED_MODULE_32__stejar_http__.HttpRequest(__webpack_require__(184)));case 11:return _context15.abrupt("return");case 12:return _context15.abrupt("return");case 13:case"end":return _context15.stop()}},_callee15,this)}))}},{key:"resetSateForConfigChange",value:function(request){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee16(){var configCall;return regeneratorRuntime.wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.abrupt("return",Promise.resolve());case 2:return _context16.next=4,this.pageLoaderService.showPageLoader();case 4:if(!__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.AuthenticationQueries.hasIdentity(this.state)){_context16.next=7;break}return _context16.next=7,this.clickedOnLogout();case 7:return _context16.next=9,this.loadConfig(request);case 9:return configCall=_context16.sent,this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_TRIGGER_CHANGE_CONFIG,configCall),_context16.next=13,this.pageLoaderService.hidePageLoader();case 13:return _context16.abrupt("return",configCall);case 14:case"end":return _context16.stop()}},_callee16,this)}))}},{key:"loadConfig",value:function(request){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee18(){var _this7=this;return regeneratorRuntime.wrap(function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return _context18.abrupt("return",Promise.resolve());case 2:return _context18.next=4,this.service.send(request).then(function(response){return JSON.parse(response.data.replace("module.exports = ","").replace("};","}"))}).then(function(newConfig){return __awaiter(_this7,void 0,void 0,regeneratorRuntime.mark(function _callee17(){return regeneratorRuntime.wrap(function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _context17.prev=0,localStorage.setItem("overlay-env-v3",JSON.stringify(newConfig.env)),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_ENV_LOADED,newConfig),this.dispatch(new __WEBPACK_IMPORTED_MODULE_34_app_actions_LoadedEnvAction__.a(newConfig.env)),this.apiConfiguration.changeConfig(newConfig.apiEnv),_context17.next=7,this.configurationService.loadConfiguration();case 7:return _context17.abrupt("return",newConfig);case 10:return _context17.prev=10,_context17.t0=_context17["catch"](0),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_ENV_LOADED,newConfig),this.dispatch(new __WEBPACK_IMPORTED_MODULE_34_app_actions_LoadedEnvAction__.a(newConfig.env)),this.apiConfiguration.changeConfig(newConfig.apiEnv),_context17.next=17,this.configurationService.loadConfiguration();case 17:return _context17.abrupt("return",newConfig);case 18:case"end":return _context17.stop()}},_callee17,this,[[0,10]])}))});case 4:return _context18.abrupt("return",_context18.sent);case 5:case"end":return _context18.stop()}},_callee18,this)}))}},{key:"changeFriendsProfileType",value:function(type){var config=__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{clickFriendsProfileType:type}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"handleResizeContentHeight",value:function(panel){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee19(){var collapsedHeight,contentHeight,iframeHeight,mobileNavHeight,privacyFooter,contentDetailsHeight,_contentDetailsHeight;return regeneratorRuntime.wrap(function(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:collapsedHeight=__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIntegratorConfigurationHeight(this.getState()),contentHeight=collapsedHeight,iframeHeight=contentHeight,mobileNavHeight=0,privacyFooter=0,document.getElementById("footer_tc_privacy")&&(privacyFooter=document.getElementById("footer_tc_privacy").offsetHeight),panel!=__WEBPACK_IMPORTED_MODULE_5_messages__.d.PLAYER_CARD&&panel!=__WEBPACK_IMPORTED_MODULE_5_messages__.d.ANY||!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())||(contentHeight=0,document.getElementsByClassName("menu_user-panel").length&&document.getElementsByClassName("menu_user-panel")[0].getElementsByClassName("custom-scroll-box").length&&(contentHeight=this.getUserPanelTotalHeight(contentHeight)),contentDetailsHeight=__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())&&document.getElementsByClassName("overview-tab-details").length&&document.getElementsByClassName("overview-tab-details")[0].getElementsByClassName("details-view-content").length?document.getElementsByClassName("overview-tab-details")[0].getElementsByClassName("details-view-content")[0].offsetHeight:0,contentHeight=contentHeight<contentDetailsHeight?contentDetailsHeight:contentHeight,iframeHeight+=this.getContentHeight(contentHeight)),panel!=__WEBPACK_IMPORTED_MODULE_5_messages__.d.FRIENDS&&panel!=__WEBPACK_IMPORTED_MODULE_5_messages__.d.ANY||!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())||(contentHeight=document.getElementsByClassName("menu_friends-panel").length?document.getElementsByClassName("menu_friends-panel")[0].getElementsByClassName("content")[0].offsetHeight:0,_contentDetailsHeight=__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState())&&document.getElementsByClassName("friends-tab-details").length&&document.getElementsByClassName("friends-tab-details")[0].getElementsByClassName("details-view-content").length?document.getElementsByClassName("friends-tab-details")[0].getElementsByClassName("details-view-content")[0].offsetHeight:0,contentHeight=contentHeight<_contentDetailsHeight?_contentDetailsHeight:contentHeight,iframeHeight+=this.getContentHeight(contentHeight)),panel!=__WEBPACK_IMPORTED_MODULE_5_messages__.d.NOTIFICATIONS&&panel!=__WEBPACK_IMPORTED_MODULE_5_messages__.d.ANY||!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())||(contentHeight=document.getElementsByClassName("menu_notifications-panel").length?document.getElementsByClassName("menu_notifications-panel")[0].getElementsByClassName("content")[0].offsetHeight:0,iframeHeight+=this.getContentHeight(contentHeight)),__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize(this.getState())&&(iframeHeight+=document.getElementsByClassName("mobileNav").length?document.getElementsByClassName("mobileNav")[0].offsetHeight:0,mobileNavHeight=document.getElementsByClassName("mobileNav").length?document.getElementsByClassName("mobileNav")[0].offsetHeight:0),this.windowsHeight&&this.windowsHeight<iframeHeight&&(iframeHeight=this.windowsHeight-30,contentHeight=iframeHeight-collapsedHeight-mobileNavHeight-privacyFooter),(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())&&panel==__WEBPACK_IMPORTED_MODULE_5_messages__.d.PLAYER_CARD||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())&&panel==__WEBPACK_IMPORTED_MODULE_5_messages__.d.FRIENDS||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&panel==__WEBPACK_IMPORTED_MODULE_5_messages__.d.NOTIFICATIONS)&&(this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,iframeHeight),this.dispatch(new __WEBPACK_IMPORTED_MODULE_40__actions_ResizeWidgetHeightAction__.a(contentHeight)));case 12:case"end":return _context19.stop()}},_callee19,this)}))}},{key:"changeLoginType",value:function(type){var config=__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{loginExternalType:type}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"toggleSignInText",value:function(toggle){var showSignInText=toggle?toggle:__WEBPACK_IMPORTED_MODULE_39__messages__.c.DEFAULT,config=__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{showSignInText:showSignInText}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"handleToggleDarkBackground",value:function(toggle){var config=__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state),darkBackground="false"!==toggle;darkBackground="true"===toggle,config=Object.assign({},config,{darkBackground:darkBackground}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"toggleDesktopResize",value:function(toggle){var isInDesktopResize="false"!=toggle;isInDesktopResize="true"==toggle;var config=__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{isInDesktopResize:isInDesktopResize}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"resizeHight",value:function(innerHeight,iframeHeight){var privacyFooter=0;document.getElementById("footer_tc_privacy")&&(privacyFooter=document.getElementById("footer_tc_privacy").offsetHeight);var collapsedHeight=__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIntegratorConfigurationHeight(this.getState()),mobileNavHeight=document.getElementsByClassName("mobileNav").length?document.getElementsByClassName("mobileNav")[0].offsetHeight:0,userPanelHeight=document.getElementsByClassName("menu_user-panel").length?this.getUserPanelTotalHeight(0):0,friendsPanelHeight=document.getElementsByClassName("menu_friends-panel").length?document.getElementsByClassName("menu_friends-panel")[0].getElementsByClassName("content")[0].offsetHeight:0,notificationsPanelHeight=document.getElementsByClassName("menu_notifications-panel").length?document.getElementsByClassName("menu_notifications-panel")[0].getElementsByClassName("content")[0].offsetHeight:0,height=innerHeight-collapsedHeight-30-privacyFooter;__WEBPACK_IMPORTED_MODULE_31_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize(this.getState())&&(height-=mobileNavHeight),innerHeight<iframeHeight&&(this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,innerHeight-30),this.dispatch(new __WEBPACK_IMPORTED_MODULE_40__actions_ResizeWidgetHeightAction__.a(height))),innerHeight>=iframeHeight&&(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.m)(this.getState())&&iframeHeight<userPanelHeight&&(this.dispatch(new __WEBPACK_IMPORTED_MODULE_40__actions_ResizeWidgetHeightAction__.a(height)),this.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_5_messages__.d.PLAYER_CARD)),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())&&iframeHeight<friendsPanelHeight&&(this.dispatch(new __WEBPACK_IMPORTED_MODULE_40__actions_ResizeWidgetHeightAction__.a(height)),this.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_5_messages__.d.FRIENDS)),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&iframeHeight<notificationsPanelHeight&&(this.dispatch(new __WEBPACK_IMPORTED_MODULE_40__actions_ResizeWidgetHeightAction__.a(height)),this.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_5_messages__.d.NOTIFICATIONS)))}},{key:"setParentUrl",value:function(url){this.dispatch(new __WEBPACK_IMPORTED_MODULE_42__actions_SetParentUrlAction__.a(url))}},{key:"setSsoId",value:function(ssoId){this.dispatch(new __WEBPACK_IMPORTED_MODULE_43__actions_SetSsoIdAction__.a(ssoId))}},{key:"deleteTicket",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_50__actions_DeleteCONNECTloginDataAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction)}},{key:"changeIframeUrl",value:function(){}},{key:"onTriggerEmailActivation",value:function(triggerEmailResponse){this.emailVerificationService.callback(triggerEmailResponse,this.handleResizeContentHeight)}},{key:"onTriggerLogout",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee20(){var env;return regeneratorRuntime.wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:env=__WEBPACK_IMPORTED_MODULE_35_app_modules_configuration_queries_ConfigurationQueries__.a.getCurrentEnv(this.state),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_LOGGED_OUT,{opId:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).opId,status:"error",errorMessage:"no login data available"}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_50__actions_DeleteCONNECTloginDataAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction);try{window.clearStores.purge()}catch(e){console.error(e)}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_34_app_actions_LoadedEnvAction__.a(env)),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIntegratorConfigurationHeight(this.getState())),this.tagCommanderService.trackAuthEvent(),_context20.next=10,this.pageLoaderService.hidePageLoader();case 10:return _context20.abrupt("return",_context20.sent);case 11:case"end":return _context20.stop()}},_callee20,this)}))}},{key:"onUserDataSuccess",value:function(userData){userData&&userData.payload&&userData.payload.status&&userData.payload.status.generalStatus==__WEBPACK_IMPORTED_MODULE_45_ubisoft_connect__.GeneralStatus.PENDING_ACTIVATION&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_46__actions_UserEmailVerificationAction__.a((!0),(!1))),userData&&userData.payload&&userData.payload.status&&userData.payload.status.generalStatus==__WEBPACK_IMPORTED_MODULE_45_ubisoft_connect__.GeneralStatus.ACTIVATED&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_46__actions_UserEmailVerificationAction__.a((!1),(!1)))}},{key:"onUserDataFailure",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_46__actions_UserEmailVerificationAction__.a((!1),(!1)))}},{key:"onSetConnectLoginUrl",value:function(loginUrl,connectUrl){this.dispatch(new __WEBPACK_IMPORTED_MODULE_47__actions_ConnectLoginUrlAction__.a(loginUrl,connectUrl))}},{key:"getTicket",value:function(){var data={nameOnPlatform:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18_app_selectors__.g)(this.getState())};__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.getState())&&(data={opId:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).opId,status:"ok",expiration:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).expiration,sessionId:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId,ticket:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket,user_id:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).user_id,nameOnPlatform:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18_app_selectors__.g)(this.getState())}),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_GET_TICKET,data)}},{key:"getConnectCallbacksParams",value:function(){var object={ticket:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())?__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket:null,userId:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())?__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).user_id:null,sessionId:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())?__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId:null};this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS,object)}},{key:"getContentHeight",value:function(contentHeight){var privacyFooter=0;return document.getElementById("footer_tc_privacy")&&(privacyFooter=document.getElementById("footer_tc_privacy").offsetHeight),contentHeight+=privacyFooter,contentHeight>__WEBPACK_IMPORTED_MODULE_70__entities_Overlay__.a?privacyFooter>0?__WEBPACK_IMPORTED_MODULE_70__entities_Overlay__.a+privacyFooter:__WEBPACK_IMPORTED_MODULE_70__entities_Overlay__.a:contentHeight}},{key:"setInitalWindowHeight",value:function(innerHeight){this.windowsHeight=innerHeight}},{key:"onChangeLPGPltform",value:function(spaceId,gameId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee21(){var _this8=this;return regeneratorRuntime.wrap(function(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_41__actions_ChangeLPGPlatformAction__.a(gameId,spaceId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16_app_actions_LoadingRewardsAction__.a),_context21.next=5,Promise.all([this.loadFriendsPalyingGame().then(function(){return _this8.gamesService.loadMyLastPlayedGameStatsWithFriends(spaceId)})["catch"](function(){return _this8.gamesService.loadMyLastPlayedGameStatsWithFriends(spaceId)}),this.rewardsService.loadUserRewards(spaceId)]);case 5:case"end":return _context21.stop()}},_callee21,this)}))}},{key:"loadFriendsPalyingGame",value:function(installmentId){var _this9=this;return this.friendsService.loadMyFriends().then(function(){return _this9.friendsAggregationService.loadFriendsPlayingGame(installmentId?installmentId:__WEBPACK_IMPORTED_MODULE_53__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedInstallmentId(_this9.getState()))})}},{key:"toggleOpenDetailsViewState",value:function(open,tab){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee22(){var _this10=this;return regeneratorRuntime.wrap(function(_context22){for(;;)switch(_context22.prev=_context22.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getStartedPanelFlow(this.getState())){_context22.next=2;break}return _context22.abrupt("return");case 2:open?this.changeIframeWidthInCorelationToParentWindowWidth(this.windowsWidth,this.windowsHeight,this.iframeBoundingClientRect):Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_91__actions_StartedPanelFlowAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_59__actions_ShowDetailsViewAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_56__actions_ToggleShowOverviewTabDetailsViewAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_74__actions_ToggleShowFriendsTabDetailsViewAction__.a((!1))),this.hideOverviewDetailsGameContent(),this.hideOverviewDetailsUserNameContent(),this.hideOverviewDetailsAvatarContent(),this.hideFriendsDetailsAddContent(),this.hideFriendsDetailsProfileContent()]).then(function(){return _this10.dispatch(new __WEBPACK_IMPORTED_MODULE_91__actions_StartedPanelFlowAction__.a((!1)))});case 3:case"end":return _context22.stop()}},_callee22,this)}))}},{key:"getIframeWidthInCorelationToParentWindowWidth",value:function(windowWidth,iframeBoundingClientRect){var width=954;return windowWidth>__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_RESIZE_WIDTH&&__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIsOnArabLocale(this.getState())&&iframeBoundingClientRect.right>windowWidth&&(width=334),windowWidth>__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_RESIZE_WIDTH&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIsOnArabLocale(this.getState())&&iframeBoundingClientRect.left<0&&(width=334),width<954?this.dispatch(new __WEBPACK_IMPORTED_MODULE_87__actions_ToggleShowMobileViewOnDesktopAction__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_87__actions_ToggleShowMobileViewOnDesktopAction__.a((!1))),width}},{key:"changeIframeWidthInCorelationToParentWindowWidth",value:function(windowWidth,windowHeight,iframeBoundingClientRect){var _this11=this;if(null!=windowWidth&&null!=windowHeight&&null!=iframeBoundingClientRect&&!(windowWidth<=__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_RESIZE_WIDTH||windowWidth<=__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_MOBILE_WIDTH&&windowHeight<windowWidth&&__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_communication_services_WidgetService__.a.isMobileDevice())&&(__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriendsDetails(this.getState()))){this.getIframeWidthInCorelationToParentWindowWidth(windowWidth,iframeBoundingClientRect),this.dispatch(new __WEBPACK_IMPORTED_MODULE_91__actions_StartedPanelFlowAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_59__actions_ShowDetailsViewAction__.a((!0)));var promise=new Promise(function(resolve){return setTimeout(function(){return resolve()},301)});promise.then(function(){_this11.dispatch(new __WEBPACK_IMPORTED_MODULE_91__actions_StartedPanelFlowAction__.a((!1)))})}}},{key:"dispatchIntegratorGetIframeBoundingClientRect",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_GET_IFRAME_BOUNDING_CLIENT_RECT)}},{key:"hideOverviewDetailsGameContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee23(){return regeneratorRuntime.wrap(function(_context23){for(;;)switch(_context23.prev=_context23.next){case 0:return _context23.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_69__actions_ToggleShowGameContentAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_60__actions_ChangeCarouselLPGAction__.a(__WEBPACK_IMPORTED_MODULE_94__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameOffset(this.getState()),null,__WEBPACK_IMPORTED_MODULE_94__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameSpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_94__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGamePlatformCode(this.getState())))]);case 2:return _context23.abrupt("return",_context23.sent);case 3:case"end":return _context23.stop()}},_callee23,this)}))}},{key:"hideOverviewDetailsUserNameContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee24(){return regeneratorRuntime.wrap(function(_context24){for(;;)switch(_context24.prev=_context24.next){case 0:return _context24.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_61__actions_ChangeUserNameAction__.a((!1),null,(!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_62__actions_ChangeUserNameShowRulesAction__.a((!1)))]);case 2:return _context24.abrupt("return",_context24.sent);case 3:case"end":return _context24.stop()}},_callee24,this)}))}},{key:"hideOverviewDetailsAvatarContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee25(){return regeneratorRuntime.wrap(function(_context25){for(;;)switch(_context25.prev=_context25.next){case 0:return _context25.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_66__actions_ToggleShowAvatarComponentAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_67__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_65__actions_ChangeAvatarSelectedAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_63__actions_ToggleShowResizeAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_68__actions_ToggleShowAvatarTooltipAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_67__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_64__actions_UploadAvatarAction__.a((!1)))]);case 2:return _context25.abrupt("return",_context25.sent);case 3:case"end":return _context25.stop()}},_callee25,this)}))}},{key:"hideFriendsDetailsAddContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee26(){return regeneratorRuntime.wrap(function(_context26){for(;;)switch(_context26.prev=_context26.next){case 0:return _context26.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_72__actions_LoadedAddFriendsStatAction__.a({})),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28_app_actions_LoadingAddFriendsAction__.a((!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_27_app_actions_HideAddFriendsAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_71__actions_ToggleAddFriendsTabAction__.a((!1)))]);case 2:return _context26.abrupt("return",_context26.sent);case 3:case"end":return _context26.stop()}},_callee26,this)}))}},{key:"hideFriendsDetailsProfileContent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee27(){return regeneratorRuntime.wrap(function(_context27){for(;;)switch(_context27.prev=_context27.next){case 0:return _context27.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_76__actions_ToggleShowFriendProfileContentAction__.a((!1),null,null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_88__actions_ChangeFriendGamesCarouselLPGAction__.a(0,null,null,null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_89__actions_ChangeFriendPlatformAction__.a(null,null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_90__actions_ToggleShowFrindProfileStatsAction__.a((!1)))]);case 2:return _context27.abrupt("return",_context27.sent);case 3:case"end":return _context27.stop()}},_callee27,this)}))}},{key:"onExpandFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee28(){var promises,_this12=this;return regeneratorRuntime.wrap(function(_context28){for(;;)switch(_context28.prev=_context28.next){case 0:return _context28.next=2,this.friendsService.loadMyFriends();case 2:if(promises=[],__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.n)(this.getState())?(promises.push(this.profilesService.loadMyFriendsClubProfiles()),promises.push(this.profilesService.loadMyFriendsUserProfiles().then(function(){return _this12.connectionsService.loadMyFriendsConnections()}))):(promises.push(this.dispatch(new __WEBPACK_IMPORTED_MODULE_77__actions_LoadedFriendsClubProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__.a.getHasError(this.getState()),__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__.a.getExpiration(this.getState())))),promises.push(this.dispatch(new __WEBPACK_IMPORTED_MODULE_79__actions_LoadedFriendsUserProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_80__stores_UserProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_80__stores_UserProfilesStore__.a.getByNameOnPlatform(this.getState()),__WEBPACK_IMPORTED_MODULE_80__stores_UserProfilesStore__.a.getByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_80__stores_UserProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_80__stores_UserProfilesStore__.a.getHasError(this.getState()),__WEBPACK_IMPORTED_MODULE_80__stores_UserProfilesStore__.a.getExpiration(this.getState())))),promises.push(this.dispatch(new __WEBPACK_IMPORTED_MODULE_81__actions_LoadedConnectionsAction__.a(__WEBPACK_IMPORTED_MODULE_82__stores_ConnectionsStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_82__stores_ConnectionsStore__.a.getByProfileId(this.getState()),__WEBPACK_IMPORTED_MODULE_82__stores_ConnectionsStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_82__stores_ConnectionsStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_82__stores_ConnectionsStore__.a.getProfileIdsForCall(this.getState()),__WEBPACK_IMPORTED_MODULE_82__stores_ConnectionsStore__.a.getExpiration(this.getState()))))),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_54__selectors__.o)(this.getState())?promises.push(this.profilesService.loadMyPendingRequestFriendsClubProfiles()):promises.push(this.dispatch(new __WEBPACK_IMPORTED_MODULE_77__actions_LoadedFriendsClubProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__.a.getHasError(this.getState()),__WEBPACK_IMPORTED_MODULE_78__stores_ClubProfilesStore__.a.getExpiration(this.getState())))),!(promises.length>0)){_context28.next=8;break}return _context28.next=8,Promise.all(promises);case 8:case"end":return _context28.stop()}},_callee28,this)}))}},{key:"setInitalWindowsParams",value:function(innerWidth,innerHeight,iframeClient){this.windowsWidth=innerWidth,this.windowsHeight=innerHeight,this.iframeBoundingClientRect=iframeClient,this.dispatch(new __WEBPACK_IMPORTED_MODULE_52__actions_ResizeWidgetParentHeightAction__.a(innerHeight,__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getTrackingBannerHeight(this.getState())))}},{key:"handleOnScrollUpdate",value:function(value,tab){switch(tab){case __WEBPACK_IMPORTED_MODULE_73__entities_OverviewTabDetails__.a.OVERVIEW_VIEW:return void(__WEBPACK_IMPORTED_MODULE_94__stores_OtherGamesCarouselStore__.a.getShowGameContent(this.getState())&&__WEBPACK_IMPORTED_MODULE_93__stores_StatsComparisonStore__.a.getIsShownGameStats(this.getState())&&(__WEBPACK_IMPORTED_MODULE_92__entities_ScrollUpdate__.a<value.scrollTop&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowStatsHeaderOnPlayerCardDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_95__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!0))),__WEBPACK_IMPORTED_MODULE_92__entities_ScrollUpdate__.a>=value.scrollTop&&__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowStatsHeaderOnPlayerCardDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_95__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1)))));
case __WEBPACK_IMPORTED_MODULE_73__entities_OverviewTabDetails__.a.FRIEND_VIEW:return __WEBPACK_IMPORTED_MODULE_96__stores_FriendProfileStore__.a.getShowGameContent(this.getState())&&__WEBPACK_IMPORTED_MODULE_96__stores_FriendProfileStore__.a.getIsShownGameStats(this.getState())&&(__WEBPACK_IMPORTED_MODULE_92__entities_ScrollUpdate__.a<value.scrollTop&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowStatsHeaderOnFriendsDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_97__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!0))),__WEBPACK_IMPORTED_MODULE_92__entities_ScrollUpdate__.a>=value.scrollTop&&__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowStatsHeaderOnFriendsDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_97__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1)))),void(__WEBPACK_IMPORTED_MODULE_96__stores_FriendProfileStore__.a.getShowGameContent(this.getState())&&!__WEBPACK_IMPORTED_MODULE_96__stores_FriendProfileStore__.a.getIsShownGameStats(this.getState())&&(__WEBPACK_IMPORTED_MODULE_92__entities_ScrollUpdate__.a<value.scrollTop&&!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNameHeaderOnFriendsDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_100__actions_ToggleShowNameHeaderOnFriendsDetails__.a((!0))),__WEBPACK_IMPORTED_MODULE_92__entities_ScrollUpdate__.a>=value.scrollTop&&__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNameHeaderOnFriendsDetails(this.getState())&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_100__actions_ToggleShowNameHeaderOnFriendsDetails__.a((!1)))))}}},{key:"resetTrackingBannerHeight",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_52__actions_ResizeWidgetParentHeightAction__.a(__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getParentHeight(this.getState()),0))}},{key:"getUserPanelTotalHeight",value:function(contentHeight){var childNodes=document.getElementsByClassName("menu_user-panel")[0].getElementsByClassName("custom-scroll-box")[0].getElementsByClassName("content")[0].childNodes;return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_lodash__.forEach)(childNodes,function(item){contentHeight+=item.offsetHeight}),contentHeight}},{key:"popupWindow",value:function(url,title){var width=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,height=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_OPEN_POPUP_WINDOW,{url:url,title:title,width:width,height:height})}},{key:"openPopupWindow",value:function(payload){var y=(payload.windowsHeight?payload.windowsHeight:window.outerHeight)/2+(payload.windowsScreenY?payload.windowsScreenY:window.screenY)-payload.height/2,x=(payload.windowsWidth?payload.windowsWidth:window.outerWidth)/2+(payload.windowsScreenX?payload.windowsScreenX:window.screenX)-payload.width/2,newWindow=window.open(payload.url,payload.title,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, width="+payload.width+", height="+payload.height+", top="+y+", left="+x);newWindow.opener=window,window.focus&&newWindow.focus()}}]),CommunicationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);CommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_services_IntegratorConfigurationService__.a,__WEBPACK_IMPORTED_MODULE_9_app_modules_pageLoader_services_PageLoaderService__.a,__WEBPACK_IMPORTED_MODULE_12__stejar_translate__.TranslatorService,__WEBPACK_IMPORTED_MODULE_14_app_services_GamesService__.a,__WEBPACK_IMPORTED_MODULE_15_app_services_RewardsService__.a,__WEBPACK_IMPORTED_MODULE_13_app_modules_tagCommander_services_TagCommanderService__.a,__WEBPACK_IMPORTED_MODULE_25_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_26_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_32__stejar_http__.HttpService,__WEBPACK_IMPORTED_MODULE_33_ubisoft_api__.ApiConfigurationService,__WEBPACK_IMPORTED_MODULE_44__EmailVerificationService__.a,__WEBPACK_IMPORTED_MODULE_48__services_WidgetChannelService__.a,__WEBPACK_IMPORTED_MODULE_49__services_GeneralChannelService__.a,__WEBPACK_IMPORTED_MODULE_51__stejar_configuration__.ConfigurationService,__WEBPACK_IMPORTED_MODULE_75__services_ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_83__services_BetaNotificationsService__.a,__WEBPACK_IMPORTED_MODULE_98__services_GamesAggregationService__.a,__WEBPACK_IMPORTED_MODULE_99__services_FriendsAggregationService__.a])],CommunicationService)},,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(178)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_3__stejar_translate__=__webpack_require__(25);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_translate__);__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationQueries});var IntegratorConfigurationQueries=function IntegratorConfigurationQueries(){_classCallCheck(this,IntegratorConfigurationQueries)};IntegratorConfigurationQueries.getConfiguration=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getConfiguration",function(state){return state[__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a.name]},function(configuration){return configuration}),IntegratorConfigurationQueries.getLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.loginType||__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.LOGIN_TYPE_POPUP}),IntegratorConfigurationQueries.getLocaleCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getLocaleCode",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.locale?configuration.locale:"en-GB"}),IntegratorConfigurationQueries.getApplicationId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getApplicationId",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.appId}),IntegratorConfigurationQueries.getGenomeId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getGenomeId",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.genomeId}),IntegratorConfigurationQueries.getHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHeight",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.height||50}),IntegratorConfigurationQueries.getBackgroundColor=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getBackgroundColor",IntegratorConfigurationQueries.getConfiguration,function(configuration){return"transparent"}),IntegratorConfigurationQueries.getTrackingSiteSection=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteSection",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.trackingSiteSection}),IntegratorConfigurationQueries.getTrackingSiteName=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteName",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.trackingSiteName}),IntegratorConfigurationQueries.getTrackingSiteType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.trackingSiteType}),IntegratorConfigurationQueries.getHasCustomerSupportLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.customerSupportLinks&&configuration.customerSupportLinks.length>0}),IntegratorConfigurationQueries.getHasOverwrittenLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasOverwrittenLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.overwrittenLinks&&Object.keys(configuration.overwrittenLinks).length>0}),IntegratorConfigurationQueries.getOverwrittenAccountLink=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenAccountLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.ACCOUNT]?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.ACCOUNT]:null}),IntegratorConfigurationQueries.getOverwrittenSupportLink=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenSupportLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.SUPPORT]?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.SUPPORT]:null}),IntegratorConfigurationQueries.getCustomerSupportLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasCustomerSupportLinks,__WEBPACK_IMPORTED_MODULE_3__stejar_translate__.LocaleQueries.getCurrentLocale,function(configuration,hasCustomerSupportLinks,locale){return hasCustomerSupportLinks?configuration.customerSupportLinks.map(function(link){return{name:link.locs[locale]?link.locs[locale]:link.locs["en-GB"]?link.locs["en-GB"]:"link",url:link.link?link.link:null}}):[]}),IntegratorConfigurationQueries.getHasDarkBackground=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return"boolean"!=typeof configuration.darkBackground||configuration.darkBackground}),IntegratorConfigurationQueries.getInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.installmentId}),IntegratorConfigurationQueries.getClickFriendsProfileType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.clickFriendsProfileType&&(configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_SELF||configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_BLANK||configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_POST_MESSAGE)?configuration.clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_SELF}),IntegratorConfigurationQueries.getHasExternalLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasExternalLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.loginExternalType&&[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.LOGIN_PSN,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.LOGIN_XBOX,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.LOGIN_TWITCH].indexOf(configuration.loginExternalType)!==-1}),IntegratorConfigurationQueries.getExternalLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getExternalLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.loginExternalType?configuration.loginExternalType:__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.LOGIN_NONE}),IntegratorConfigurationQueries.getShowSignInText=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.showSignInText}),IntegratorConfigurationQueries.getHasArabLanguage=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.locale&&"ar-AE"==configuration.locale}),IntegratorConfigurationQueries.getIsInDesktopResize=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.isInDesktopResize}),IntegratorConfigurationQueries.getScrollbarWidth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getScrollbarWidth",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.scrollbarWidth}),IntegratorConfigurationQueries.getMobileHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getMobileHeight",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.mobileHeight})},,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_1__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_translate__),__webpack_require__(59)),__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_5__selectors__=__webpack_require__(18);__webpack_require__.d(exports,"a",function(){return TagCommanderService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},TagCommanderService=function(){function TagCommanderService(store,ipLocationService){_classCallCheck(this,TagCommanderService),this.store=store,this.ipLocationService=ipLocationService,this.debug=!1}return _createClass(TagCommanderService,[{key:"enableDebug",value:function(){console.log("[Ubisoft Tag Commander] Enabled debug"),this.debug=!0}},{key:"canRun",value:function(){return"undefined"!=typeof window}},{key:"boot",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var locale,country,tcWindow;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.canRun()){_context.next=3;break}return this.debug&&console.log("[Ubisoft Tag Commander] Cannot boot since cannot run."),_context.abrupt("return",new Promise(function(resolve){return resolve()}));case 3:return _context.prev=3,_context.next=6,this.ipLocationService.loadIpLocation();case 6:_context.next=11;break;case 8:_context.prev=8,_context.t0=_context["catch"](3),console.error(_context.t0);case 11:return locale=__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState())?__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState()):__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLocaleCode(this.store.getState()),country=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__selectors__.h)(this.store.getState())?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__selectors__.h)(this.store.getState()):locale?locale.split("-")[1]:"GB",tcWindow=window,tcWindow.wa_data={country:country,language:locale?locale.split("-")[0]:"en",genomeId:__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getGenomeId(this.store.getState()),siteName:__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteName(this.store.getState()),siteSection:__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteSection(this.store.getState()),siteType:__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteType(this.store.getState()),environment:__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getEnv(this.store.getState()),ubisoftId:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getUserId(this.store.getState()):null},_context.next=17,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__.loadScript)(__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getTagCommanderUrl(this.store.getState()));case 17:return this.debug&&console.log("[Ubisoft Tag Commander] Loaded script: "+__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getTagCommanderUrl(this.store.getState())),window.adobeAnalytics?window.adobeAnalytics.init(tcWindow.wa_data):this.debug&&console.warn("[Ubisoft Tag Commander] THERE IS NO window.adobeAnalytics"),_context.abrupt("return",new Promise(function(resolve){return resolve()}));case 20:case"end":return _context.stop()}},_callee,this,[[3,8]])}))}},{key:"trackEvent",value:function(eventName,eventId){if(this.canRun()){var tcWindow=window;if(eventName=eventName+" - "+eventId,!window.adobeAnalytics)return void(this.debug&&console.warn("[Ubisoft Tag Commander] THERE IS NO window.adobeAnalytics"));this.debug&&console.log("[Ubisoft Tag Commander] Tracking click "+eventName);try{tcWindow.adobeAnalytics.track("clickevent",{action:eventName,location:tcWindow.wa_data.siteSection,category:"action"})}catch(error){this.debug&&(console.warn("T[Ubisoft Tag Commander] Tag commander event error:"),console.warn(error))}}}},{key:"trackAuthEvent",value:function(){if(this.canRun()){var tcWindow=window;if(!window.adobeAnalytics)return void(this.debug&&console.warn("[Ubisoft Tag Commander] THERE IS NO window.adobeAnalytics"));this.debug&&console.log("[Ubisoft Tag Commander] Tracking auth event");try{tcWindow.adobeAnalytics.track("accountevent",{ubisoftId:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getUserId(this.store.getState()):null,loggedIn:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState()),loggedOut:!__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState()),action:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?"logging in":"logging out"})}catch(error){this.debug&&(console.warn("T[Ubisoft Tag Commander] Tag commander event error:"),console.warn(error))}}}},{key:"changeTrackingSiteSection",value:function(siteSection){var tcWindow=window;return siteSection?void(tcWindow.wa_data.siteSection=siteSection):void(tcWindow.wa_data.siteSection=__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteSection(this.store.getState()))}},{key:"changeLanguage",value:function(){var tcWindow=window,locale=__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState())?__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState()):__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLocaleCode(this.store.getState());tcWindow.wa_data.language=locale?locale.split("-")[0]:"en"}}]),TagCommanderService}()},,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(140)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGamesConfigsAction__=__webpack_require__(498);__webpack_require__.d(exports,"a",function(){return GamesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},GamesStore=function(_ReducerStore){function GamesStore(){_classCallCheck(this,GamesStore);var _this=_possibleConstructorReturn(this,(GamesStore.__proto__||Object.getPrototypeOf(GamesStore)).call(this));return _this.bind(null,function(){return{byId:{},byPlatformId:{},configsBySpaceId:{},byUserId:{},ids:[],expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__.a.name,_this.handleLoadedGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGamesConfigsAction__.a.name,_this.handleLoadedGamesConfigsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(GamesStore,_ReducerStore),_createClass(GamesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byPlatformId:{},configsBySpaceId:{},byUserId:{},ids:[],expiration:{}}}},{key:"handleLoadedGamesAction",value:function(state,action){var byUserId={};return Object.keys(action.byUserId).forEach(function(userId){byUserId[userId]=state.byUserId[userId]?state.byUserId[userId].filter(function(gameId){return!action.byUserId[userId].includes(gameId)}).concat(action.byUserId[userId]):action.byUserId[userId]}),__assign({},state,{byId:__assign({},state.byId,action.gamesByIds),byPlatformId:__assign({},state.byPlatformId,action.gamesByPlatformId),byUserId:__assign({},state.byUserId,byUserId),ids:state.ids.filter(function(id){return!action.gamesIds.includes(id)}).concat(action.gamesIds),expiration:action.expiration})}},{key:"handleLoadedGamesConfigsAction",value:function(state,action){return __assign({},state,{configsBySpaceId:__assign({},state.configsBySpaceId,action.configsBySpaceId)})}}]),GamesStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);GamesStore.getState=function(state){return state.GamesStore},GamesStore.getById=function(state){return state.GamesStore.byId},GamesStore.getByUserId=function(state){return state.GamesStore.byUserId},GamesStore.getConfigsBySpaceId=function(state){return state.GamesStore.configsBySpaceId},GamesStore.getIds=function(state){return state.GamesStore.ids},GamesStore.getByPlatformId=function(state){return state.GamesStore.byPlatformId},GamesStore.getExpiration=function(state){return state.GamesStore.expiration},GamesStore.loaded=function(state){return state.LoadersStore.Games},GamesStore.loadedFriendGames=function(state){return state.LoadersStore.FriendGames},GamesStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],GamesStore)},,,function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(236)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_5__actions_ReloadAction__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_6__actions_UpdateScreenNameAction__=__webpack_require__(529);__webpack_require__.d(exports,"a",function(){return UserProfilesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);
return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserProfilesStore=function(_ReducerStore){function UserProfilesStore(){_classCallCheck(this,UserProfilesStore);var _this=_possibleConstructorReturn(this,(UserProfilesStore.__proto__||Object.getPrototypeOf(UserProfilesStore)).call(this));return _this.bind(null,function(){return{byId:{},byNameOnPlatform:{},byUserId:{},ids:[],hasError:!1,expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__.a.name,_this.handleLoadedMyUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a.name,_this.handleLoadedFriendsUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_UpdateScreenNameAction__.a.name,_this.handleUpdateScreenNameAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(UserProfilesStore,_ReducerStore),_createClass(UserProfilesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byNameOnPlatform:{},byUserId:{},ids:[],hasError:!1,expiration:0}}},{key:"handleLoadedMyUserProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),byNameOnPlatform:Object.assign({},state.byNameOnPlatform,action.byNameOnPlatform),byUserId:Object.assign({},state.byUserId,action.byUserId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasError:action.hasError})}},{key:"handleLoadedFriendsUserProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),byNameOnPlatform:Object.assign({},state.byNameOnPlatform,action.byNameOnPlatform),byUserId:Object.assign({},state.byUserId,action.byUserId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasError:action.hasError,expiration:null!==action.expiration?action.expiration:state.expiration})}},{key:"handleUpdateScreenNameAction",value:function(state,action){var oldName=state.byId[action.userId].nameOnPlatform,byId=__assign({},state.byId[action.userId],{nameOnPlatform:action.userName}),toReturn=__assign({},state,{byId:__assign({},state.byId,_defineProperty({},action.userId,byId)),byNameOnPlatform:__assign({},state.byNameOnPlatform,_defineProperty({},action.userName,byId))});return delete toReturn.byNameOnPlatform[oldName],toReturn}}]),UserProfilesStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);UserProfilesStore.getState=function(state){return state.UserProfilesStore},UserProfilesStore.getById=function(state){return state.UserProfilesStore.byId},UserProfilesStore.getByUserId=function(state){return state.UserProfilesStore.byUserId},UserProfilesStore.getByNameOnPlatform=function(state){return state.UserProfilesStore.byNameOnPlatform},UserProfilesStore.getIds=function(state){return state.UserProfilesStore.ids},UserProfilesStore.loadedMyProfiles=function(state){return state.LoadersStore.MyUserProfiles},UserProfilesStore.loadedFriendsProfiles=function(state){return state.LoadersStore.FriendsUserProfiles},UserProfilesStore.getExpiration=function(state){return state.UserProfilesStore.expiration},UserProfilesStore.getHasError=function(state){return state.UserProfilesStore.hasError},UserProfilesStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],UserProfilesStore)},,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_2__WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_3__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_6_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_lodash__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_8__stores_ChangePlatformStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__),__webpack_require__(280)),__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_11__GamesCommonQueries__=__webpack_require__(545);__webpack_require__.d(exports,"a",function(){return OtherGamesCarouselQueries});var OtherGamesCarouselQueries=function OtherGamesCarouselQueries(){_classCallCheck(this,OtherGamesCarouselQueries)};OtherGamesCarouselQueries.getOtherGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getOtherGamesPlayed",__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getLastSessionDates,__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_2__WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getInstallmentId,function(gamesIdsByUserId,aggregateGamesById,platformsById,platformsByUserId,platformsByGameId,lastSessionDates,userId,newInstallmentId,configInstallmentId){if(!gamesIdsByUserId[userId]||gamesIdsByUserId[userId]&&!Object.keys(gamesIdsByUserId[userId]).length)return[];var aggregateGames=gamesIdsByUserId[userId].map(function(gameId){return aggregateGamesById[gameId]}).filter(function(game){return game.isOwned});if(aggregateGames.length<=0)return[];var gamesById={};aggregateGames.forEach(function(game){var platforms=[];platformsByUserId[userId]&&(platforms=platformsByUserId[userId].filter(function(spaceId){return platformsByGameId[game.id].indexOf(spaceId)!==-1}).map(function(spaceId){return platformsById[spaceId]}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_11__GamesCommonQueries__.a.sortPlatforms(lastSessionDates,userId,a,b)})),gamesById[game.id]={spaceId:platforms.length?platforms[0].spaceId:game.spaceId,gameName:game.title,gameCleanUrl:game.cleanUrl,id:game.id,publishedAt:game.publishedAt,platformCode:platforms.length?platforms[0].code:platformsById[game.spaceId].code,installmentId:game.installmentId,userId:userId,imageUrl:game.thumbUrl,lastPlayedDate:platforms.length?lastSessionDates[userId][platforms[0].spaceId]:game.lastSessionDate,coverUrl:game.coverUrl,isOwned:!0,shopUrl:"http://store.ubi.com/search?q="+encodeURIComponent(game.cleanUrl.replace(/-/g," "))}});var games=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_lodash__.map)(gamesById,function(game){return game}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_11__GamesCommonQueries__.a.sortGames(a,b)});if(!configInstallmentId&&!newInstallmentId)return games;if(configInstallmentId||newInstallmentId){var offset=null,foundGame=null,installmentId=newInstallmentId?newInstallmentId:configInstallmentId;games.find(function(game,index){return game.installmentId==installmentId&&(offset=index,foundGame=game),game.installmentId==installmentId}),foundGame&&(games.splice(offset,1),games.unshift(foundGame))}return games}),OtherGamesCarouselQueries.getOtherGamesPlayedDots=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getOtherGamesPlayedDots",OtherGamesCarouselQueries.getOtherGamesPlayed,function(otherGamesPlayed){for(var dots=[],i=0;i<Math.ceil(otherGamesPlayed.length/3);i++)dots.push(i);return dots}),OtherGamesCarouselQueries.getNbOfOtherGamesPlayedDots=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getNbOfOtherGamesPlayedDots",OtherGamesCarouselQueries.getOtherGamesPlayedDots,function(dots){return dots.length}),OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId",__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_8__stores_ChangePlatformStore__.a.getSelectedSpaceIdByGameId,OtherGamesCarouselQueries.getOtherGamesPlayed,function(spaceId,id,selectedSpaceIdByGameId,games){return id&&selectedSpaceIdByGameId[id]?selectedSpaceIdByGameId[id]:spaceId?spaceId:games.length?games[0].spaceId:null}),OtherGamesCarouselQueries.getCurrentLastPlayedGameId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedGameSpaceId",__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,OtherGamesCarouselQueries.getOtherGamesPlayed,function(id,games){return id?id:games.length?games[0].id:null}),OtherGamesCarouselQueries.getCurrentGameSpaceIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameSpaceIds",OtherGamesCarouselQueries.getCurrentLastPlayedGameId,OtherGamesCarouselQueries.getOtherGamesPlayed,__WEBPACK_IMPORTED_MODULE_2__WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,function(currentGameId,otherGamesPlayed,installmentId,gamesById,userId,platformsByGameId){var gameId=null;return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_lodash__.find)(gamesById,function(game,id){return game.installmentId==installmentId&&(gameId=id),game.installmentId==installmentId}),gameId?platformsByGameId[gameId]:currentGameId?platformsByGameId[currentGameId]:otherGamesPlayed.length?platformsByGameId[otherGamesPlayed[0].id]:[]}),OtherGamesCarouselQueries.getCurrentGamePlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGamePlatforms",OtherGamesCarouselQueries.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,function(id,platformsByGameId,platformsById){return id&&platformsByGameId[id]?platformsByGameId[id].map(function(spaceId){return platformsById[spaceId]}):[]}),OtherGamesCarouselQueries.getComputedGameByInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getComputedGameByInstallmentId",__WEBPACK_IMPORTED_MODULE_2__WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getInstallmentId,OtherGamesCarouselQueries.getOtherGamesPlayed,__WEBPACK_IMPORTED_MODULE_3__selectors__.c,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_3__selectors__.d,function(newInstallmentId,configInstallmentId,otherGames,gamesByInstallmentId,platformsByGameId,platformsById,userId,gamesSorted){var installmentId=newInstallmentId||configInstallmentId;if(otherGames.find(function(game){return game.installmentId==installmentId}))return null;var newestGame=null;if(gamesSorted.length>0){var foundGame=gamesSorted.find(function(game){return!!game.links.storeLink});foundGame||(foundGame=gamesSorted[0]),newestGame={spaceId:platformsByGameId[foundGame.id][0],gameName:foundGame.title,gameCleanUrl:foundGame.cleanUrl,id:foundGame.id,publishedAt:foundGame.publishedAt,platformCode:platformsById[platformsByGameId[foundGame.id][0]].code,installmentId:foundGame.installmentId,userId:userId,imageUrl:foundGame.thumbUrl,lastPlayedDate:null,coverUrl:foundGame.coverUrl,isOwned:!1,shopUrl:foundGame.links?foundGame.links.storeLink:"http://store.ubi.com/search?q="+encodeURIComponent(foundGame.cleanUrl.replace(/-/g," "))}}if(otherGames.length<=0&&gamesSorted.length>0&&!newInstallmentId&&!configInstallmentId)return newestGame;var computedGameByInstallmentId=OtherGamesCarouselQueries.computeGameByInstallmentId(installmentId,gamesByInstallmentId,platformsByGameId,platformsById,userId);return computedGameByInstallmentId?computedGameByInstallmentId:otherGames.length<=0?newestGame:null}),OtherGamesCarouselQueries.getHasComputedGameByInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasComputedGameByInstallmentId",OtherGamesCarouselQueries.getComputedGameByInstallmentId,function(gameByInstallmentId){return!!gameByInstallmentId}),OtherGamesCarouselQueries.getCurrentLastPlayedGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentLastPlayedGame",OtherGamesCarouselQueries.getOtherGamesPlayed,__WEBPACK_IMPORTED_MODULE_1__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,OtherGamesCarouselQueries.getHasComputedGameByInstallmentId,OtherGamesCarouselQueries.getComputedGameByInstallmentId,function(otherGames,gameId,hasComputedGameByInstallmentId,computedGameByInstallmentId){return otherGames.length?otherGames.find(function(game){return game.id===gameId}):hasComputedGameByInstallmentId?computedGameByInstallmentId:null}),OtherGamesCarouselQueries.getCurrentGameId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameId",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.id:null}),OtherGamesCarouselQueries.getCurrentGameSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameId",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.spaceId:null}),OtherGamesCarouselQueries.getCurrentGameCleanUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameCleanUrl",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.gameCleanUrl:null}),OtherGamesCarouselQueries.getCurrentGameName=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameName",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.gameName:null}),OtherGamesCarouselQueries.getCurrentCoverUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameName",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.coverUrl:null}),OtherGamesCarouselQueries.getCurrentImageUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameName",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.imageUrl:null}),OtherGamesCarouselQueries.getCurrentLastPlayedDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameName",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.lastPlayedDate:null}),OtherGamesCarouselQueries.getCurrentLastPlayedInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameName",OtherGamesCarouselQueries.getCurrentLastPlayedGame,function(lpg){return lpg?lpg.installmentId:null}),OtherGamesCarouselQueries.getCurrentGamePlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGamePlatform",OtherGamesCarouselQueries.getCurrentLastPlayedGame,__WEBPACK_IMPORTED_MODULE_8__stores_ChangePlatformStore__.a.getSelectedSpaceIdByGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,function(data,selectedSpaceIdByGameId,platformsById){var platformCode=data?selectedSpaceIdByGameId[data.id]?platformsById[selectedSpaceIdByGameId[data.id]].code:data.platformCode:null;return platformCode?"switch"!==platformCode.toLowerCase()?platformCode:"NINTENDO SWITCH":null}),OtherGamesCarouselQueries.getIsOwnedCurrentGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getIsOwnedCurrentGame",OtherGamesCarouselQueries.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__.a.getById,function(id,gamesById){return!!gamesById[id]&&gamesById[id].isOwned}),OtherGamesCarouselQueries.getMyUserIdByLastPlayedGamePlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyUserIdByLastPlayedGamePlatform",OtherGamesCarouselQueries.getCurrentGamePlatform,__WEBPACK_IMPORTED_MODULE_3__selectors__.e,__WEBPACK_IMPORTED_MODULE_5__modules_authentication_queries_IdentityQueries__.a.getUserId,function(platform,myUserProfiles,userId){return OtherGamesCarouselQueries.getMyUserProfileIdByPlatformCode(platform,myUserProfiles,userId)}),OtherGamesCarouselQueries.getMyLastPlayedGamePlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyLastPlayedGamePlatforms",OtherGamesCarouselQueries.getCurrentLastPlayedGame,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,function(data,platformsByGameId,platformsById){return data?platformsByGameId[data.id].map(function(spaceId){return platformsById[spaceId]}):[]}),OtherGamesCarouselQueries.getMyLastPlayedGamePlatformsMapedNames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getMyLastPlayedGamePlatformsMapedNames",OtherGamesCarouselQueries.getMyLastPlayedGamePlatforms,function(data){return data.map(function(platform){return"switch"!==platform.code.toLowerCase()?platform.code:"NINTENDO SWITCH"})}),OtherGamesCarouselQueries.getHasOnlyOnePlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasOnlyOnePlatform",OtherGamesCarouselQueries.getMyLastPlayedGamePlatformsMapedNames,function(data){return 1==data.length}),OtherGamesCarouselQueries.getHasOnlyOneGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasOnlyOneGame",OtherGamesCarouselQueries.getOtherGamesPlayed,function(otherGamesPlayed){return 1==otherGamesPlayed.length}),OtherGamesCarouselQueries.getHasLastPlaydGameToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasLastPlaydGameToShow",OtherGamesCarouselQueries.getHasComputedGameByInstallmentId,OtherGamesCarouselQueries.getHasOnlyOneGame,function(hasComputedGameByInstallmentId,hasOnlyOneGame){return hasComputedGameByInstallmentId||hasOnlyOneGame}),OtherGamesCarouselQueries.getLastPlaydGameToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getLastPlaydGameToShow",OtherGamesCarouselQueries.getHasComputedGameByInstallmentId,OtherGamesCarouselQueries.getHasOnlyOneGame,OtherGamesCarouselQueries.getComputedGameByInstallmentId,OtherGamesCarouselQueries.getOtherGamesPlayed,function(hasComputedGameByInstallmentId,hasOnlyOneGame,computedGameByInstallmentId,otherGamesPlayed){return hasComputedGameByInstallmentId?computedGameByInstallmentId:hasOnlyOneGame?otherGamesPlayed[0]:null}),OtherGamesCarouselQueries.getHasOtherGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getHasOtherGamesPlayed",OtherGamesCarouselQueries.getOtherGamesPlayed,OtherGamesCarouselQueries.getHasComputedGameByInstallmentId,function(otherGamesPlayed,hasComputedGameByInstallmentId){return otherGamesPlayed.length>0||hasComputedGameByInstallmentId}),OtherGamesCarouselQueries.computeGameByInstallmentId=function(installmentId,gamesByInstallmentId,platformsByGameId,platformsById,userId){var foundGameByInstallmentId=gamesByInstallmentId[installmentId];return foundGameByInstallmentId?{spaceId:platformsByGameId[foundGameByInstallmentId.id][0],gameName:foundGameByInstallmentId.title,gameCleanUrl:foundGameByInstallmentId.cleanUrl,id:foundGameByInstallmentId.id,publishedAt:foundGameByInstallmentId.publishedAt,platformCode:platformsById[platformsByGameId[foundGameByInstallmentId.id][0]].code,installmentId:foundGameByInstallmentId.installmentId,userId:userId,imageUrl:foundGameByInstallmentId.thumbUrl,lastPlayedDate:null,coverUrl:foundGameByInstallmentId.coverUrl,isOwned:foundGameByInstallmentId.isOwned,shopUrl:"http://store.ubi.com/search?q="+encodeURIComponent(foundGameByInstallmentId.cleanUrl.replace(/-/g," "))}:null},OtherGamesCarouselQueries.getMyUserProfileIdByPlatformCode=function(platform,myUserProfiles,userId){var myUserProfile=null;return"PC"==platform&&(myUserProfile=myUserProfiles.find(function(myUserProfile){return myUserProfile.platformType==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.UPLAY})),platform&&platform.indexOf("PS")!==-1&&(myUserProfile=myUserProfiles.find(function(myUserProfile){return myUserProfile.platformType==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.PSN})),platform&&platform.indexOf("X")!==-1&&(myUserProfile=myUserProfiles.find(function(myUserProfile){return myUserProfile.platformType==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE})),"SWITCH"==platform&&(myUserProfile=myUserProfiles.find(function(myUserProfile){return myUserProfile.platformType==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.SWITCH})),"STADIA"==platform&&(myUserProfile=myUserProfiles.find(function(myUserProfile){return myUserProfile.platformType==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.GOOGLESTREAM})),myUserProfile?myUserProfile.profileId:userId}},,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return TAB_DETAILS});var TAB_DETAILS;!function(TAB_DETAILS){TAB_DETAILS[TAB_DETAILS.OVERVIEW_VIEW="OVERVIEW_VIEW"]="OVERVIEW_VIEW",TAB_DETAILS[TAB_DETAILS.FRIEND_VIEW="FRIEND_VIEW"]="FRIEND_VIEW"}(TAB_DETAILS||(TAB_DETAILS={}));var OVERVIEW_TAB_DETAILS;!function(OVERVIEW_TAB_DETAILS){OVERVIEW_TAB_DETAILS[OVERVIEW_TAB_DETAILS.GAME_VIEW="GAME_VIEW"]="GAME_VIEW",OVERVIEW_TAB_DETAILS[OVERVIEW_TAB_DETAILS.AVATAR_VIEW="AVATAR_VIEW"]="AVATAR_VIEW",OVERVIEW_TAB_DETAILS[OVERVIEW_TAB_DETAILS.NAME_VIEW="NAME_VIEW"]="NAME_VIEW"}(OVERVIEW_TAB_DETAILS||(OVERVIEW_TAB_DETAILS={}));var FRIENDS_TAB_DETAILS;!function(FRIENDS_TAB_DETAILS){FRIENDS_TAB_DETAILS[FRIENDS_TAB_DETAILS.ADD_FRIEND_VIEW="ADD_FRIEND_VIEW"]="ADD_FRIEND_VIEW",FRIENDS_TAB_DETAILS[FRIENDS_TAB_DETAILS.FRIEND_PROFILE_VIEW="FRIEND_PROFILE_VIEW"]="FRIEND_PROFILE_VIEW"}(FRIENDS_TAB_DETAILS||(FRIENDS_TAB_DETAILS={}))},,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(233)),__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__=__webpack_require__(141);__webpack_require__.d(exports,"a",function(){return FriendsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsStore=function(_ReducerStore){function FriendsStore(){_classCallCheck(this,FriendsStore);var _this=_possibleConstructorReturn(this,(FriendsStore.__proto__||Object.getPrototypeOf(FriendsStore)).call(this));return _this.bind(null,function(){return{byId:{},ids:[],expiration:{},ownershipByUserId:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(FriendsStore,_ReducerStore),_createClass(FriendsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},ids:[],expiration:{},ownershipByUserId:{}}}},{key:"handleLoadedFriendsAction",value:function(state,action){return __assign({},state,{byId:Object.keys(action.byId).length?__assign({},state.byId,action.byId):{},ids:action.ids.length?state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids):[],ownershipByUserId:__assign({},state.ownershipByUserId,action.ownershipByUserId),expiration:__assign({},state.expiration,action.expiration)})}}]),FriendsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);FriendsStore.getState=function(state){return state.FriendsStore},FriendsStore.getByIds=function(state){return state.FriendsStore.byId},FriendsStore.getIds=function(state){return state.FriendsStore.ids},FriendsStore.getExpiration=function(state){return state.FriendsStore.expiration},FriendsStore.getOwnershipByUserId=function(state){return state.FriendsStore.ownershipByUserId},FriendsStore.loaded=function(state){return state.LoadersStore.Friends},FriendsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],FriendsStore)},,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsClubProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(170)),__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__=__webpack_require__(141);__webpack_require__.d(exports,"a",function(){return ClubProfilesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){
if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ClubProfilesStore=function(_ReducerStore){function ClubProfilesStore(){_classCallCheck(this,ClubProfilesStore);var _this=_possibleConstructorReturn(this,(ClubProfilesStore.__proto__||Object.getPrototypeOf(ClubProfilesStore)).call(this));return _this.bind(null,function(){return{byId:{},ids:[],hasError:!1,hasFriendsError:!1,expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsClubProfilesAction__.a.name,_this.handleLoadedFriendsClubProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ClubProfilesStore,_ReducerStore),_createClass(ClubProfilesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},ids:[],hasError:!1,hasFriendsError:!1,expiration:0}}},{key:"handleLoadedFriendsClubProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasFriendsError:action.hasError,expiration:action.expiration})}}]),ClubProfilesStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ClubProfilesStore.getState=function(state){return state.ClubProfilesStore},ClubProfilesStore.getById=function(state){return state.ClubProfilesStore.byId},ClubProfilesStore.getIds=function(state){return state.ClubProfilesStore.ids},ClubProfilesStore.getHasError=function(state){return state.ClubProfilesStore.hasError},ClubProfilesStore.getHasFriendsError=function(state){return state.ClubProfilesStore.hasFriendsError},ClubProfilesStore.loadedFriendsProfiles=function(state){return!!state.LoadersStore.FriendsClubProfiles},ClubProfilesStore.getExpiration=function(state){return state.ClubProfilesStore.expiration},ClubProfilesStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ClubProfilesStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeCarouselSlideAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(473)),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeCarouselLPGAction__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowGameContentAction__=__webpack_require__(253);__webpack_require__.d(exports,"a",function(){return OtherGamesCarouselStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},OtherGamesCarouselStore=function(_ReducerStore){function OtherGamesCarouselStore(){_classCallCheck(this,OtherGamesCarouselStore);var _this=_possibleConstructorReturn(this,(OtherGamesCarouselStore.__proto__||Object.getPrototypeOf(OtherGamesCarouselStore)).call(this));return _this.bind(null,function(){return{currentDot:0,carouselTranslateX:0,carouselDotTranslateX:0,currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGamePlatformCode:null,showGameContent:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeCarouselSlideAction__.a.name,_this.handleChangeCarouselSlideAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeCarouselLPGAction__.a.name,_this.handleChangeCarouselLPGAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowGameContentAction__.a.name,_this.handleToggleShowGameContentAction),_this}return _inherits(OtherGamesCarouselStore,_ReducerStore),_createClass(OtherGamesCarouselStore,[{key:"handleLoggedOutAction",value:function(state,action){return{currentDot:0,carouselTranslateX:0,carouselDotTranslateX:0,currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGamePlatformCode:null,showGameContent:!1}}},{key:"handleChangeCarouselSlideAction",value:function(state,action){return __assign({},state,{currentDot:action.dot,carouselTranslateX:action.carouselTranslateX,carouselDotTranslateX:action.carouselDotTranslateX})}},{key:"handleChangeCarouselLPGAction",value:function(state,action){return __assign({},state,{currentLastPlayedGameOffset:action.currentLastPlayedGameOffset,currentLastPlayedGameId:action.currentLastPlayedGameId,currentLastPlayedGameSpaceId:action.currentLastPlayedGameSpaceId,currentLastPlayedGamePlatformCode:action.currentLastPlayedGamePlatformCode})}},{key:"handleToggleShowGameContentAction",value:function(state,action){return __assign({},state,{showGameContent:action.show})}}]),OtherGamesCarouselStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);OtherGamesCarouselStore.getState=function(state){return state.OtherGamesCarouselStore},OtherGamesCarouselStore.getCurrentDot=function(state){return state.OtherGamesCarouselStore.currentDot},OtherGamesCarouselStore.getCarouselTranslateX=function(state){return state.OtherGamesCarouselStore.carouselTranslateX},OtherGamesCarouselStore.getCarouselDotTranslateX=function(state){return state.OtherGamesCarouselStore.carouselDotTranslateX},OtherGamesCarouselStore.getCurrentLastPlayedGameOffset=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGameOffset},OtherGamesCarouselStore.getCurrentLastPlayedGameId=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGameId},OtherGamesCarouselStore.getCurrentLastPlayedGameSpaceId=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGameSpaceId},OtherGamesCarouselStore.getCurrentLastPlayedGamePlatformCode=function(state){return state.OtherGamesCarouselStore.currentLastPlayedGamePlatformCode},OtherGamesCarouselStore.getShowGameContent=function(state){return state.OtherGamesCarouselStore.showGameContent},OtherGamesCarouselStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],OtherGamesCarouselStore)},,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__),__webpack_require__(170)),__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedMyUserProfilesAction__=__webpack_require__(236),__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_7_app_selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_9__stores_ClubProfilesStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_10_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_10_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_moment__),__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__=__webpack_require__(42);__webpack_require__.d(exports,"a",function(){return ProfilesService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ProfilesService=function(_AbstractActions){function ProfilesService(userProfilesApi,clubProfilesApi,authenticationStore){_classCallCheck(this,ProfilesService);var _this=_possibleConstructorReturn(this,(ProfilesService.__proto__||Object.getPrototypeOf(ProfilesService)).call(this));return _this.userProfilesApi=userProfilesApi,_this.clubProfilesApi=clubProfilesApi,_this.authenticationStore=authenticationStore,_this}return _inherits(ProfilesService,_AbstractActions),_createClass(ProfilesService,[{key:"loadMyUserProfile",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var profiles;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.authenticationStore.hasIdentity()){_context.next=3;break}return this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedMyUserProfilesAction__.a,!0),_context.abrupt("return",Promise.reject("no identity"));case 3:return _context.prev=3,_context.next=6,this.userProfilesApi.getUserProfilesByUserIds([this.authenticationStore.getIdentity().user_id]);case 6:profiles=_context.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedMyUserProfilesAction__.a,!1),_context.next=13;break;case 10:_context.prev=10,_context.t0=_context["catch"](3),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedMyUserProfilesAction__.a,!0);case 13:case"end":return _context.stop()}},_callee,this,[[3,10]])}))}},{key:"loadMyFriendsClubProfiles",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var profiles;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_9__stores_ClubProfilesStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.getDefaultDataCacheTime())){_context2.next=13;break}return _context2.prev=1,_context2.next=4,this.clubProfilesApi.getClubProfilesByProfileIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_app_selectors__.a)(this.getState()));case 4:profiles=_context2.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a,!1,__WEBPACK_IMPORTED_MODULE_10_moment___default()().unix()),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2["catch"](1),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a,!0,__WEBPACK_IMPORTED_MODULE_10_moment___default()().unix());case 11:_context2.next=14;break;case 13:this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_9__stores_ClubProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_9__stores_ClubProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_9__stores_ClubProfilesStore__.a.getHasError(this.getState()),__WEBPACK_IMPORTED_MODULE_9__stores_ClubProfilesStore__.a.getExpiration(this.getState())));case 14:case"end":return _context2.stop()}},_callee2,this,[[1,8]])}))}},{key:"loadMyPendingRequestFriendsClubProfiles",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var profiles;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,this.clubProfilesApi.getClubProfilesByProfileIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_app_selectors__.b)(this.getState()));case 3:profiles=_context3.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a,!1),_context3.next=10;break;case 7:_context3.prev=7,_context3.t0=_context3["catch"](0),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a,!0);case 10:case"end":return _context3.stop()}},_callee3,this,[[0,7]])}))}},{key:"loadFriendClubProfiles",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var profiles;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,this.clubProfilesApi.getClubProfilesByProfileIds([pid]);case 3:profiles=_context4.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a,!1),_context4.next=10;break;case 7:_context4.prev=7,_context4.t0=_context4["catch"](0),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a,!0);case 10:case"end":return _context4.stop()}},_callee4,this,[[0,7]])}))}},{key:"loadMyFriendsUserProfiles",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var profiles;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.getDefaultDataCacheTime())){_context5.next=13;break}return _context5.prev=1,_context5.next=4,this.userProfilesApi.getUserProfilesByUserIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_app_selectors__.a)(this.getState()));case 4:profiles=_context5.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!1,__WEBPACK_IMPORTED_MODULE_10_moment___default()().unix()),_context5.next=11;break;case 8:_context5.prev=8,_context5.t0=_context5["catch"](1),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!0,__WEBPACK_IMPORTED_MODULE_10_moment___default()().unix());case 11:_context5.next=14;break;case 13:this.dispatch(new __WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getByNameOnPlatform(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getHasError(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_UserProfilesStore__.a.getExpiration(this.getState())));case 14:case"end":return _context5.stop()}},_callee5,this,[[1,8]])}))}},{key:"loadFriendUserProfiles",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var profiles;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,_context6.next=3,this.userProfilesApi.getUserProfilesByUserIds([pid]);case 3:profiles=_context6.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context6.next=10;break;case 7:_context6.prev=7,_context6.t0=_context6["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null);case 10:case"end":return _context6.stop()}},_callee6,this,[[0,7]])}))}},{key:"loadMyFriendProfilesByUserNameAndPlatforms",value:function(userNames,platform){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var profiles;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=3,this.userProfilesApi.getProfilesByUserNameAndPlatformTypes(userNames,platform);case 3:return profiles=_context7.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context7.abrupt("return",profiles);case 8:return _context7.prev=8,_context7.t0=_context7["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null),_context7.abrupt("return",Promise.reject(_context7.t0));case 12:case"end":return _context7.stop()}},_callee7,this,[[0,8]])}))}},{key:"loadFriendsClubProfilesByIds",value:function(ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var profiles;return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,_context8.next=3,this.clubProfilesApi.getClubProfilesByProfileIds(ids);case 3:profiles=_context8.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a,!1),_context8.next=10;break;case 7:_context8.prev=7,_context8.t0=_context8["catch"](0),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a,!0);case 10:case"end":return _context8.stop()}},_callee8,this,[[0,7]])}))}},{key:"loadFriendsProfilesByIds",value:function(ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){var profiles;return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=3,this.userProfilesApi.getUserProfilesByUserIds(ids);case 3:return profiles=_context9.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context9.abrupt("return",profiles);case 8:return _context9.prev=8,_context9.t0=_context9["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null),_context9.abrupt("return",Promise.reject(_context9.t0));case 12:case"end":return _context9.stop()}},_callee9,this,[[0,8]])}))}},{key:"getProfilesByPlatformIdsAndPlatformType",value:function(userIds,platformType){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee10(){var profiles;return regeneratorRuntime.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.prev=0,_context10.next=3,this.userProfilesApi.getProfilesByPlatformIdsAndPlatformType(userIds,platformType);case 3:return profiles=_context10.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context10.abrupt("return",profiles);case 8:return _context10.prev=8,_context10.t0=_context10["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null),_context10.abrupt("return",Promise.reject(_context10.t0));case 12:case"end":return _context10.stop()}},_callee10,this,[[0,8]])}))}},{key:"afterLoadedProfiles",value:function(profiles,className,hasError,expiration){var byId={},byUserId={},byNameOnPlatform={},ids=[];profiles.forEach(function(profile){byId[profile.profileId]=profile,byNameOnPlatform[profile.nameOnPlatform]=profile,byUserId[profile.userId]||(byUserId[profile.userId]=[]),byUserId[profile.userId].push(profile.profileId),ids.push(profile.profileId)}),expiration?this.dispatch(new className(byId,byNameOnPlatform,byUserId,ids,hasError,expiration)):this.dispatch(new className(byId,byNameOnPlatform,byUserId,ids,hasError))}},{key:"afterLoadedClubProfiles",value:function(profiles,className,hasError,expiration){var byId={},ids=[];profiles.forEach(function(profile){byId[profile.profileId]=profile,ids.push(profile.profileId)}),expiration?this.dispatch(new className(byId,ids,hasError,expiration)):this.dispatch(new className(byId,ids,hasError))}}]),ProfilesService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ProfilesService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.UserProfilesApi,__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.ClubProfilesApi,__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.AuthenticationStore])],ProfilesService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(140));__webpack_require__.d(exports,"a",function(){return PlatformsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PlatformsStore=function(_ReducerStore){function PlatformsStore(){_classCallCheck(this,PlatformsStore);var _this=_possibleConstructorReturn(this,(PlatformsStore.__proto__||Object.getPrototypeOf(PlatformsStore)).call(this));return _this.bind(null,function(){return{byId:{},byGameId:{},byUserId:{},lastSessionDates:{},ids:[]}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__.a.name,_this.handleLoadedGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(PlatformsStore,_ReducerStore),_createClass(PlatformsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byGameId:{},byUserId:{},lastSessionDates:{},ids:[]}}},{key:"handleLoadedGamesAction",value:function(state,action){var byGameId={};Object.keys(action.platformsByGameId).forEach(function(gameId){byGameId[gameId]=state.byGameId[gameId]?state.byGameId[gameId].filter(function(platformId){return!action.platformsByGameId[gameId].includes(platformId)}).concat(action.platformsByGameId[gameId]):action.platformsByGameId[gameId]});var byUserId={};Object.keys(action.platformsByUserId).forEach(function(userId){byUserId[userId]=state.byUserId[userId]?state.byUserId[userId].filter(function(platformId){return!action.platformsByUserId[userId].includes(platformId)}).concat(action.platformsByUserId[userId]):action.platformsByUserId[userId]});var lastSessionDates=state.lastSessionDates;return Object.keys(action.lastSessionDates).forEach(function(userId){lastSessionDates[userId]=__assign({},lastSessionDates[userId],action.lastSessionDates[userId])}),__assign({},state,{byId:__assign({},state.byId,action.platformsBySpaceId),byGameId:__assign({},state.byGameId,byGameId),byUserId:__assign({},state.byUserId,byUserId),lastSessionDates:lastSessionDates,ids:state.ids.filter(function(id){return!action.platformsSpaceIds.includes(id)}).concat(action.platformsSpaceIds)})}}]),PlatformsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);PlatformsStore.getState=function(state){return state.PlatformsStore},PlatformsStore.getById=function(state){return state.PlatformsStore.byId},PlatformsStore.getByGameId=function(state){return state.PlatformsStore.byGameId},PlatformsStore.getByUserId=function(state){return state.PlatformsStore.byUserId},PlatformsStore.getIds=function(state){return state.PlatformsStore.ids},PlatformsStore.getLastSessionDates=function(state){return state.PlatformsStore.lastSessionDates},PlatformsStore.loaded=function(state){return state.LoadersStore.Games},PlatformsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PlatformsStore)},,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),
__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowAvatarComponentAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(248)),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeAvatarGameAction__=__webpack_require__(471),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarSelectedAction__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarInputValueAction__=__webpack_require__(472),__WEBPACK_IMPORTED_MODULE_7__actions_UploadImageAction__=__webpack_require__(530),__WEBPACK_IMPORTED_MODULE_8__actions_ToggleShowResizeAvatarAction__=__webpack_require__(255),__WEBPACK_IMPORTED_MODULE_9__actions_UploadAvatarAction__=__webpack_require__(259),__WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowAvatarTooltipAction__=__webpack_require__(249),__WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowSelecteAvatarOverlayAction__=__webpack_require__(256),__WEBPACK_IMPORTED_MODULE_12__actions_ToggleStopAvatarEventPropagationAction__=__webpack_require__(528),__WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarSelectorAction__=__webpack_require__(525),__WEBPACK_IMPORTED_MODULE_14__actions_ToggleAvatarTabsAction__=__webpack_require__(520),__WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowAvatarRulesAction__=__webpack_require__(524),__WEBPACK_IMPORTED_MODULE_16__actions_AvatarGalleryFailedAction__=__webpack_require__(468),__WEBPACK_IMPORTED_MODULE_17__actions_CheckIntervalAction__=__webpack_require__(488);__webpack_require__.d(exports,"a",function(){return ChangeAvatarStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ChangeAvatarStore=function(_ReducerStore){function ChangeAvatarStore(){_classCallCheck(this,ChangeAvatarStore);var _this=_possibleConstructorReturn(this,(ChangeAvatarStore.__proto__||Object.getPrototypeOf(ChangeAvatarStore)).call(this));return _this.bind(null,function(){return{showAvatarComponent:!1,selectedGameCode:null,writtenGameName:null,avatarId:null,showResizeAvatar:!1,hasUploadError:!1,hasFileTypeError:!1,hasImageSizeError:!1,hasImageError:!1,hasServiceError:!1,file:null,uploadingAvatarToService:!1,showTooltip:!1,showSelectedAvatarOverlay:!1,stopEventPropagation:!1,showGameSelectorTooltip:!1,showChooseFromGalleryTab:!0,showUploadAnAvatarTab:!1,showRules:!1,hasGalleryServiceError:!1,avatarIntervalCheck:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeAvatarGameAction__.a.name,_this.handleChangeAvatarGameAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarInputValueAction__.a.name,_this.handleChangeAvatarInputValueAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarSelectedAction__.a.name,_this.handleChangeAvatarSelectedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8__actions_ToggleShowResizeAvatarAction__.a.name,_this.handleToggleShowResizeAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowAvatarComponentAction__.a.name,_this.handleToggleShowAvatarComponentAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_UploadImageAction__.a.name,_this.handleUploadImageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9__actions_UploadAvatarAction__.a.name,_this.handleUploadAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowAvatarTooltipAction__.a.name,_this.handleToggleShowAvatarTooltipAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowSelecteAvatarOverlayAction__.a.name,_this.handleToggleShowSelecteAvatarOverlayAction),_this.bind(__WEBPACK_IMPORTED_MODULE_12__actions_ToggleStopAvatarEventPropagationAction__.a.name,_this.handleToggleStopAvatarEventPropagationAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13__actions_ToggleShowAvatarSelectorAction__.a.name,_this.handleToggleShowAvatarSelectorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_ToggleAvatarTabsAction__.a.name,_this.handleToggleAvatarTabsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowAvatarRulesAction__.a.name,_this.handleToggleShowAvatarRulesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_16__actions_AvatarGalleryFailedAction__.a.name,_this.handleAvatarGalleryFailedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17__actions_CheckIntervalAction__.a.name,_this.handleCheckIntervalAction),_this}return _inherits(ChangeAvatarStore,_ReducerStore),_createClass(ChangeAvatarStore,[{key:"handleLoggedOutAction",value:function(state,action){return{showAvatarComponent:!1,selectedGameCode:null,writtenGameName:null,avatarId:null,showResizeAvatar:!1,hasUploadError:!1,hasFileTypeError:!1,hasImageSizeError:!1,hasImageError:!1,hasServiceError:!1,file:null,uploadingAvatarToService:!1,showTooltip:!1,showSelectedAvatarOverlay:!1,stopEventPropagation:!1,showGameSelectorTooltip:!0,showChooseFromGalleryTab:!0,showUploadAnAvatarTab:!1,showRules:!1,hasGalleryServiceError:!1,avatarIntervalCheck:!1}}},{key:"handleToggleShowAvatarComponentAction",value:function(state,action){return __assign({},state,{showAvatarComponent:action.show})}},{key:"handleChangeAvatarGameAction",value:function(state,action){return __assign({},state,{selectedGameCode:action.gameCode})}},{key:"handleChangeAvatarInputValueAction",value:function(state,action){return __assign({},state,{writtenGameName:action.input})}},{key:"handleChangeAvatarSelectedAction",value:function(state,action){return __assign({},state,{avatarId:action.avatarId})}},{key:"handleToggleShowResizeAvatarAction",value:function(state,action){return __assign({},state,{showResizeAvatar:action.toggle})}},{key:"handleUploadImageAction",value:function(state,action){return __assign({},state,{hasUploadError:action.hasUploadError,hasFileTypeError:action.hasFileTypeError,hasImageSizeError:action.hasImageSizeError,hasImageError:action.hasImageError,hasServiceError:action.hasServiceError,file:action.file})}},{key:"handleUploadAvatarAction",value:function(state,action){return __assign({},state,{uploadingAvatarToService:action.loading})}},{key:"handleToggleShowAvatarTooltipAction",value:function(state,action){return __assign({},state,{showTooltip:action.toggle})}},{key:"handleToggleShowSelecteAvatarOverlayAction",value:function(state,action){return __assign({},state,{showSelectedAvatarOverlay:action.toggle})}},{key:"handleToggleStopAvatarEventPropagationAction",value:function(state,action){return __assign({},state,{stopEventPropagation:action.toggle})}},{key:"handleToggleShowAvatarSelectorAction",value:function(state,action){return __assign({},state,{showGameSelectorTooltip:action.toggle})}},{key:"handleToggleAvatarTabsAction",value:function(state,action){return __assign({},state,{showChooseFromGalleryTab:action.showChooseFromGalleryTab,showUploadAnAvatarTab:action.showUploadAnAvatarTab})}},{key:"handleToggleShowAvatarRulesAction",value:function(state,action){return __assign({},state,{showRules:action.toggle})}},{key:"handleAvatarGalleryFailedAction",value:function(state,action){return __assign({},state,{hasGalleryServiceError:action.toggle})}},{key:"handleCheckIntervalAction",value:function(state,action){return __assign({},state,{avatarIntervalCheck:!state.avatarIntervalCheck})}}]),ChangeAvatarStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ChangeAvatarStore.getState=function(state){return state.ChangeAvatarStore},ChangeAvatarStore.getShowAvatarComponent=function(state){return state.ChangeAvatarStore.showAvatarComponent},ChangeAvatarStore.getAvatarId=function(state){return state.ChangeAvatarStore.avatarId},ChangeAvatarStore.getShowResizeAvatar=function(state){return state.ChangeAvatarStore.showResizeAvatar},ChangeAvatarStore.getSelectedGameCode=function(state){return state.ChangeAvatarStore.selectedGameCode},ChangeAvatarStore.getWrittenGameName=function(state){return state.ChangeAvatarStore.writtenGameName},ChangeAvatarStore.getHasUploadError=function(state){return state.ChangeAvatarStore.hasUploadError},ChangeAvatarStore.getHasFileTypeError=function(state){return state.ChangeAvatarStore.hasFileTypeError},ChangeAvatarStore.getHasImageSizeError=function(state){return state.ChangeAvatarStore.hasImageSizeError},ChangeAvatarStore.getHasImageError=function(state){return state.ChangeAvatarStore.hasImageError},ChangeAvatarStore.getHasServiceError=function(state){return state.ChangeAvatarStore.hasServiceError},ChangeAvatarStore.getFile=function(state){return state.ChangeAvatarStore.file},ChangeAvatarStore.getUploadingAvatarToService=function(state){return state.ChangeAvatarStore.uploadingAvatarToService},ChangeAvatarStore.getShowTooltip=function(state){return state.ChangeAvatarStore.showTooltip},ChangeAvatarStore.getShowRules=function(state){return state.ChangeAvatarStore.showRules},ChangeAvatarStore.getShowSelectedAvatarOverlay=function(state){return state.ChangeAvatarStore.showSelectedAvatarOverlay},ChangeAvatarStore.getStopEventPropagation=function(state){return state.ChangeAvatarStore.stopEventPropagation},ChangeAvatarStore.getShowGameSelectorTooltip=function(state){return state.ChangeAvatarStore.showGameSelectorTooltip},ChangeAvatarStore.getShowChooseFromGalleryTab=function(state){return state.ChangeAvatarStore.showChooseFromGalleryTab},ChangeAvatarStore.getShowUploadAnAvatarTab=function(state){return state.ChangeAvatarStore.showUploadAnAvatarTab},ChangeAvatarStore.getHasGalleryServiceError=function(state){return state.ChangeAvatarStore.hasGalleryServiceError},ChangeAvatarStore.getAvatarIntervalCheck=function(state){return state.ChangeAvatarStore.avatarIntervalCheck},ChangeAvatarStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ChangeAvatarStore)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendGamesCarouselSlideAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(475)),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendGamesCarouselLPGAction__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowFriendProfileContentAction__=__webpack_require__(250),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeFriendPlatformAction__=__webpack_require__(226),__WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowFrindProfileStatsAction__=__webpack_require__(252),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendToDeleteIdAction__=__webpack_require__(478);__webpack_require__.d(exports,"a",function(){return FriendProfileStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendProfileStore=function(_ReducerStore){function FriendProfileStore(){_classCallCheck(this,FriendProfileStore);var _this=_possibleConstructorReturn(this,(FriendProfileStore.__proto__||Object.getPrototypeOf(FriendProfileStore)).call(this));return _this.bind(null,function(){return{currentFriendId:null,currentFriendName:null,currentDot:0,carouselTranslateX:0,carouselDotTranslateX:0,currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGamePlatformCode:null,showFriendProfileContent:!1,selectedSpaceIdByGameId:{},isShownGameStats:!1,currentFriendToDeleteId:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendGamesCarouselSlideAction__.a.name,_this.handleChangeFriendGamesCarouselSlideAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeFriendGamesCarouselLPGAction__.a.name,_this.handleChangeFriendGamesCarouselLPGAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ToggleShowFriendProfileContentAction__.a.name,_this.handleToggleShowFriendProfileContentAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_ChangeFriendPlatformAction__.a.name,_this.handleChangedPlatfrom),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowFrindProfileStatsAction__.a.name,_this.handleToggleShowFrindProfileStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8__actions_ChangeFriendToDeleteIdAction__.a.name,_this.handleChangeFriendToDeleteIdAction),_this}return _inherits(FriendProfileStore,_ReducerStore),_createClass(FriendProfileStore,[{key:"handleLoggedOutAction",value:function(state,action){return{currentFriendId:null,currentFriendName:null,currentDot:0,carouselTranslateX:0,carouselDotTranslateX:0,currentLastPlayedGameOffset:0,currentLastPlayedGameId:null,currentLastPlayedGameSpaceId:null,currentLastPlayedGamePlatformCode:null,showFriendProfileContent:!1,selectedSpaceIdByGameId:{},isShownGameStats:!1,currentFriendToDeleteId:null}}},{key:"handleChangeFriendGamesCarouselSlideAction",value:function(state,action){return __assign({},state,{currentDot:action.dot,carouselTranslateX:action.carouselTranslateX,carouselDotTranslateX:action.carouselDotTranslateX})}},{key:"handleChangeFriendGamesCarouselLPGAction",value:function(state,action){return __assign({},state,{currentLastPlayedGameOffset:action.currentLastPlayedGameOffset,currentLastPlayedGameId:action.currentLastPlayedGameId,currentLastPlayedGameSpaceId:action.currentLastPlayedGameSpaceId,currentLastPlayedGamePlatformCode:action.currentLastPlayedGamePlatformCode})}},{key:"handleToggleShowFriendProfileContentAction",value:function(state,action){return __assign({},state,{showFriendProfileContent:action.show,currentFriendId:action.pid,currentFriendName:action.name})}},{key:"handleChangedPlatfrom",value:function(state,action){return __assign({},state,{selectedSpaceIdByGameId:__assign({},state.selectedSpaceIdByGameId,_defineProperty({},action.gameId,action.spaceId))})}},{key:"handleToggleShowFrindProfileStatsAction",value:function(state,action){return __assign({},state,{isShownGameStats:action.show})}},{key:"handleChangeFriendToDeleteIdAction",value:function(state,action){return __assign({},state,{currentFriendToDeleteId:action.currentFriendId})}}]),FriendProfileStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);FriendProfileStore.getState=function(state){return state.FriendProfileStore},FriendProfileStore.getCurrentFriendId=function(state){return state.FriendProfileStore.currentFriendId},FriendProfileStore.getCurrentFriendName=function(state){return state.FriendProfileStore.currentFriendName},FriendProfileStore.getCurrentDot=function(state){return state.FriendProfileStore.currentDot},FriendProfileStore.getCarouselTranslateX=function(state){return state.FriendProfileStore.carouselTranslateX},FriendProfileStore.getCarouselDotTranslateX=function(state){return state.FriendProfileStore.carouselDotTranslateX},FriendProfileStore.getCurrentLastPlayedGameOffset=function(state){return state.FriendProfileStore.currentLastPlayedGameOffset},FriendProfileStore.getCurrentLastPlayedGameId=function(state){return state.FriendProfileStore.currentLastPlayedGameId},FriendProfileStore.getCurrentLastPlayedGameSpaceId=function(state){return state.FriendProfileStore.currentLastPlayedGameSpaceId},FriendProfileStore.getCurrentLastPlayedGamePlatformCode=function(state){return state.FriendProfileStore.currentLastPlayedGamePlatformCode},FriendProfileStore.getShowGameContent=function(state){return state.FriendProfileStore.showFriendProfileContent},FriendProfileStore.getSelectedSpaceIdByGameId=function(state){return state.FriendProfileStore.selectedSpaceIdByGameId},FriendProfileStore.getIsShownGameStats=function(state){return state.FriendProfileStore.isShownGameStats},FriendProfileStore.getCurrentFriendToDeleteId=function(state){return state.FriendProfileStore.currentFriendToDeleteId},FriendProfileStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],FriendProfileStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(227)),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeShowFriendRequestsAction__=__webpack_require__(481),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeShowFriendInvitationsAction__=__webpack_require__(480),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeFriendDeclineStateAction__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_7__actions_ToggleAddFriendsTabAction__=__webpack_require__(247);__webpack_require__.d(exports,"a",function(){return FriendsActionsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsActionsStore=function(_ReducerStore){function FriendsActionsStore(){_classCallCheck(this,FriendsActionsStore);var _this=_possibleConstructorReturn(this,(FriendsActionsStore.__proto__||Object.getPrototypeOf(FriendsActionsStore)).call(this));return _this.bind(null,function(){return{currentUserId:null,currentDeclineUserId:null,isStillLoading:!1,isRightAfterLoad:!1,showMoreFriendRequests:!0,showMoreFriendInvitations:!0,showAddFriendsTab:!1,isAccepted:!1,isDeclined:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a.name,_this.handleChangeFriendStateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeShowFriendRequestsAction__.a.name,_this.handleChangeShowFriendRequestsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ChangeShowFriendInvitationsAction__.a.name,_this.handleChangeShowFriendInvitationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_ChangeFriendDeclineStateAction__.a.name,_this.handleChangeFriendDeclineStateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_ToggleAddFriendsTabAction__.a.name,_this.handleShowAddFriendsTab),_this}return _inherits(FriendsActionsStore,_ReducerStore),_createClass(FriendsActionsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{currentUserId:null,currentDeclineUserId:null,isStillLoading:!1,isRightAfterLoad:!1,showMoreFriendRequests:!0,showMoreFriendInvitations:!0,showAddFriendsTab:!1,isAccepted:!1,isDeclined:!1}}},{key:"handleChangeFriendStateAction",value:function(state,action){return Object.assign({},state,{currentUserId:action.userId,isStillLoading:action.isStillLoading,isRightAfterLoad:action.isRightAfterLoad,isAccepted:action.isAccepted,isDeclined:action.isDeclined})}},{key:"handleChangeShowFriendRequestsAction",value:function(state,action){return Object.assign({},state,{showMoreFriendRequests:action.toggle})}},{key:"handleChangeShowFriendInvitationsAction",value:function(state,action){return Object.assign({},state,{showMoreFriendInvitations:action.toggle})}},{key:"handleChangeFriendDeclineStateAction",value:function(state,action){return Object.assign({},state,{currentDeclineUserId:action.userId})}},{key:"handleShowAddFriendsTab",value:function(state,action){return Object.assign({},state,{showAddFriendsTab:action.showAddFriendsTab})}}]),FriendsActionsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);FriendsActionsStore.getState=function(state){return state.FriendsActionsStore},FriendsActionsStore.getCurrentUserId=function(state){return state.FriendsActionsStore.currentUserId},FriendsActionsStore.getCurrentDeclineUserId=function(state){return state.FriendsActionsStore.currentDeclineUserId},FriendsActionsStore.getIsStillLoading=function(state){return state.FriendsActionsStore.isStillLoading},FriendsActionsStore.getIsRightAfterLoad=function(state){return state.FriendsActionsStore.isRightAfterLoad},FriendsActionsStore.getIsAccepted=function(state){return state.FriendsActionsStore.isAccepted},FriendsActionsStore.getIsDeclined=function(state){return state.FriendsActionsStore.isDeclined},FriendsActionsStore.getShowMoreFriendRequests=function(state){return state.FriendsActionsStore.showMoreFriendRequests},FriendsActionsStore.getShowMoreFriendInvitations=function(state){return state.FriendsActionsStore.showMoreFriendInvitations},FriendsActionsStore.getShowAddFriendsTab=function(state){return state.FriendsActionsStore.showAddFriendsTab},FriendsActionsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],FriendsActionsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedFriendsPlayingGame__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(171));__webpack_require__.d(exports,"a",function(){return FriendsPlayingGameStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsPlayingGameStore=function(_ReducerStore){function FriendsPlayingGameStore(){_classCallCheck(this,FriendsPlayingGameStore);var _this=_possibleConstructorReturn(this,(FriendsPlayingGameStore.__proto__||Object.getPrototypeOf(FriendsPlayingGameStore)).call(this));return _this.bind(null,function(){return{friendsByInstallmentId:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedFriendsPlayingGame__.a.name,_this.handleLoadedFriendsPlayingGame),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(FriendsPlayingGameStore,_ReducerStore),_createClass(FriendsPlayingGameStore,[{key:"handleLoggedOutAction",value:function(state,action){return{friendsByInstallmentId:{}}}},{key:"handleLoadedFriendsPlayingGame",value:function(state,action){return __assign({},state,{friendsByInstallmentId:__assign({},state.friendsByInstallmentId,action.friendsByInstallmentId)})}}]),FriendsPlayingGameStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);FriendsPlayingGameStore.getState=function(state){return state.FriendsPlayingGameStore},FriendsPlayingGameStore.getFriendsByInstallmentId=function(state){return state.FriendsPlayingGameStore.friendsByInstallmentId},FriendsPlayingGameStore.loaded=function(state){return state.LoadersStore.FriendsPlayingGame},FriendsPlayingGameStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],FriendsPlayingGameStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call;
}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(174)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsStatsAction__=__webpack_require__(172);__webpack_require__.d(exports,"a",function(){return GamesStatsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},GamesStatsStore=function(_ReducerStore){function GamesStatsStore(){_classCallCheck(this,GamesStatsStore);var _this=_possibleConstructorReturn(this,(GamesStatsStore.__proto__||Object.getPrototypeOf(GamesStatsStore)).call(this));return _this.bind(null,function(){return{byId:{},byFriendProfileId:{},bySpaceId:{},ids:[]}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__.a.name,_this.handleLoadedGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsStatsAction__.a.name,_this.handleLoadedFriendsStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(GamesStatsStore,_ReducerStore),_createClass(GamesStatsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byFriendProfileId:{},bySpaceId:{},ids:[]}}},{key:"handleLoadedGameStatsAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.stats),bySpaceId:Object.assign({},state.bySpaceId,action.bySpaceId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids)})}},{key:"handleLoadedFriendsStatsAction",value:function(state,action){return Object.assign({},state,{byFriendProfileId:Object.assign({},state.byFriendProfileId,action.friendsStates)})}}]),GamesStatsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);GamesStatsStore.getState=function(state){return state.GamesStatsStore},GamesStatsStore.getById=function(state){return state.GamesStatsStore.byId},GamesStatsStore.getByFriendProfileId=function(state){return state.GamesStatsStore.byFriendProfileId},GamesStatsStore.getIds=function(state){return state.GamesStatsStore.ids},GamesStatsStore.getBySpaceId=function(state){return state.GamesStatsStore.bySpaceId},GamesStatsStore.loaded=function(state){return state.LoadersStore.GamesStats},GamesStatsStore.loadedFriendsStats=function(state){return state.LoadersStore.GamesFriendsStats},GamesStatsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],GamesStatsStore)},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return Swiper});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Swiper=function(){function Swiper(element,onSwipeStart,onSwipeEnd){_classCallCheck(this,Swiper),this.touchSurface=element,this.swipeStartCallback=onSwipeStart,this.swipeEndCallback=onSwipeEnd,this.addEvents()}return _createClass(Swiper,[{key:"addEvents",value:function(){this.touchSurface&&(this.touchSurface.addEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchSurface.addEventListener("touchmove",this.onTouchMove.bind(this),!1),this.touchSurface.addEventListener("touchend",this.onTouchEnd.bind(this),!1))}},{key:"onTouchStart",value:function(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY}},{key:"onTouchMove",value:function(e){if(this.xDown&&this.yDown){this.xUp=e.touches[0].clientX,this.yUp=e.touches[0].clientY;var xDiff=this.xDown-this.xUp,yDiff=this.yDown-this.yUp,swipeRightBol=!1,swipeLeftBol=!1;Math.abs(xDiff)>Math.abs(yDiff)&&(swipeLeftBol=xDiff>0,swipeRightBol=xDiff<=0),this.swipeStartCallback({swipeRight:swipeRightBol,swipeLeft:swipeLeftBol}),this.xDown=null,this.yDown=null,this.xUp=null,this.yUp=null}}},{key:"onTouchEnd",value:function(e){this.xDown&&this.yDown||this.swipeEndCallback&&this.swipeEndCallback()}},{key:"removeEvents",value:function(){this.touchSurface&&(this.touchSurface.removeEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchSurface.removeEventListener("touchmove",this.onTouchMove.bind(this),!1),this.touchSurface.removeEventListener("touchend",this.onTouchEnd.bind(this),!1))}}]),Swiper}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_utils__=__webpack_require__(59);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__);__webpack_require__.d(exports,"a",function(){return WidgetChannelService});var WidgetChannelService=function(_Channel){function WidgetChannelService(origin,target,debug){return _classCallCheck(this,WidgetChannelService),_possibleConstructorReturn(this,(WidgetChannelService.__proto__||Object.getPrototypeOf(WidgetChannelService)).call(this,origin,target,debug))}return _inherits(WidgetChannelService,_Channel),WidgetChannelService}(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__.Channel)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(228)),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameShowRulesAction__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorAction__=__webpack_require__(484),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameStateAction__=__webpack_require__(486),__WEBPACK_IMPORTED_MODULE_7__actions_ChangeUserNameErrorTypeAction__=__webpack_require__(485),__WEBPACK_IMPORTED_MODULE_8__actions_LocalizedMessageAction__=__webpack_require__(245),__WEBPACK_IMPORTED_MODULE_9__actions_UserNameErrorTimeLimitAction__=__webpack_require__(536),__WEBPACK_IMPORTED_MODULE_10__actions_UserNameErrorGeneralAction__=__webpack_require__(532),__WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__=__webpack_require__(539),__WEBPACK_IMPORTED_MODULE_12__actions_UserNameErrorAvailableAction__=__webpack_require__(531),__WEBPACK_IMPORTED_MODULE_13__actions_UserNameErrorRequiredAction__=__webpack_require__(534),__WEBPACK_IMPORTED_MODULE_14__actions_UserNameErrorRestrictedAction__=__webpack_require__(535),__WEBPACK_IMPORTED_MODULE_15__actions_UserNameErrorLocalizedAction__=__webpack_require__(533),__WEBPACK_IMPORTED_MODULE_16__actions_StartErrorAction__=__webpack_require__(518),__WEBPACK_IMPORTED_MODULE_17__actions_UserNameLengthErrorAction__=__webpack_require__(537),__WEBPACK_IMPORTED_MODULE_18__actions_CharacterErrorAction__=__webpack_require__(487),__WEBPACK_IMPORTED_MODULE_19__actions_CompanyErrorAction__=__webpack_require__(489),__WEBPACK_IMPORTED_MODULE_20__actions_ValidationErrorCodeAction__=__webpack_require__(540),__WEBPACK_IMPORTED_MODULE_21__actions_LoadedTwoFactorAuthStatusAction__=__webpack_require__(501),__WEBPACK_IMPORTED_MODULE_22__actions_UserNameUbisoftErrorAction__=__webpack_require__(538);__webpack_require__.d(exports,"a",function(){return UserNameStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserNameStore=function(_ReducerStore){function UserNameStore(){_classCallCheck(this,UserNameStore);var _this=_possibleConstructorReturn(this,(UserNameStore.__proto__||Object.getPrototypeOf(UserNameStore)).call(this));return _this.bind(null,function(){return{hasError:!0,hasValidationErrors:!1,validationErrorCode:null,validationErrorLocalizedMessage:null,showChangeUserName:!1,userName:null,isValidating:!1,showRules:!1,currentState:"VALIDATE_STATE",errorType:null,hasUserNameErrorTimeLimit:null,hasUserNameErrorGeneral:null,hasUserNameErrorAvailable:null,hasUserNameErrorRequired:null,hasUserNameErrorRestricted:null,hasUserNameErrorLocalized:null,hasUserNameUbisoftError:null,hasStartError:null,hasUserNameLengthError:null,hasCharacterError:null,hasCompanyError:null,isCallingValidation:!1,twoFactorAuthStatus:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_20__actions_ValidationErrorCodeAction__.a.name,_this.handleValidationErrorCodeAction),_this.bind(__WEBPACK_IMPORTED_MODULE_19__actions_CompanyErrorAction__.a.name,_this.handleCompanyErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_18__actions_CharacterErrorAction__.a.name,_this.handleCharacterErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17__actions_UserNameLengthErrorAction__.a.name,_this.handleUserNameLengthErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_16__actions_StartErrorAction__.a.name,_this.handleStartErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_UserNameErrorLocalizedAction__.a.name,_this.handleUserNameErrorLocalizedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_UserNameErrorRestrictedAction__.a.name,_this.handleUserNameErrorRestrictedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13__actions_UserNameErrorRequiredAction__.a.name,_this.handleUserNameErrorRequiredAction),_this.bind(__WEBPACK_IMPORTED_MODULE_12__actions_UserNameErrorAvailableAction__.a.name,_this.handleUserNameErrorAvailableAction),_this.bind(__WEBPACK_IMPORTED_MODULE_22__actions_UserNameUbisoftErrorAction__.a.name,_this.handleUserNameUbisoftErrorAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__.a.name,_this.handleValidationCallAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10__actions_UserNameErrorGeneralAction__.a.name,_this.handleUserNameErrorGeneralAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9__actions_UserNameErrorTimeLimitAction__.a.name,_this.handleUserNameErrorTimeLimitAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8__actions_LocalizedMessageAction__.a.name,_this.handleLocalizedMessageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_ChangeUserNameErrorTypeAction__.a.name,_this.handleChangeUserNameErrorType),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameStateAction__.a.name,_this.handleChangeUserNameStateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorAction__.a.name,_this.handleChangeUserNameError),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeUserNameAction__.a.name,_this.handleChangeUserNameAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameShowRulesAction__.a.name,_this.handleChangeUserNameShowRules),_this.bind(__WEBPACK_IMPORTED_MODULE_21__actions_LoadedTwoFactorAuthStatusAction__.a.name,_this.handleLoadedTwoFactorAuthStatusAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(UserNameStore,_ReducerStore),_createClass(UserNameStore,[{key:"handleLoggedOutAction",value:function(state,action){return{hasError:!0,hasValidationErrors:!1,validationErrorCode:null,validationErrorLocalizedMessage:null,showChangeUserName:!1,userName:null,isValidating:!1,showRules:!1,currentState:"VALIDATE_STATE",errorType:null,hasUserNameErrorTimeLimit:null,hasUserNameErrorGeneral:null,hasUserNameErrorAvailable:null,hasUserNameErrorRequired:null,hasUserNameErrorRestricted:null,hasUserNameErrorLocalized:null,hasUserNameUbisoftError:null,hasStartError:null,hasUserNameLengthError:null,hasCharacterError:null,hasCompanyError:null,isCallingValidation:!1,twoFactorAuthStatus:!1}}},{key:"handleChangeUserNameAction",value:function(state,action){return __assign({},state,{showChangeUserName:action.showChangeUserName,userName:action.userName,isValidating:action.isValidating})}},{key:"handleChangeUserNameShowRules",value:function(state,action){return __assign({},state,{showRules:action.showRules})}},{key:"handleChangeUserNameError",value:function(state,action){return __assign({},state,{hasError:action.hasError})}},{key:"handleChangeUserNameStateAction",value:function(state,action){return __assign({},state,{currentState:action.state})}},{key:"handleChangeUserNameErrorType",value:function(state,action){return __assign({},state,{errorType:action.errorType})}},{key:"handleLocalizedMessageAction",value:function(state,action){return __assign({},state,{validationErrorLocalizedMessage:action.error})}},{key:"handleUserNameErrorTimeLimitAction",value:function(state,action){return __assign({},state,{hasUserNameErrorTimeLimit:action.hasError})}},{key:"handleUserNameErrorGeneralAction",value:function(state,action){return __assign({},state,{hasUserNameErrorGeneral:action.hasError})}},{key:"handleValidationCallAction",value:function(state,action){return __assign({},state,{isCallingValidation:action.start})}},{key:"handleUserNameErrorAvailableAction",value:function(state,action){return __assign({},state,{hasUserNameErrorAvailable:action.hasError})}},{key:"handleUserNameErrorRequiredAction",value:function(state,action){return __assign({},state,{hasUserNameErrorRequired:action.hasError})}},{key:"handleUserNameErrorRestrictedAction",value:function(state,action){return __assign({},state,{hasUserNameErrorRestricted:action.hasError})}},{key:"handleUserNameErrorLocalizedAction",value:function(state,action){return __assign({},state,{hasUserNameErrorLocalized:action.hasError})}},{key:"handleStartErrorAction",value:function(state,action){return __assign({},state,{hasStartError:action.start})}},{key:"handleUserNameLengthErrorAction",value:function(state,action){return __assign({},state,{hasUserNameLengthError:action.hasError})}},{key:"handleCharacterErrorAction",value:function(state,action){return __assign({},state,{hasCharacterError:action.start})}},{key:"handleCompanyErrorAction",value:function(state,action){return __assign({},state,{hasCompanyError:action.start})}},{key:"handleValidationErrorCodeAction",value:function(state,action){return __assign({},state,{validationErrorCode:action.error,hasValidationErrors:action.hasError})}},{key:"handleLoadedTwoFactorAuthStatusAction",value:function(state,action){return __assign({},state,{twoFactorAuthStatus:action.optin})}},{key:"handleUserNameUbisoftErrorAction",value:function(state,action){return __assign({},state,{hasUserNameUbisoftError:action.hasError})}}]),UserNameStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);UserNameStore.getState=function(state){return state.UserNameStore},UserNameStore.getHasError=function(state){return state.UserNameStore.hasError},UserNameStore.getHasValidationErrors=function(state){return state.UserNameStore.hasValidationErrors},UserNameStore.getValidationErrorCode=function(state){return state.UserNameStore.validationErrorCode},UserNameStore.getValidationErrorLocalizedMessage=function(state){return state.UserNameStore.validationErrorLocalizedMessage},UserNameStore.getShowChangeUserName=function(state){return state.UserNameStore.showChangeUserName},UserNameStore.getIsCallingValidation=function(state){return state.UserNameStore.isCallingValidation},UserNameStore.getShowRules=function(state){return state.UserNameStore.showRules},UserNameStore.getCurrentState=function(state){return state.UserNameStore.currentState},UserNameStore.getErrorType=function(state){return state.UserNameStore.errorType},UserNameStore.getHasUserNameErrorTimeLimit=function(state){return state.UserNameStore.hasUserNameErrorTimeLimit},UserNameStore.getHasUserNameErrorGeneral=function(state){return state.UserNameStore.hasUserNameErrorGeneral},UserNameStore.getHasUserNameErrorAvailable=function(state){return state.UserNameStore.hasUserNameErrorAvailable},UserNameStore.getHasUserNameErrorRequired=function(state){return state.UserNameStore.hasUserNameErrorRequired},UserNameStore.getHasUserNameErrorRestricted=function(state){return state.UserNameStore.hasUserNameErrorRestricted},UserNameStore.getHasUserNameErrorLocalized=function(state){return state.UserNameStore.hasUserNameErrorLocalized},UserNameStore.getHasStartError=function(state){return state.UserNameStore.hasStartError},UserNameStore.getHasUserNameLengthError=function(state){return state.UserNameStore.hasUserNameLengthError},UserNameStore.getHasCharacterError=function(state){return state.UserNameStore.hasCharacterError},UserNameStore.getHasCompanyError=function(state){return state.UserNameStore.hasCompanyError},UserNameStore.getHasUserNameUbisoftError=function(state){return state.UserNameStore.hasUserNameUbisoftError},UserNameStore.getIsValidating=function(state){return state.UserNameStore.isValidating},UserNameStore.getTwoFactorAuthStatus=function(state){return state.UserNameStore.twoFactorAuthStatus},UserNameStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],UserNameStore)},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_services_FriendsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(181)),__WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__=__webpack_require__(227),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_6_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_6_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__),__WEBPACK_IMPORTED_MODULE_7_app_services_ProfilesService__=__webpack_require__(76),__WEBPACK_IMPORTED_MODULE_8_app_services_ConnectionsService__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_9__actions_ChangeFriendDeclineStateAction__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_10__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_11_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_12__modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_lodash__),__webpack_require__(37));__webpack_require__.d(exports,"a",function(){return FriendsActionsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsActionsService=function(_AbstractActions){function FriendsActionsService(friendsService,profilesService,connectionsService,tagCommanderService){_classCallCheck(this,FriendsActionsService);var _this=_possibleConstructorReturn(this,(FriendsActionsService.__proto__||Object.getPrototypeOf(FriendsActionsService)).call(this));return _this.friendsService=friendsService,_this.profilesService=profilesService,_this.connectionsService=connectionsService,_this.tagCommanderService=tagCommanderService,_this}return _inherits(FriendsActionsService,_AbstractActions),_createClass(FriendsActionsService,[{key:"handleDeclineRequest",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ChangeFriendDeclineStateAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(pid,(!0),(!1),(!1),(!0))),_context.next=4,this.friendsService.declineFriend(pid);case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(pid,(!1),(!0),(!1),(!0))),_context.next=7,this.map(pid,__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP);case 7:this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1)));case 8:case"end":return _context.stop()}},_callee,this)}))}},{key:"handleAcceptRequest",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(pid,(!0),(!1),(!0),(!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ChangeFriendDeclineStateAction__.a(null)),this.tagCommanderService.trackEvent("Nav - Overlay - Accept as Friend","Overlay"),_context2.next=5,this.friendsService.acceptFriend(pid);case 5:return _context2.next=7,Promise.all([this.profilesService.loadFriendClubProfiles(pid),this.profilesService.loadFriendUserProfiles(pid)]);case 7:return _context2.next=9,this.connectionsService.loadFriendConnections(pid);case 9:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(pid,(!1),(!0),(!0),(!1))),_context2.next=12,this.map(pid,__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__.FRIEND_STATE.FRIENDS);case 12:this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1)));case 13:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"map",value:function(pid,state){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var promise,friends,userId;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,new Promise(function(resolve){return setTimeout(function(){return resolve()},3e3)});case 2:return promise=_context3.sent,friends=Object.assign({},__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getByIds(this.state)),friends[pid]=Object.assign({},friends[pid],{state:state,lastModified:__WEBPACK_IMPORTED_MODULE_6_moment___default.a.utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),stillInRequests:!1}),userId=__WEBPACK_IMPORTED_MODULE_10__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),this.friendsService.afterLoadedFriends(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11_lodash__.map)(friends,function(friend){return friend}),userId,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_6_moment___default()().unix())),_context3.abrupt("return",promise);case 8:case"end":return _context3.stop()}},_callee3,this)}))}}]),FriendsActionsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsActionsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_7_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_8_app_services_ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_12__modules_tagCommander_services_TagCommanderService__.a])],FriendsActionsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass);
}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(169)),__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__=__webpack_require__(141);__webpack_require__.d(exports,"a",function(){return ConnectionsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ConnectionsStore=function(_ReducerStore){function ConnectionsStore(){_classCallCheck(this,ConnectionsStore);var _this=_possibleConstructorReturn(this,(ConnectionsStore.__proto__||Object.getPrototypeOf(ConnectionsStore)).call(this));return _this.bind(null,function(){return{byId:{},byProfileId:{},bySpaceId:{},ids:[],profileIdsForCall:[],expiration:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__.a.name,_this.handleLoadedConnectionsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ConnectionsStore,_ReducerStore),_createClass(ConnectionsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byProfileId:{},bySpaceId:{},ids:[],profileIdsForCall:[],expiration:{}}}},{key:"handleLoadedConnectionsAction",value:function(state,action){return __assign({},state,{byId:__assign({},state.byId,action.byId),byProfileId:__assign({},state.byProfileId,action.byProfileId),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),profileIdsForCall:state.profileIdsForCall.filter(function(id){return!action.profileIdsForCall.includes(id)}).concat(action.profileIdsForCall),expiration:__assign({},state.expiration,action.expiration)})}}]),ConnectionsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ConnectionsStore.getState=function(state){return state.ConnectionsStore},ConnectionsStore.getByProfileId=function(state){return state.ConnectionsStore.byProfileId},ConnectionsStore.getById=function(state){return state.ConnectionsStore.byId},ConnectionsStore.getIds=function(state){return state.ConnectionsStore.ids},ConnectionsStore.getProfileIdsForCall=function(state){return state.ConnectionsStore.profileIdsForCall},ConnectionsStore.getBySpaceId=function(state){return state.ConnectionsStore.bySpaceId},ConnectionsStore.getExpiration=function(state){return state.ConnectionsStore.expiration},ConnectionsStore.loaded=function(state){return state.LoadersStore.Connections},ConnectionsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ConnectionsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPopulationsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(238));__webpack_require__.d(exports,"a",function(){return PopulationsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PopulationsStore=function(_ReducerStore){function PopulationsStore(){_classCallCheck(this,PopulationsStore);var _this=_possibleConstructorReturn(this,(PopulationsStore.__proto__||Object.getPrototypeOf(PopulationsStore)).call(this));return _this.bind(null,function(){return{populations:[],byUniqueName:{},byType:{},byBetaName:{},byPhaseName:{},byPlatformCode:{},bySpaceId:{},expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPopulationsAction__.a.name,_this.handleLoadedPopulationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(PopulationsStore,_ReducerStore),_createClass(PopulationsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{populations:[],byUniqueName:{},byType:{},byBetaName:{},byPhaseName:{},byPlatformCode:{},bySpaceId:{},expiration:0}}},{key:"handleLoadedPopulationsAction",value:function(state,action){return __assign({},state,{populations:state.populations.concat(action.populations),byUniqueName:__assign({},state.byUniqueName,action.byUniqueName),byType:__assign({},state.byType,action.byType),byBetaName:__assign({},state.byBetaName,action.byBetaName),byPhaseName:__assign({},state.byPhaseName,action.byPhaseName),byPlatformCode:__assign({},state.byPlatformCode,action.byPlatformCode),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId),expiration:null!==action.expiration?action.expiration:state.expiration})}}]),PopulationsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);PopulationsStore.getState=function(state){return state.PopulationsStore},PopulationsStore.getPopulations=function(state){return state.PopulationsStore.populations},PopulationsStore.getByUniqueName=function(state){return state.PopulationsStore.byUniqueName},PopulationsStore.getByType=function(state){return state.PopulationsStore.byType},PopulationsStore.getByBetaName=function(state){return state.PopulationsStore.byBetaName},PopulationsStore.getByPhaseName=function(state){return state.PopulationsStore.byPhaseName},PopulationsStore.getByPlatformCode=function(state){return state.PopulationsStore.byPlatformCode},PopulationsStore.getBySpaceId=function(state){return state.PopulationsStore.bySpaceId},PopulationsStore.getExpiration=function(state){return state.PopulationsStore.expiration},PopulationsStore.loaded=function(state){return state.LoadersStore.Populations},PopulationsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PopulationsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeFriendStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(476)),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowGameStatsAction__=__webpack_require__(526),__WEBPACK_IMPORTED_MODULE_4__actions_ToggleShowFriendsSelectorTooltipWarningAction__=__webpack_require__(251),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeFriendStatsInputValueAction__=__webpack_require__(477),__WEBPACK_IMPORTED_MODULE_6__stejar_authentication__=__webpack_require__(6);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__stejar_authentication__);__webpack_require__.d(exports,"a",function(){return StatsComparisonStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},StatsComparisonStore=function(_ReducerStore){function StatsComparisonStore(){_classCallCheck(this,StatsComparisonStore);var _this=_possibleConstructorReturn(this,(StatsComparisonStore.__proto__||Object.getPrototypeOf(StatsComparisonStore)).call(this));return _this.bind(null,function(){return{selectedFriendId:null,selectedFriendName:null,isShownGameStats:!1,showFriendSelectorTooltip:!1,writtenFriendName:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_6__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__actions_ChangeFriendStatsAction__.a.name,_this.handleChangeFriendStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ToggleShowGameStatsAction__.a.name,_this.handleToggleShowGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a.name,_this.handleToggleShowFriendsSelectorTooltipWarningAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ChangeFriendStatsInputValueAction__.a.name,_this.handleChangeFriendStatsInputValueAction),_this}return _inherits(StatsComparisonStore,_ReducerStore),_createClass(StatsComparisonStore,[{key:"handleLoggedOutAction",value:function(state,action){return{selectedFriendId:null,selectedFriendName:null,isShownGameStats:!1,showFriendSelectorTooltip:!0,writtenFriendName:null}}},{key:"handleChangeFriendStatsAction",value:function(state,action){return __assign({},state,{selectedFriendId:action.selectedFriendId,selectedFriendName:action.selectedFriendName})}},{key:"handleToggleShowGameStatsAction",value:function(state,action){return __assign({},state,{isShownGameStats:action.show})}},{key:"handleToggleShowFriendsSelectorTooltipWarningAction",value:function(state,action){return __assign({},state,{showFriendSelectorTooltip:action.toggle})}},{key:"handleChangeFriendStatsInputValueAction",value:function(state,action){return __assign({},state,{writtenFriendName:action.input})}}]),StatsComparisonStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);StatsComparisonStore.getState=function(state){return state.StatsComparisonStore},StatsComparisonStore.getSelectedFriendId=function(state){return state.StatsComparisonStore.selectedFriendId},StatsComparisonStore.getSelectedFriendName=function(state){return state.StatsComparisonStore.selectedFriendName},StatsComparisonStore.getIsShownGameStats=function(state){return state.StatsComparisonStore.isShownGameStats},StatsComparisonStore.getShowFriendSelectorTooltip=function(state){return state.StatsComparisonStore.showFriendSelectorTooltip},StatsComparisonStore.getWrittenFriendName=function(state){return state.StatsComparisonStore.writtenFriendName},StatsComparisonStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],StatsComparisonStore)},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGamesAction});var LoadedGamesAction=function LoadedGamesAction(gamesByIds,gamesIds,platformsBySpaceId,platformsSpaceIds,platformsByGameId,platformsByUserId,lastSessionDates,gamesByPlatformId,byUserId,expiration){_classCallCheck(this,LoadedGamesAction),this.gamesByIds=gamesByIds,this.gamesIds=gamesIds,this.platformsBySpaceId=platformsBySpaceId,this.platformsSpaceIds=platformsSpaceIds,this.platformsByGameId=platformsByGameId,this.platformsByUserId=platformsByUserId,this.lastSessionDates=lastSessionDates,this.gamesByPlatformId=gamesByPlatformId,this.byUserId=byUserId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ReloadAction});var ReloadAction=function ReloadAction(){_classCallCheck(this,ReloadAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowOverviewTabDetailsViewAction});var ToggleShowOverviewTabDetailsViewAction=function ToggleShowOverviewTabDetailsViewAction(show){_classCallCheck(this,ToggleShowOverviewTabDetailsViewAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_entities_IntegratorConfig__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(178)),__WEBPACK_IMPORTED_MODULE_3__stejar_utils__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_4_app_modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__),__webpack_require__(37)),__WEBPACK_IMPORTED_MODULE_5_app_services_FriendsService__=__webpack_require__(181),__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__=__webpack_require__(76),__WEBPACK_IMPORTED_MODULE_7__actions_ChangeFilterFriendsByNameAction__=__webpack_require__(474),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeShowFriendRequestsAction__=__webpack_require__(481),__WEBPACK_IMPORTED_MODULE_9__actions_ChangeShowFriendInvitationsAction__=__webpack_require__(480),__WEBPACK_IMPORTED_MODULE_10__actions_ChangeFriendDeclineStateAction__=__webpack_require__(224),__WEBPACK_IMPORTED_MODULE_11__actions_ToggleAddFriendsTabAction__=__webpack_require__(247),__WEBPACK_IMPORTED_MODULE_12__CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_13__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_14__services_RecentlyMetService__=__webpack_require__(553),__WEBPACK_IMPORTED_MODULE_15__services_SocialNetworkService__=__webpack_require__(277),__WEBPACK_IMPORTED_MODULE_16__stores_SocialNetworkStore__=__webpack_require__(149),__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_18__actions_ToggleShowFriendsTabDetailsViewAction__=__webpack_require__(176),__WEBPACK_IMPORTED_MODULE_19_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_20__messages__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19_lodash__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_21__queries_RecentlyMetQueries__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_22_ubisoft_api__=__webpack_require__(10);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22_ubisoft_api__);__webpack_require__.d(exports,"a",function(){return FriendsCommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsCommunicationService=function(_AbstractActions){function FriendsCommunicationService(tagCommanderService,friendsService,profilesService,communicationService,recentlyMetService,socialNetworkService){_classCallCheck(this,FriendsCommunicationService);var _this=_possibleConstructorReturn(this,(FriendsCommunicationService.__proto__||Object.getPrototypeOf(FriendsCommunicationService)).call(this));return _this.tagCommanderService=tagCommanderService,_this.friendsService=friendsService,_this.profilesService=profilesService,_this.communicationService=communicationService,_this.recentlyMetService=recentlyMetService,_this.socialNetworkService=socialNetworkService,_this}return _inherits(FriendsCommunicationService,_AbstractActions),_createClass(FriendsCommunicationService,[{key:"onRedirectToFriend",value:function(clickFriendsProfileType,userName,clubUrl,locale){clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_SELF&&(window.parent.location.href=clubUrl+"/"+locale+"/profile/"+userName),clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_BLANK&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__.newWindow)(clubUrl+"/"+locale+"/profile/"+userName),clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_POST_MESSAGE&&(window.parent&&window.parent.postMessage({topic:"CLICKED_ON_FRIENDS_PROFILE",userName:userName},"*"),window.parent||window.postMessage({topic:"CLICKED_ON_FRIENDS_PROFILE",userName:userName},"*"))}},{key:"onChangeNameToFilterBy",value:function(name){var _this2=this,debounceCallback=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_19_lodash__.debounce)(function(){name.length>=1&&_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_ChangeFilterFriendsByNameAction__.a(name)),name||_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_ChangeFilterFriendsByNameAction__.a("")),_this2.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_20__messages__.d.FRIENDS)},500);debounceCallback()}},{key:"onToggleShowMoreFriendRequests",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ChangeShowFriendRequestsAction__.a(toggle))}},{key:"onToggleShowMoreFriendsInvitations",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_ChangeShowFriendInvitationsAction__.a(toggle))}},{key:"onCancelDeclineRequest",value:function(userId,state){state===__WEBPACK_IMPORTED_MODULE_22_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE?this.tagCommanderService.trackEvent("Nav - Ubibar - Drop Decline Friend Request","Overlay"):this.tagCommanderService.trackEvent("Nav - Ubibar - Drop Cancel Send friend invitation","Overlay"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ChangeFriendDeclineStateAction__.a(null))}},{key:"onConfirmDeclineRequest",value:function(userId,state){state===__WEBPACK_IMPORTED_MODULE_22_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE?this.tagCommanderService.trackEvent("Nav - Ubibar - Decline Friend Request","Overlay"):this.tagCommanderService.trackEvent("Nav - Ubibar - Cancel Send friend invitation","Overlay"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ChangeFriendDeclineStateAction__.a(userId))}},{key:"showAddFriendsTab",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promises;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.tagCommanderService.trackEvent("Nav - Overlay - Invite as friend","Overlay"),promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleAddFriendsTabAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ToggleShowFriendsTabDetailsViewAction__.a((!0)))],__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getShowGameContent(this.getState())&&promises.push(this.communicationService.hideFriendsDetailsProfileContent()),_context.next=5,Promise.all(promises);case 5:return _context.next=7,this.communicationService.toggleOpenDetailsViewState(!0,__WEBPACK_IMPORTED_MODULE_13__entities_OverviewTabDetails__.a.FRIEND_VIEW);case 7:return _context.next=9,Promise.all([this.recentlyMetService.loadRecentlyMet(),this.socialNetworkService.loadFriends(__WEBPACK_IMPORTED_MODULE_16__stores_SocialNetworkStore__.a.getSelectedTab(this.getState()))]);case 9:return _context.next=11,this.profilesService.loadFriendsClubProfilesByIds(__WEBPACK_IMPORTED_MODULE_21__queries_RecentlyMetQueries__.a.getRecentlyMetProfileIdsInTheLast2Weeks(this.getState()));case 11:case"end":return _context.stop()}},_callee,this)}))}},{key:"hideAddFriendsTab",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.communicationService.hideFriendsDetailsAddContent();case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}))}}]),FriendsCommunicationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsCommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4_app_modules_tagCommander_services_TagCommanderService__.a,__WEBPACK_IMPORTED_MODULE_5_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_12__CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_14__services_RecentlyMetService__.a,__WEBPACK_IMPORTED_MODULE_15__services_SocialNetworkService__.a])],FriendsCommunicationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeUserNameAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(228)),__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__=__webpack_require__(778),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__=__webpack_require__(484),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__=__webpack_require__(485),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__=__webpack_require__(229),__WEBPACK_IMPORTED_MODULE_7__actions_StartErrorAction__=__webpack_require__(518),__WEBPACK_IMPORTED_MODULE_8__actions_UserNameLengthErrorAction__=__webpack_require__(537),__WEBPACK_IMPORTED_MODULE_9__actions_CharacterErrorAction__=__webpack_require__(487),__WEBPACK_IMPORTED_MODULE_10__actions_CompanyErrorAction__=__webpack_require__(489),__WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__=__webpack_require__(539),__WEBPACK_IMPORTED_MODULE_12__stores_UserNameStore__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_13__actions_LocalizedMessageAction__=__webpack_require__(245),__WEBPACK_IMPORTED_MODULE_14__actions_ChangeUserNameStateAction__=__webpack_require__(486),__WEBPACK_IMPORTED_MODULE_15__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorTimeLimitAction__=__webpack_require__(536),__WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorGeneralAction__=__webpack_require__(532),__WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorAvailableAction__=__webpack_require__(531),__WEBPACK_IMPORTED_MODULE_19__actions_UserNameErrorRequiredAction__=__webpack_require__(534),__WEBPACK_IMPORTED_MODULE_20__actions_UserNameErrorRestrictedAction__=__webpack_require__(535),__WEBPACK_IMPORTED_MODULE_21__actions_UserNameErrorLocalizedAction__=__webpack_require__(533),__WEBPACK_IMPORTED_MODULE_22__queries_UserNameQueries__=__webpack_require__(548),__WEBPACK_IMPORTED_MODULE_23__actions_UpdateScreenNameAction__=__webpack_require__(529),__WEBPACK_IMPORTED_MODULE_24__authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_25__CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_26__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_27__stores_OtherGamesCarouselStore__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_28__stores_ChangeAvatarStore__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_29__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_30__tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_31__actions_UserNameUbisoftErrorAction__=__webpack_require__(538);
__webpack_require__.d(exports,"a",function(){return NameChangeService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},NameChangeService=function(_AbstractActions){function NameChangeService(userNameService,communicationService,tagCommanderService){_classCallCheck(this,NameChangeService);var _this=_possibleConstructorReturn(this,(NameChangeService.__proto__||Object.getPrototypeOf(NameChangeService)).call(this));return _this.userNameService=userNameService,_this.communicationService=communicationService,_this.tagCommanderService=tagCommanderService,_this}return _inherits(NameChangeService,_AbstractActions),_createClass(NameChangeService,[{key:"handleClickChangeUserName",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promises;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_12__stores_UserNameStore__.a.getTwoFactorAuthStatus(this.getState())){_context.next=2;break}return _context.abrupt("return");case 2:if(!__WEBPACK_IMPORTED_MODULE_12__stores_UserNameStore__.a.getShowChangeUserName(this.getState())){_context.next=7;break}return this.goBackToValidateState(),_context.next=6,this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_26__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 6:return _context.abrupt("return");case 7:return this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Open Change Name Panel","Overlay"),promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_29__actions_ToggleShowOverviewTabDetailsViewAction__.a((!0)))],__WEBPACK_IMPORTED_MODULE_27__stores_OtherGamesCarouselStore__.a.getShowGameContent(this.getState())&&promises.push(this.communicationService.hideOverviewDetailsGameContent()),__WEBPACK_IMPORTED_MODULE_28__stores_ChangeAvatarStore__.a.getShowAvatarComponent(this.getState())&&promises.push(this.communicationService.hideOverviewDetailsAvatarContent()),promises.length&&Promise.all(promises),_context.next=14,this.communicationService.toggleOpenDetailsViewState(!0,__WEBPACK_IMPORTED_MODULE_26__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 14:this.resetServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ChangeUserNameAction__.a((!0),userName,(!1)));case 16:case"end":return _context.stop()}},_callee,this)}))}},{key:"handleCloseUserName",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.resetServiceErrors(),_context2.next=3,this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_26__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 3:this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ChangeUserNameAction__.a((!1),null,(!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!1)));case 5:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"handleToggleShowRules",value:function(showRules){this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!showRules)))}},{key:"saveUserName",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(this.validateUserName(userName),!__WEBPACK_IMPORTED_MODULE_22__queries_UserNameQueries__.a.getHasAnyError(this.getState())){_context3.next=3;break}return _context3.abrupt("return");case 3:return this.resetServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_LocalizedMessageAction__.a(null)),this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Change Name Panel - Save Name","Overlay"),_context3.prev=9,_context3.next=12,this.userNameService.updateScreenName(userName);case 12:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_23__actions_UpdateScreenNameAction__.a(userName,__WEBPACK_IMPORTED_MODULE_24__authentication_queries_IdentityQueries__.a.getUserId(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ChangeUserNameAction__.a((!1),null,(!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ChangeUserNameStateAction__.a("VALIDATE_STATE")),_context3.next=18,this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_26__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 18:_context3.next=34;break;case 20:_context3.prev=20,_context3.t0=_context3["catch"](9),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ChangeUserNameStateAction__.a("VALIDATE_STATE")),_context3.t1=_context3.t0.data.errorCode.toString(),_context3.next=_context3.t1===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.a?27:_context3.t1===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.b?27:30;break;case 27:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorTimeLimitAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!1))),_context3.abrupt("break",33);case 30:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorGeneralAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),_context3.abrupt("break",33);case 33:this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__.a((!1)));case 34:case"end":return _context3.stop()}},_callee3,this,[[9,20]])}))}},{key:"callValidation",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var hasError;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(this.resetServiceErrors(),hasError=this.validateUserName(userName),!hasError){_context4.next=4;break}return _context4.abrupt("return");case 4:return this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Change Name Panel - Validate Name","Overlay"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__.a((!0))),_context4.next=8,this.userNameService.validateUserName(userName);case 8:if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__.a((!1))),!__WEBPACK_IMPORTED_MODULE_12__stores_UserNameStore__.a.getHasValidationErrors(this.getState())){_context4.next=33;break}this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),_context4.t0=__WEBPACK_IMPORTED_MODULE_12__stores_UserNameStore__.a.getValidationErrorCode(this.getState()).toString(),_context4.next=_context4.t0===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.c?14:_context4.t0===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.d?16:_context4.t0===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.e?18:_context4.t0===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.f?20:_context4.t0===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.g?22:_context4.t0===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.a?24:_context4.t0===__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.b?24:26;break;case 14:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorAvailableAction__.a((!0))),_context4.abrupt("break",28);case 16:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_UserNameErrorRequiredAction__.a((!0))),_context4.abrupt("break",28);case 18:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_20__actions_UserNameErrorRestrictedAction__.a((!0))),_context4.abrupt("break",28);case 20:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_UserNameErrorLocalizedAction__.a((!0))),_context4.abrupt("break",28);case 22:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorGeneralAction__.a((!0))),_context4.abrupt("break",28);case 24:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorTimeLimitAction__.a((!0))),_context4.abrupt("break",28);case 26:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorGeneralAction__.a((!0))),_context4.abrupt("break",28);case 28:this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_12__stores_UserNameStore__.a.getValidationErrorCode(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_LocalizedMessageAction__.a(__WEBPACK_IMPORTED_MODULE_12__stores_UserNameStore__.a.getValidationErrorLocalizedMessage(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),_context4.next=35;break;case 33:this.noServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ChangeUserNameStateAction__.a("SAVE_STATE"));case 35:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"checkIfUserNameIsValid",value:function(userName){this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ChangeUserNameStateAction__.a("VALIDATE_STATE")),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__.a((!1))),this.validateUserName(userName),__WEBPACK_IMPORTED_MODULE_22__queries_UserNameQueries__.a.getHasAnyError(this.getState())||(this.resetServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(null)))}},{key:"validateUserName",value:function(userName,onClickChangeName){var hasError=!1;return this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ChangeUserNameAction__.a((!0),userName,(!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!1))),userName!==__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__selectors__.g)(this.getState())||onClickChangeName?this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorAvailableAction__.a((!1))):(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorAvailableAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.c)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0),""==userName||null==userName?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_StartErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.h)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0):this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_StartErrorAction__.a((!1))),userName.length<3||userName.length>15?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_UserNameLengthErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.i)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0):this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_UserNameLengthErrorAction__.a((!1))),/^[a-zA-Z]+$/.test(userName.substring(0,1))?this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_StartErrorAction__.a((!1))):(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_StartErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.h)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0),/^[a-zA-Z0-9_.\-]*$/.test(userName)?this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_CharacterErrorAction__.a((!1))):(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_CharacterErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.j)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0),"ubi_"==userName.substring(0,4)||"_ubi"==userName.substr(userName.length-4)?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_CompanyErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.k)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0):this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_CompanyErrorAction__.a((!1))),userName.toLowerCase().indexOf("ubisoft")!==-1||userName.toLowerCase().indexOf("ubi")!==-1?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeUserNameErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_31__actions_UserNameUbisoftErrorAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeUserNameErrorTypeAction__.a(__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.l)),onClickChangeName||this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeUserNameShowRulesAction__.a((!0))),hasError=!0):this.dispatch(new __WEBPACK_IMPORTED_MODULE_31__actions_UserNameUbisoftErrorAction__.a((!1))),hasError}},{key:"resetServiceErrors",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorAvailableAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_UserNameErrorRequiredAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_20__actions_UserNameErrorRestrictedAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_UserNameErrorLocalizedAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorTimeLimitAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorGeneralAction__.a(null))}},{key:"noServiceErrors",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorAvailableAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_UserNameErrorRequiredAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_20__actions_UserNameErrorRestrictedAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_UserNameErrorLocalizedAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_UserNameErrorTimeLimitAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_UserNameErrorGeneralAction__.a((!1)))}},{key:"resetErrors",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_UserNameErrorAvailableAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_StartErrorAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_UserNameLengthErrorAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_CharacterErrorAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_CompanyErrorAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_31__actions_UserNameUbisoftErrorAction__.a(null))}},{key:"goBackToValidateState",value:function(){this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Change Name Panel - Cancel Change Name","Overlay"),this.resetErrors(),this.resetServiceErrors(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ChangeUserNameStateAction__.a("VALIDATE_STATE")),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ValidationCallAction__.a((!1)))}}]),NameChangeService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);NameChangeService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__services_UserNameService__.m,__WEBPACK_IMPORTED_MODULE_25__CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_30__tagCommander_services_TagCommanderService__.a])],NameChangeService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(59));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__);__webpack_require__.d(exports,"a",function(){return PageLoaderService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},PageLoaderService=function(){function PageLoaderService(){_classCallCheck(this,PageLoaderService),this.$show=new __WEBPACK_IMPORTED_MODULE_1__stejar_utils__.Subject((!0)),this.$display=new __WEBPACK_IMPORTED_MODULE_1__stejar_utils__.Subject((!0))}return _createClass(PageLoaderService,[{key:"showPageLoader",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.$display.next(!0),_context.next=3,new Promise(function(resolve){return setTimeout(function(){return resolve()},1)});case 3:return this.$show.next(!0),_context.abrupt("return",new Promise(function(resolve){return setTimeout(function(){return resolve()},200)}));case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"hidePageLoader",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.$show.next(!1),_context2.next=3,new Promise(function(resolve){return setTimeout(function(){return resolve()},200)});case 3:return this.$display.next(!1),_context2.abrupt("return",Promise.resolve());case 5:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"show$",get:function(){return this.$show.asObservable()}},{key:"display$",get:function(){return this.$display.asObservable()}}]),PageLoaderService}();PageLoaderService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PageLoaderService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_2__stores_FriendsPlayingGameStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_3__OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_4__stores_StatsComparisonStore__=__webpack_require__(120);__webpack_require__.d(exports,"a",function(){return FriendsOwnedGamesQueries});var FriendsOwnedGamesQueries=function FriendsOwnedGamesQueries(){_classCallCheck(this,FriendsOwnedGamesQueries)};FriendsOwnedGamesQueries.getAggregateFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getAggregateFriends",__WEBPACK_IMPORTED_MODULE_3__OtherGamesCarouselQueries__.a.getCurrentLastPlayedInstallmentId,__WEBPACK_IMPORTED_MODULE_2__stores_FriendsPlayingGameStore__.a.getFriendsByInstallmentId,function(installmentId,friendsByInstallmentId){return friendsByInstallmentId[installmentId]?friendsByInstallmentId[installmentId].friends:[]}),FriendsOwnedGamesQueries.getFriendsPlayingGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getFriendsPlayingGame",__WEBPACK_IMPORTED_MODULE_1__selectors__.f,FriendsOwnedGamesQueries.getAggregateFriends,function(friends,aggregateFriends){return friends.filter(function(friend){return!!aggregateFriends.find(function(aggregateFriend){return friend.pid==aggregateFriend.userId})})}),FriendsOwnedGamesQueries.getFriendsPlayingGameNames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getFriendsPlayingGameNames",FriendsOwnedGamesQueries.getFriendsPlayingGame,function(friends){return friends.map(function(friend){return friend.nameOnPlatform})}),FriendsOwnedGamesQueries.getNbOfFriendsPlaying=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getNbOfFriendsPlaying",FriendsOwnedGamesQueries.getFriendsPlayingGame,function(friends){return friends.length}),FriendsOwnedGamesQueries.getHasFriendsPlaying=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getHasFriendsPlaying",FriendsOwnedGamesQueries.getFriendsPlayingGame,function(friends){return friends.length>0}),FriendsOwnedGamesQueries.getFriendsPlayingIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getHasFriendsPlaying",FriendsOwnedGamesQueries.getFriendsPlayingGame,function(friends){return friends.map(function(friend){return friend.pid})}),FriendsOwnedGamesQueries.getFriendsPlayingGameForSelect=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendsOwnedGamesQueries.getFriendsPlayingGameForSelect",FriendsOwnedGamesQueries.getFriendsPlayingGame,__WEBPACK_IMPORTED_MODULE_4__stores_StatsComparisonStore__.a.getWrittenFriendName,function(friends,friendName){return friendName?friends.map(function(friend){return{key:friend.pid,value:friend.nameOnPlatform}}).filter(function(friend){return friend.value.toLowerCase().indexOf(friendName.toLowerCase())!==-1}):friends.map(function(friend){return{key:friend.pid,value:friend.nameOnPlatform}})})},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedGamesNewsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(235));__webpack_require__.d(exports,"a",function(){return NewsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},NewsStore=function(_ReducerStore){function NewsStore(){_classCallCheck(this,NewsStore);var _this=_possibleConstructorReturn(this,(NewsStore.__proto__||Object.getPrototypeOf(NewsStore)).call(this));return _this.bind(null,function(){return{news:[],byId:{},bySpaceId:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedGamesNewsAction__.a.name,_this.handleLoadedGamesNewsAction),_this}return _inherits(NewsStore,_ReducerStore),_createClass(NewsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{news:[],byId:{},bySpaceId:{}}}},{key:"handleLoadedGamesNewsAction",value:function(state,action){return __assign({},state,{news:[].concat(_toConsumableArray(state.news),_toConsumableArray(action.news)),byId:__assign({},state.byId,action.byId),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId)})}}]),NewsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);NewsStore.getState=function(state){return state.NewsStore},NewsStore.getNews=function(state){return state.NewsStore.news},NewsStore.getById=function(state){return state.NewsStore.byId},NewsStore.getBySpaceId=function(state){return state.NewsStore.bySpaceId},NewsStore.loaded=function(state){return state.LoadersStore.News},NewsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],NewsStore)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedProfileEntitiesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(239));__webpack_require__.d(exports,"a",function(){return ProfileEntitiesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ProfileEntitiesStore=function(_ReducerStore){function ProfileEntitiesStore(){_classCallCheck(this,ProfileEntitiesStore);var _this=_possibleConstructorReturn(this,(ProfileEntitiesStore.__proto__||Object.getPrototypeOf(ProfileEntitiesStore)).call(this));return _this.bind(null,function(){return{entities:[],byEntityId:{},bySpaceId:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedProfileEntitiesAction__.a.name,_this.handleLoadedProfileEntitiesAction),_this}return _inherits(ProfileEntitiesStore,_ReducerStore),_createClass(ProfileEntitiesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{entities:[],byEntityId:{},bySpaceId:{}}}},{key:"handleLoadedProfileEntitiesAction",value:function(state,action){return __assign({},state,{entities:[].concat(_toConsumableArray(state.entities),_toConsumableArray(action.entities)),byEntityId:__assign({},state.byEntityId,action.byEntityId),bySpaceId:__assign({},state.bySpaceId,action.bySpaceId)})}}]),ProfileEntitiesStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ProfileEntitiesStore.getState=function(state){return state.ProfileEntitiesStore},ProfileEntitiesStore.getByEntityId=function(state){return state.ProfileEntitiesStore.byEntityId},ProfileEntitiesStore.getBySpaceId=function(state){return state.ProfileEntitiesStore.bySpaceId},ProfileEntitiesStore.loaded=function(state){return state.LoadersStore.ProfileEntities},ProfileEntitiesStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ProfileEntitiesStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeSocialNetworkTabAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(483)),__WEBPACK_IMPORTED_MODULE_4__actions_ErrorLoadingPsnAction__=__webpack_require__(491),__WEBPACK_IMPORTED_MODULE_5__actions_ErrorLoadingXboxAction__=__webpack_require__(492),__WEBPACK_IMPORTED_MODULE_6__actions_IsReloadFailedXboxAction__=__webpack_require__(718),__WEBPACK_IMPORTED_MODULE_7__actions_IsReloadFailedPsnAction__=__webpack_require__(717),__WEBPACK_IMPORTED_MODULE_8__actions_ToggleMoreFriendsOnPsnAction__=__webpack_require__(521),__WEBPACK_IMPORTED_MODULE_9__actions_ToggleMoreFriendsOnXboxAction__=__webpack_require__(522);__webpack_require__.d(exports,"a",function(){return SocialNetworkStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SocialNetworkStore=function(_ReducerStore){function SocialNetworkStore(){_classCallCheck(this,SocialNetworkStore);var _this=_possibleConstructorReturn(this,(SocialNetworkStore.__proto__||Object.getPrototypeOf(SocialNetworkStore)).call(this));return _this.bind(null,function(){return{selectedTab:"PSN",errorLoadingPsn:!1,errorLoadingXbox:!1,isReloadFailedPsn:!1,isReloadFailedXbox:!1,showMoreFriendsOnPsn:!0,showMoreFriendsOnXbox:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeSocialNetworkTabAction__.a.name,_this.handleChangeSocialNetworkTabAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ErrorLoadingPsnAction__.a.name,_this.handleErrorLoadingPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ErrorLoadingXboxAction__.a.name,_this.handleErrorLoadingXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_IsReloadFailedXboxAction__.a.name,_this.handleIsReloadFailedXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_IsReloadFailedPsnAction__.a.name,_this.handleIsReloadFailedPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8__actions_ToggleMoreFriendsOnPsnAction__.a.name,_this.handleToggleMoreFriendsOnPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9__actions_ToggleMoreFriendsOnXboxAction__.a.name,_this.handleToggleMoreFriendsOnXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(SocialNetworkStore,_ReducerStore),_createClass(SocialNetworkStore,[{key:"handleLoggedOutAction",value:function(state,action){return{selectedTab:"PSN",errorLoadingPsn:!1,errorLoadingXbox:!1,isReloadFailedPsn:!1,isReloadFailedXbox:!1,showMoreFriendsOnPsn:!0,showMoreFriendsOnXbox:!0}}},{key:"handleChangeSocialNetworkTabAction",value:function(state,action){return Object.assign({},state,{selectedTab:action.tab})}},{key:"handleErrorLoadingPsnAction",value:function(state,action){return Object.assign({},state,{errorLoadingPsn:action.error})}},{key:"handleErrorLoadingXboxAction",value:function(state,action){return Object.assign({},state,{errorLoadingXbox:action.error})}},{key:"handleIsReloadFailedPsnAction",value:function(state,action){return Object.assign({},state,{isReloadFailedPsn:action.error})}},{key:"handleIsReloadFailedXboxAction",value:function(state,action){return Object.assign({},state,{isReloadFailedXbox:action.error})}},{key:"handleToggleMoreFriendsOnPsnAction",value:function(state,action){return Object.assign({},state,{showMoreFriendsOnPsn:action.toggle})}},{key:"handleToggleMoreFriendsOnXboxAction",value:function(state,action){return Object.assign({},state,{showMoreFriendsOnXbox:action.toggle})}}]),SocialNetworkStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);SocialNetworkStore.getState=function(state){return state.SocialNetworkStore},SocialNetworkStore.getSelectedTab=function(state){return state.SocialNetworkStore.selectedTab},SocialNetworkStore.getErrorLoadingPsn=function(state){return state.SocialNetworkStore.errorLoadingPsn},SocialNetworkStore.getErrorLoadingXbox=function(state){return state.SocialNetworkStore.errorLoadingXbox},SocialNetworkStore.getIsReloadFailedPsn=function(state){return state.SocialNetworkStore.isReloadFailedPsn},SocialNetworkStore.getIsReloadFailedXbox=function(state){return state.SocialNetworkStore.isReloadFailedXbox},SocialNetworkStore.getShowMoreFriendsOnPsn=function(state){return state.SocialNetworkStore.showMoreFriendsOnPsn},SocialNetworkStore.getShowMoreFriendsOnXbox=function(state){return state.SocialNetworkStore.showMoreFriendsOnXbox},SocialNetworkStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],SocialNetworkStore)},,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./cert2.json":579,"./dev-prod.json":580,"./dev.json":581,"./env.json":184,"./local-prod.json":582,"./prod.json":583,"./uat-prod.json":584,"./uat.json":585};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=165},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeLPGPlatformAction});var ChangeLPGPlatformAction=function ChangeLPGPlatformAction(gameId,spaceId){_classCallCheck(this,ChangeLPGPlatformAction),this.gameId=gameId,this.spaceId=spaceId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return DeleteCONNECTloginDataAction});var DeleteCONNECTloginDataAction=function DeleteCONNECTloginDataAction(){_classCallCheck(this,DeleteCONNECTloginDataAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedAvatarAction});var LoadedAvatarAction=function LoadedAvatarAction(byId){_classCallCheck(this,LoadedAvatarAction),this.byId=byId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedConnectionsAction});var LoadedConnectionsAction=function LoadedConnectionsAction(byId,byProfileId,bySpaceId,ids,profileIdsForCall,expiration){_classCallCheck(this,LoadedConnectionsAction),this.byId=byId,this.byProfileId=byProfileId,this.bySpaceId=bySpaceId,this.ids=ids,this.profileIdsForCall=profileIdsForCall,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsClubProfilesAction});var LoadedFriendsClubProfilesAction=function LoadedFriendsClubProfilesAction(byId,ids,hasError,expiration){_classCallCheck(this,LoadedFriendsClubProfilesAction),this.byId=byId,this.ids=ids,this.hasError=hasError,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsPlayingGame});var LoadedFriendsPlayingGame=function LoadedFriendsPlayingGame(friendsByInstallmentId){_classCallCheck(this,LoadedFriendsPlayingGame),this.friendsByInstallmentId=friendsByInstallmentId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsStatsAction});var LoadedFriendsStatsAction=function LoadedFriendsStatsAction(friendsStates){_classCallCheck(this,LoadedFriendsStatsAction),this.friendsStates=friendsStates}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsUserProfilesAction});var LoadedFriendsUserProfilesAction=function LoadedFriendsUserProfilesAction(byId,byNameOnPlatform,byUserId,ids,hasError,expiration){_classCallCheck(this,LoadedFriendsUserProfilesAction),this.byId=byId,this.byNameOnPlatform=byNameOnPlatform,this.byUserId=byUserId,this.ids=ids,this.hasError=hasError,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGameStatsAction});var LoadedGameStatsAction=function LoadedGameStatsAction(stats,bySpaceId,ids){_classCallCheck(this,LoadedGameStatsAction),this.stats=stats,this.bySpaceId=bySpaceId,this.ids=ids}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingGameStatsAction});var LoadingGameStatsAction=function LoadingGameStatsAction(){_classCallCheck(this,LoadingGameStatsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowFriendsTabDetailsViewAction});var ToggleShowFriendsTabDetailsViewAction=function ToggleShowFriendsTabDetailsViewAction(show){_classCallCheck(this,ToggleShowFriendsTabDetailsViewAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(260)),__WEBPACK_IMPORTED_MODULE_3_app_selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_5__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_6__services_WidgetChannelService__=__webpack_require__(98);__webpack_require__.d(exports,"a",function(){return EmailVerificationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},EmailVerificationService=function(_AbstractActions){function EmailVerificationService(channel){_classCallCheck(this,EmailVerificationService);var _this=_possibleConstructorReturn(this,(EmailVerificationService.__proto__||Object.getPrototypeOf(EmailVerificationService)).call(this));return _this.channel=channel,_this}return _inherits(EmailVerificationService,_AbstractActions),_createClass(EmailVerificationService,[{key:"onTriggerEmailActivation",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_5__messages__.a.INTEGRATOR_TRIGGER_EMAIL_VERIFICATION,{ticket:__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).ticket,sessionId:__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).sessionId,userId:__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).user_id})}},{key:"callback",value:function(userData,handleResizeContentHeight){var _this2=this;this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__.a(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.j)(this.state),(!0))),handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_5__messages__.d.NOTIFICATIONS),new Promise(function(resolve){return setTimeout(function(){return resolve()},3500)}).then(function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__.a((!1),(!1))),handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_5__messages__.d.NOTIFICATIONS)})}},{key:"afterTriggeredEmailVerification",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__.a((!1),(!0)))}}]),EmailVerificationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);EmailVerificationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_6__services_WidgetChannelService__.a])],EmailVerificationService)},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return LOGIN_TYPE}),__webpack_require__.d(exports,"d",function(){return EXTERANL_LOGIN_TYPE}),__webpack_require__.d(exports,"c",function(){return CLICK_FRIENDS_PROFILE_TYPE}),__webpack_require__.d(exports,"b",function(){return OVERWRITTEN_LINKS_TYPE});var LOGIN_TYPE;!function(LOGIN_TYPE){LOGIN_TYPE[LOGIN_TYPE.LOGIN_TYPE_MODAL="modal"]="LOGIN_TYPE_MODAL",LOGIN_TYPE[LOGIN_TYPE.LOGIN_TYPE_POPUP="popup"]="LOGIN_TYPE_POPUP"}(LOGIN_TYPE||(LOGIN_TYPE={}));var EXTERANL_LOGIN_TYPE;!function(EXTERANL_LOGIN_TYPE){EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_NONE="none"]="LOGIN_NONE",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_PSN="psn"]="LOGIN_PSN",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_XBOX="xbox"]="LOGIN_XBOX",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_TWITCH="twitch"]="LOGIN_TWITCH"}(EXTERANL_LOGIN_TYPE||(EXTERANL_LOGIN_TYPE={}));var CLICK_FRIENDS_PROFILE_TYPE;!function(CLICK_FRIENDS_PROFILE_TYPE){CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_SELF="Self"]="TYPE_SELF",CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_BLANK="Blank"]="TYPE_BLANK",CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_POST_MESSAGE="PostMessage"]="TYPE_POST_MESSAGE"}(CLICK_FRIENDS_PROFILE_TYPE||(CLICK_FRIENDS_PROFILE_TYPE={}));var OVERWRITTEN_LINKS_TYPE;!function(OVERWRITTEN_LINKS_TYPE){OVERWRITTEN_LINKS_TYPE[OVERWRITTEN_LINKS_TYPE.ACCOUNT="account"]="ACCOUNT",OVERWRITTEN_LINKS_TYPE[OVERWRITTEN_LINKS_TYPE.SUPPORT="support"]="SUPPORT"}(OVERWRITTEN_LINKS_TYPE||(OVERWRITTEN_LINKS_TYPE={}))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1_spark_overlay__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(38)),__WEBPACK_IMPORTED_MODULE_2__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_spark_overlay__),__webpack_require__(25));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_translate__);__webpack_require__.d(exports,"a",function(){return CustomTranslateQueries});var CustomTranslateQueries=function CustomTranslateQueries(){_classCallCheck(this,CustomTranslateQueries)};CustomTranslateQueries.getAddFriendTranslatedText=function(state){return CustomTranslateQueries.getTranslatedText(state,{valueToTranslate:"Enter full player name"})},CustomTranslateQueries.getFilterTranslatedText=function(state){return CustomTranslateQueries.getTranslatedText(state,{valueToTranslate:"Filter"})},CustomTranslateQueries.getFriendsSelectorTranslatedText=function(state){return CustomTranslateQueries.getTranslatedText(state,{valueToTranslate:"Compare with"})},CustomTranslateQueries.getTranslatedText=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("CustomTranslateQueries.getTranslatedText",__WEBPACK_IMPORTED_MODULE_1_spark_overlay__.getCurrentCatalog,function(state,props){return props.valueToTranslate},function(catalog,valueToTranslate){var translatedValue=null;try{translatedValue=catalog[valueToTranslate]||valueToTranslate}catch(error){translatedValue=valueToTranslate,console.error("[LOCALE MISSING] "+translatedValue)}return catalog&&Object.keys(catalog).forEach(function(name){translatedValue=translatedValue.replace("%("+name+")",catalog[name])}),translatedValue}),CustomTranslateQueries.getIsLocaleXpTranslationTooLong=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("CustomTranslateQueries.getTranslatedText",__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.LocaleQueries.getCurrentLocale,function(locale){return["de-DE","es-ES","fr-FR","fr-CA","hu-HU","it-IT","pl-PL","uk-UA"].indexOf(locale)!==-1})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__stores_GameStatsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(87)),__WEBPACK_IMPORTED_MODULE_2__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_4_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_5__OtherGamesCarouselQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__),__webpack_require__(47)),__WEBPACK_IMPORTED_MODULE_6__stores_StatsComparisonStore__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_8_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_8_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__);__webpack_require__.d(exports,"a",function(){return GameStatsQueries});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},GameStatsQueries=function(){function GameStatsQueries(){_classCallCheck(this,GameStatsQueries)}return _createClass(GameStatsQueries,null,[{key:"computeGameStatsWithRank",value:function(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,username){var newStats=stats.map(function(stat){var orderValues=[];if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.forEach)(userProfilesByUserId,function(userProfileByUserId,key){var values=[];userProfileByUserId.forEach(function(userId){platforms.forEach(function(platform){friendsStats[userId+"_"+platform.spaceId]&&friendsStats[userId+"_"+platform.spaceId].stats[stat.id]&&values.push({value:friendsStats[userId+"_"+platform.spaceId].stats[stat.id].value,username:userProfilesById[key].nameOnPlatform})})}),values.length&&(values=values.sort(function(a,b){return parseFloat(a.value)>parseFloat(b.value)?-1:1}),orderValues.push(values[0]))}),orderValues.length){orderValues.push({value:stat.value,username:username});var rank=1;return orderValues.sort(function(a,b){return parseFloat(a.value)==parseFloat(b.value)?a.username.toLowerCase()<b.username.toLowerCase()?-1:a.username.toLowerCase()>b.username.toLowerCase()?1:0:parseFloat(a.value)>parseFloat(b.value)?-1:1}).find(function(value,offset){return rank=offset+1,value.value==stat.value}),__assign({},stat,{rank:rank})}return __assign({},stat,{rank:1})});return newStats}},{key:"computeGameStatsToCompareWithAFriend",value:function(stats,friendsStats,userProfilesById,userProfilesByUserId,spaceIds,friendId){var newStats=stats.map(function(stat){var orderValues=[],currentFrindUserProfilesByUserId=userProfilesByUserId[friendId],values=[];if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.forEach)(currentFrindUserProfilesByUserId,function(key){spaceIds.forEach(function(spaceId){friendsStats[key+"_"+spaceId]&&friendsStats[key+"_"+spaceId].stats[stat.id]&&values.push({value:friendsStats[key+"_"+spaceId].stats[stat.id].value,username:userProfilesById[key].nameOnPlatform})})}),values.length&&(values=values.sort(function(a,b){return parseFloat(a.value)>parseFloat(b.value)?-1:1}),orderValues.push(values[0])),orderValues.length){var friendFormattedValue=GameStatsQueries.computeGameStatsValue(orderValues[0].value,stat.format,stat.unit,stat.statName);return __assign({},stat,{friendFormattedValue:friendFormattedValue,friendValue:orderValues[0].value})}var _friendFormattedValue=GameStatsQueries.computeGameStatsValue(null,stat.format,stat.unit,stat.statName);return __assign({},stat,{friendFormattedValue:_friendFormattedValue,friendValue:null})});return newStats}},{key:"computeGameStatsValue",value:function(value,format,unit,stateName){if(!value&&!format&&!stateName)return[{value:"0",isUnit:!1}];if(format==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_FORMAT.INTEGER&&(unit===__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.METERS||unit===__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.METERS_ABSOLUTE_UNIT||unit===__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.KILOMETERS||unit===__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.KILOMETERS_ABSOLUTE_UNIT)){var unitValue=null;return unit!==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.METERS&&unit!==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.METERS_ABSOLUTE_UNIT||(unitValue="m"),unit!==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.KILOMETERS&&unit!==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.KILOMETERS_ABSOLUTE_UNIT||(unitValue="km"),value?[{value:unit===__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.METERS||unit===__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.METERS_ABSOLUTE_UNIT?GameStatsQueries.roundValue((parseFloat(value)/1e3).toString()).toString():GameStatsQueries.roundValue(value).toString(),isUnit:!1},{value:unitValue,isUnit:!0}]:[{value:"0",isUnit:!1},{value:unitValue,isUnit:!0}]}switch(format){case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_FORMAT.PERCENTAGE:return value?"1.0"==value?[{value:"100",isUnit:!1}]:parseFloat(value)<=1?[{value:Math.round(100*GameStatsQueries.roundValue(value)).toString(),isUnit:!1},{value:"%",
isUnit:!0}]:parseFloat(value)>1&&parseFloat(value)<=100?[{value:GameStatsQueries.roundValue(value).toString(),isUnit:!1},{value:"%",isUnit:!0}]:[{value:value,isUnit:!1},{value:"%",isUnit:!0}]:[{value:"0",isUnit:!1},{value:"%",isUnit:!0}];case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_FORMAT.LONG_TIMESPAN:if(!value)return[{value:"0",isUnit:!1},{value:"m",isUnit:!0}];if(unit==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.MILLISECONDS&&parseFloat(value)<6e4||unit==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.SECONDS&&parseFloat(value)<60||unit==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.MINUTES&&parseFloat(value)<1||unit==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.HOURS&&parseFloat(value)<1/60||unit==__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.DAYS&&parseFloat(value)<1/1440)return[{value:"<",isUnit:!0},{value:"1",isUnit:!1},{value:"m",isUnit:!0}];switch(unit){case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.MILLISECONDS:return GameStatsQueries.computeDuration(value,unit,6e4,36e5,36e6);case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.SECONDS:return GameStatsQueries.computeDuration(value,unit,60,3600,36e3);case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.MINUTES:return GameStatsQueries.computeDuration(value,unit,1,60,600);case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.HOURS:return GameStatsQueries.computeDuration(value,unit,1/60,1,10);case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_UNITS.DAYS:return GameStatsQueries.computeDuration(value,unit,1/1440,1/60,1/60*10);default:return[{value:__WEBPACK_IMPORTED_MODULE_8_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h"),isUnit:!1},{value:"h",isUnit:!0}]}case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_FORMAT.INTEGER:return value?(value=value.replace(/[\s,]+/g,""),parseFloat(value)/1e6>=1?[{value:Math.floor(parseFloat(value)/1e6).toString(),isUnit:!1},{value:"M",isUnit:!0}]:Math.floor(parseFloat(value)/1e3)>=10&&Math.floor(parseFloat(value)/1e3)<1e3?[{value:Math.floor(parseFloat(value)/1e3).toString(),isUnit:!1},{value:"k",isUnit:!0}]:[{value:GameStatsQueries.roundValue(value).toString(),isUnit:!1}]):[{value:"0",isUnit:!1}];case __WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.STATS_FORMAT.DECIMAL:return value?[{value:GameStatsQueries.roundValue(value).toString(),isUnit:!1}]:[{value:"0",isUnit:!1}];default:return value?[{value:value,isUnit:!1}]:[{value:"0",isUnit:!1}]}}},{key:"computeDuration",value:function(value,unit,lowerValue,middleValue,higherValue){if(parseFloat(value)>=lowerValue&&parseFloat(value)<middleValue)return[{value:__WEBPACK_IMPORTED_MODULE_8_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("m"),isUnit:!1},{value:"m",isUnit:!0}];if(parseFloat(value)>=middleValue&&parseFloat(value)<higherValue){var formatValues=__WEBPACK_IMPORTED_MODULE_8_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h[_h]-m[_m]").split("-");return formatValues=formatValues.map(function(formatValue){return[{value:formatValue.split("_")[0],isUnit:!1},{value:formatValue.split("_")[1],isUnit:!0}]}),formatValues=formatValues.reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)})}return[{value:__WEBPACK_IMPORTED_MODULE_8_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h"),isUnit:!1},{value:"h",isUnit:!0}]}},{key:"roundValue",value:function(value){return Math.round(100*(parseFloat(value)+1e-15))/100}}]),GameStatsQueries}();GameStatsQueries.hasLastPlayedGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("GameStatsQueries.hasLastPlayedGameStats",__WEBPACK_IMPORTED_MODULE_5__OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_1__stores_GameStatsStore__.a.getBySpaceId,function(spaceId,bySpaceId){return!!bySpaceId[spaceId]&&bySpaceId[spaceId].length>0}),GameStatsQueries.getGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("GameStatsQueries.getGameStats",__WEBPACK_IMPORTED_MODULE_5__OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_1__stores_GameStatsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_1__stores_GameStatsStore__.a.getById,function(spaceId,bySpaceId,byId){return(bySpaceId[spaceId]||[]).map(function(id){return byId[id]}).sort(function(A,B){return A.ordinal-B.ordinal})}),GameStatsQueries.getLastPlayedGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("GameStatsQueries.getLastPlayedGameStats",GameStatsQueries.getGameStats,function(stats){return stats.slice(0,3)}),GameStatsQueries.getLastPlayedGameStatsWithRank=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("GameStatsQueries.getLastPlayedGameStatsWithRank",GameStatsQueries.getLastPlayedGameStats,__WEBPACK_IMPORTED_MODULE_1__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_5__OtherGamesCarouselQueries__.a.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_2__selectors__.g,function(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,username){return GameStatsQueries.computeGameStatsWithRank(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,username)}),GameStatsQueries.getGameStatsWithRank=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("GameStatsQueries.getGameStatsWithRank",GameStatsQueries.getGameStats,__WEBPACK_IMPORTED_MODULE_1__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_5__OtherGamesCarouselQueries__.a.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_2__selectors__.g,function(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,username){return GameStatsQueries.computeGameStatsWithRank(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,username)}),GameStatsQueries.getGameStatsToCompareWithAFriend=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("GameStatsQueries.getGameStatsWithRank",GameStatsQueries.getGameStats,__WEBPACK_IMPORTED_MODULE_1__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_3__stores_UserProfilesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_5__OtherGamesCarouselQueries__.a.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_6__stores_StatsComparisonStore__.a.getSelectedFriendId,function(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,friendId){return GameStatsQueries.computeGameStatsToCompareWithAFriend(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms.map(function(platform){return platform.spaceId}),friendId)})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(233)),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_5_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_7__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_8__modules_authentication_queries_IdentityQueries__=__webpack_require__(12);__webpack_require__.d(exports,"a",function(){return FriendsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsService=function(_AbstractActions){function FriendsService(friendsApi){_classCallCheck(this,FriendsService);var _this=_possibleConstructorReturn(this,(FriendsService.__proto__||Object.getPrototypeOf(FriendsService)).call(this));return _this.friendsApi=friendsApi,_this}return _inherits(FriendsService,_AbstractActions),_createClass(FriendsService,[{key:"loadMyFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var userId,friends;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(userId=__WEBPACK_IMPORTED_MODULE_8__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),!__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getExpiration(this.getState())[userId],__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.getFriendsCacheTime())){_context.next=7;break}return _context.next=4,this.friendsApi.getMyFriends();case 4:return friends=_context.sent,this.afterLoadedFriends(friends,userId,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_5_moment___default()().unix())),_context.abrupt("return",friends);case 7:return this.afterLoadedFriends(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__selectors__.i)(this.getState()),userId,__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getExpiration(this.getState())),_context.abrupt("return",Promise.resolve());case 9:case"end":return _context.stop()}},_callee,this)}))}},{key:"sendFriendInvite",value:function(pid,nameOnPlatform){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var call;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.friendsApi.sendInviteFriend(pid);case 2:return call=_context2.sent,_context2.abrupt("return",call);case 4:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"acceptFriend",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var call;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.friendsApi.acceptFriend(pid);case 2:return call=_context3.sent,_context3.abrupt("return",call);case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"declineFriend",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var call;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.friendsApi.deleteFriend(pid);case 2:return call=_context4.sent,_context4.abrupt("return",call);case 4:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"afterLoadedFriends",value:function(friends,userId,expiration){var byId={},ids=[];friends.forEach(function(friend){return(byId[friend.pid]=friend)&&ids.push(friend.pid)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__.a(byId,ids,_defineProperty({},userId,ids),expiration))}}]),FriendsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FriendsApi])],FriendsService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(174)),__WEBPACK_IMPORTED_MODULE_4_app_stores_PlatformsStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_5__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_6__queries_FriendsOwnedGamesQueries__=__webpack_require__(146),__WEBPACK_IMPORTED_MODULE_7__ProfilesService__=__webpack_require__(76),__WEBPACK_IMPORTED_MODULE_8_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_9__actions_LoadedFriendsStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_lodash__),__webpack_require__(172)),__WEBPACK_IMPORTED_MODULE_10__actions_LoadedGamesConfigsAction__=__webpack_require__(498),__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_12__queries_GameStatsQueries__=__webpack_require__(180);__webpack_require__.d(exports,"a",function(){return GamesService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})};__webpack_require__(1157);var GamesService=function(_AbstractActions){function GamesService(gamesApi,gameConfigApi,profilesService){_classCallCheck(this,GamesService);var _this=_possibleConstructorReturn(this,(GamesService.__proto__||Object.getPrototypeOf(GamesService)).call(this));return _this.gamesApi=gamesApi,_this.gameConfigApi=gameConfigApi,_this.profilesService=profilesService,_this}return _inherits(GamesService,_AbstractActions),_createClass(GamesService,[{key:"loadMyLastPlayedGameStatsWithFriends",value:function(gameSpaceId,myUserId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var spaceId;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return spaceId=gameSpaceId?gameSpaceId:__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId(this.getState()),_context.next=3,this.loadLastPlayedGameStatsCard(gameSpaceId,myUserId);case 3:return _context.next=5,this.loadFriendsPlayedGameStats(spaceId);case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"loadLastPlayedGameStatsCard",value:function(gameSpaceId,myUserId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var userId,spaceId,userStats,gameConfig,gameConfigBySpaceId,foundGameConfig,statsById,bySpaceId,ids;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(userId=myUserId?myUserId:__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getMyUserIdByLastPlayedGamePlatform(this.getState()),spaceId=gameSpaceId?gameSpaceId:__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId(this.getState()),userStats=[],gameConfig=[],__WEBPACK_IMPORTED_MODULE_4_app_stores_PlatformsStore__.a.getById(this.getState())[spaceId]){_context2.next=8;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__.a({},{},[])),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_LoadedFriendsStatsAction__.a({})),_context2.abrupt("return");case 8:return _context2.prev=8,_context2.next=11,this.gameConfigApi.getGameConfig([spaceId]);case 11:gameConfig=_context2.sent,_context2.next=16;break;case 14:_context2.prev=14,_context2.t0=_context2["catch"](8);case 16:if(gameConfigBySpaceId={},gameConfig.forEach(function(config){gameConfigBySpaceId[config.spaceId]=config}),foundGameConfig=gameConfig.find(function(config){return config.spaceId==spaceId}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadedGamesConfigsAction__.a(gameConfigBySpaceId)),foundGameConfig&&foundGameConfig.statsEnabled){_context2.next=24;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__.a({},{},[])),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_LoadedFriendsStatsAction__.a({})),_context2.abrupt("return");case 24:return _context2.prev=24,_context2.next=27,this.gamesApi.getStatsCard(spaceId,userId);case 27:userStats=_context2.sent,_context2.next=32;break;case 30:_context2.prev=30,_context2.t1=_context2["catch"](24);case 32:statsById={},bySpaceId=_defineProperty({},spaceId,[]),ids=[],userStats.forEach(function(userStat){ids.push(userStat.statName),bySpaceId[userStat.spaceId].push(userStat.statName);var formattedValue=__WEBPACK_IMPORTED_MODULE_12__queries_GameStatsQueries__.a.computeGameStatsValue(userStat.value,userStat.format,userStat.unit,userStat.statName);statsById[userStat.statName]={id:userStat.statName,formattedValue:formattedValue,iconUrl:null,name:userStat.displayName,ordinal:userStat.ordinal,profileId:userId,spaceId:spaceId,value:userStat.value,format:userStat.format,unit:userStat.unit,statName:userStat.statName}}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__.a(statsById,bySpaceId,ids));case 37:case"end":return _context2.stop()}},_callee2,this,[[8,14],[24,30]])}))}},{key:"loadFriendsPlayedGameStats",value:function(gameSpaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var spaceIds,isOwned,friendsPlayingGameIds,platforms;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return spaceIds=__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getCurrentGameSpaceIds(this.getState()).filter(function(spaceId){return spaceId!==gameSpaceId}),isOwned=__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getIsOwnedCurrentGame(this.getState()),friendsPlayingGameIds=__WEBPACK_IMPORTED_MODULE_6__queries_FriendsOwnedGamesQueries__.a.getFriendsPlayingIds(this.getState()),platforms=__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getMyLastPlayedGamePlatforms(this.getState()),_context3.next=6,this.loadFriendGameStatsCommon(spaceIds,isOwned,friendsPlayingGameIds,platforms);case 6:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"loadFriendGameStatsCommon",value:function(spaceIds,isOwned,friendsPlayingGameIds,platforms){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var statsById,gameConfigs,profiles,gameConfigBySpaceId,platformsWithStats,profilesFiltered,profilesGroupedBy,requests,promises,_this2=this;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(statsById={},gameConfigs=[],profiles=[],isOwned&&!(friendsPlayingGameIds.length<=0)){_context4.next=6;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_LoadedFriendsStatsAction__.a(statsById)),_context4.abrupt("return");case 6:return _context4.prev=6,_context4.next=9,this.gameConfigApi.getGameConfig(spaceIds);case 9:gameConfigs=_context4.sent,_context4.next=14;break;case 12:_context4.prev=12,_context4.t0=_context4["catch"](6);case 14:return gameConfigBySpaceId={},gameConfigs.forEach(function(config){gameConfigBySpaceId[config.spaceId]=config}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_LoadedGamesConfigsAction__.a(gameConfigBySpaceId)),_context4.prev=17,_context4.next=20,this.profilesService.loadFriendsProfilesByIds(friendsPlayingGameIds);case 20:profiles=_context4.sent,_context4.next=25;break;case 23:_context4.prev=23,_context4.t1=_context4["catch"](17);case 25:if(platformsWithStats=platforms.filter(function(platform){var gameConfig=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_lodash__.find)(__WEBPACK_IMPORTED_MODULE_5__stores_GamesStore__.a.getConfigsBySpaceId(_this2.getState()),function(config){return config.spaceId==platform.spaceId});return!!gameConfig&&gameConfig.statsEnabled}),profilesFiltered=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_lodash__.filter)(profiles,function(profile){return friendsPlayingGameIds.find(function(pid){return pid==profile.userId})}),profilesGroupedBy=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_lodash__.mapValues)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_lodash__.groupBy)(profilesFiltered,"platformType"),function(value){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_lodash__.mapValues)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_lodash__.mapKeys)(value,function(objectValue){return objectValue.profileId}),function(newValue){return newValue.userId})}),requests=[],platformsWithStats.forEach(function(platform){var ids=[];if(profilesGroupedBy[_this2.getProfilePlatformCode(platform.code)]&&(ids=Object.keys(profilesGroupedBy[_this2.getProfilePlatformCode(platform.code)]),ids.length<friendsPlayingGameIds.length)){var notFoundIDs=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_lodash__.filter)(profilesGroupedBy[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.UPLAY],function(value){return!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_lodash__.find)(profilesGroupedBy[_this2.getProfilePlatformCode(platform.code)],function(userId){return userId==value})});notFoundIDs.length&&(ids=ids.concat(notFoundIDs))}ids.length>0&&requests.push(_this2.gamesApi.getStatsByProfileIds(platform.spaceId,ids))}),!(requests.length>0)){_context4.next=41;break}return promises=[],_context4.prev=32,_context4.next=35,Promise.all(requests);case 35:promises=_context4.sent,_context4.next=40;break;case 38:_context4.prev=38,_context4.t2=_context4["catch"](32);case 40:promises.forEach(function(promise){promise.forEach(function(profile){statsById[profile.profileId+"_"+profile.spaceId]=profile})});case 41:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_LoadedFriendsStatsAction__.a(statsById)),_context4.abrupt("return");case 43:case"end":return _context4.stop()}},_callee4,this,[[6,12],[17,23],[32,38]])}))}},{key:"getProfilePlatformCode",value:function(platform){var platformType=__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.UPLAY;switch(platform){case"PS4":case"PS3":platformType=__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN;break;case"XONE":platformType=__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE;break;case"PC":case"PROJECTSTREAM":case"SWITCHSTREAM":platformType=__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.UPLAY;break;case"SWITCH":platformType=__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.SWITCH;break;case"STADIA":platformType=__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.GOOGLESTREAM}return platformType}}]),GamesService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);GamesService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.GamesApi,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.GameConfigApi,__WEBPACK_IMPORTED_MODULE_7__ProfilesService__.a])],GamesService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedAvatarAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(168)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedGalleryAvatarsAction__=__webpack_require__(234);__webpack_require__.d(exports,"a",function(){return AvatarStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AvatarStore=function(_ReducerStore){function AvatarStore(){_classCallCheck(this,AvatarStore);var _this=_possibleConstructorReturn(this,(AvatarStore.__proto__||Object.getPrototypeOf(AvatarStore)).call(this));return _this.bind(null,function(){return{byId:null,byGameCode:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedAvatarAction__.a.name,_this.handleLoadedAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_LoadedGalleryAvatarsAction__.a.name,_this.handleLoadedGalleryAvatarsAction),
_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(AvatarStore,_ReducerStore),_createClass(AvatarStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:null,byGameCode:null}}},{key:"handleLoadedAvatarAction",value:function(state,action){return __assign({},state,{byId:__assign({},state.byId,action.byId)})}},{key:"handleLoadedGalleryAvatarsAction",value:function(state,action){return __assign({},state,{byGameCode:__assign({},state.byGameCode,action.byGameCode)})}}]),AvatarStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);AvatarStore.getState=function(state){return state.AvatarStore},AvatarStore.getById=function(state){return state.AvatarStore.byId},AvatarStore.getByGameCode=function(state){return state.AvatarStore.byGameCode},AvatarStore.getLoaded=function(state){return state.LoadersStore.Avatars},AvatarStore.getLoadedGalleryAvatars=function(state){return state.LoadersStore.GalleryAvatars},AvatarStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],AvatarStore)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAvatarSelectedAction});var ChangeAvatarSelectedAction=function ChangeAvatarSelectedAction(avatarId){_classCallCheck(this,ChangeAvatarSelectedAction),this.avatarId=avatarId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeCarouselLPGAction});var ChangeCarouselLPGAction=function ChangeCarouselLPGAction(currentLastPlayedGameOffset,currentLastPlayedGameId,currentLastPlayedGameSpaceId,currentLastPlayedGamePlatformCode){_classCallCheck(this,ChangeCarouselLPGAction),this.currentLastPlayedGameOffset=currentLastPlayedGameOffset,this.currentLastPlayedGameId=currentLastPlayedGameId,this.currentLastPlayedGameSpaceId=currentLastPlayedGameSpaceId,this.currentLastPlayedGamePlatformCode=currentLastPlayedGamePlatformCode}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendDeclineStateAction});var ChangeFriendDeclineStateAction=function ChangeFriendDeclineStateAction(userId){_classCallCheck(this,ChangeFriendDeclineStateAction),this.userId=userId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendGamesCarouselLPGAction});var ChangeFriendGamesCarouselLPGAction=function ChangeFriendGamesCarouselLPGAction(currentLastPlayedGameOffset,currentLastPlayedGameId,currentLastPlayedGameSpaceId,currentLastPlayedGamePlatformCode){_classCallCheck(this,ChangeFriendGamesCarouselLPGAction),this.currentLastPlayedGameOffset=currentLastPlayedGameOffset,this.currentLastPlayedGameId=currentLastPlayedGameId,this.currentLastPlayedGameSpaceId=currentLastPlayedGameSpaceId,this.currentLastPlayedGamePlatformCode=currentLastPlayedGamePlatformCode}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendPlatformAction});var ChangeFriendPlatformAction=function ChangeFriendPlatformAction(gameId,spaceId){_classCallCheck(this,ChangeFriendPlatformAction),this.gameId=gameId,this.spaceId=spaceId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendStateAction});var ChangeFriendStateAction=function ChangeFriendStateAction(userId,isStillLoading,isRightAfterLoad,isAccepted,isDeclined){_classCallCheck(this,ChangeFriendStateAction),this.userId=userId,this.isStillLoading=isStillLoading,this.isRightAfterLoad=isRightAfterLoad,this.isAccepted=isAccepted,this.isDeclined=isDeclined}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameAction});var ChangeUserNameAction=function ChangeUserNameAction(showChangeUserName,userName,isValidating){_classCallCheck(this,ChangeUserNameAction),this.showChangeUserName=showChangeUserName,this.userName=userName,this.isValidating=isValidating}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameShowRulesAction});var ChangeUserNameShowRulesAction=function ChangeUserNameShowRulesAction(showRules){_classCallCheck(this,ChangeUserNameShowRulesAction),this.showRules=showRules}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return DeselectArabLanguageAction});var DeselectArabLanguageAction=function DeselectArabLanguageAction(){_classCallCheck(this,DeselectArabLanguageAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideAddFriendsAction});var HideAddFriendsAction=function HideAddFriendsAction(isHidden){_classCallCheck(this,HideAddFriendsAction),this.isHidden=isHidden}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedAddFriendsStatAction});var LoadedAddFriendsStatAction=function LoadedAddFriendsStatAction(friendsSate){_classCallCheck(this,LoadedAddFriendsStatAction),this.friendsSate=friendsSate}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsAction});var LoadedFriendsAction=function LoadedFriendsAction(byId,ids,ownershipByUserId,expiration){_classCallCheck(this,LoadedFriendsAction),this.byId=byId,this.ids=ids,this.ownershipByUserId=ownershipByUserId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGalleryAvatarsAction});var LoadedGalleryAvatarsAction=function LoadedGalleryAvatarsAction(byGameCode){_classCallCheck(this,LoadedGalleryAvatarsAction),this.byGameCode=byGameCode}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGamesNewsAction});var LoadedGamesNewsAction=function LoadedGamesNewsAction(news,byId,bySpaceId){_classCallCheck(this,LoadedGamesNewsAction),this.news=news,this.byId=byId,this.bySpaceId=bySpaceId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedMyUserProfilesAction});var LoadedMyUserProfilesAction=function LoadedMyUserProfilesAction(byId,byNameOnPlatform,byUserId,ids,hasError){_classCallCheck(this,LoadedMyUserProfilesAction),this.byId=byId,this.byNameOnPlatform=byNameOnPlatform,this.byUserId=byUserId,this.ids=ids,this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedPlayerProfileAction});var LoadedPlayerProfileAction=function LoadedPlayerProfileAction(byId,hasProfileCallError){_classCallCheck(this,LoadedPlayerProfileAction),this.byId=byId,this.hasProfileCallError=hasProfileCallError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedPopulationsAction});var LoadedPopulationsAction=function LoadedPopulationsAction(populations,byUniqueName,byType,byBetaName,byPhaseName,byPlatformCode,bySpaceId,expiration){_classCallCheck(this,LoadedPopulationsAction),this.populations=populations,this.byUniqueName=byUniqueName,this.byType=byType,this.byBetaName=byBetaName,this.byPhaseName=byPhaseName,this.byPlatformCode=byPlatformCode,this.bySpaceId=bySpaceId,this.expiration=expiration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedProfileEntitiesAction});var LoadedProfileEntitiesAction=function LoadedProfileEntitiesAction(entities,byEntityId,bySpaceId){_classCallCheck(this,LoadedProfileEntitiesAction),this.entities=entities,this.byEntityId=byEntityId,this.bySpaceId=bySpaceId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedRecentlyMetAction});var LoadedRecentlyMetAction=function LoadedRecentlyMetAction(entities){_classCallCheck(this,LoadedRecentlyMetAction),this.entities=entities}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedRewardsAction});var LoadedRewardsAction=function LoadedRewardsAction(rewards,rewardsIds){_classCallCheck(this,LoadedRewardsAction),this.rewards=rewards,this.rewardsIds=rewardsIds}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingAddFriendsAction});var LoadingAddFriendsAction=function LoadingAddFriendsAction(isLoading,userName){_classCallCheck(this,LoadingAddFriendsAction),this.isLoading=isLoading,this.userName=userName}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingGamesAction});var LoadingGamesAction=function LoadingGamesAction(loading){_classCallCheck(this,LoadingGamesAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingRewardsAction});var LoadingRewardsAction=function LoadingRewardsAction(){_classCallCheck(this,LoadingRewardsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LocalizedMessageAction});var LocalizedMessageAction=function LocalizedMessageAction(error){_classCallCheck(this,LocalizedMessageAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return SelectArabLanguageAction});var SelectArabLanguageAction=function SelectArabLanguageAction(){_classCallCheck(this,SelectArabLanguageAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleAddFriendsTabAction});var ToggleAddFriendsTabAction=function ToggleAddFriendsTabAction(showAddFriendsTab){_classCallCheck(this,ToggleAddFriendsTabAction),this.showAddFriendsTab=showAddFriendsTab}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowAvatarComponentAction});var ToggleShowAvatarComponentAction=function ToggleShowAvatarComponentAction(show){_classCallCheck(this,ToggleShowAvatarComponentAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowAvatarTooltipAction});var ToggleShowAvatarTooltipAction=function ToggleShowAvatarTooltipAction(toggle){_classCallCheck(this,ToggleShowAvatarTooltipAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowFriendProfileContentAction});var ToggleShowFriendProfileContentAction=function ToggleShowFriendProfileContentAction(show,pid,name){_classCallCheck(this,ToggleShowFriendProfileContentAction),this.show=show,this.pid=pid,this.name=name}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowFriendsSelectorTooltipWarningAction});var ToggleShowFriendsSelectorTooltipWarningAction=function ToggleShowFriendsSelectorTooltipWarningAction(toggle){_classCallCheck(this,ToggleShowFriendsSelectorTooltipWarningAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowFrindProfileStatsAction});var ToggleShowFrindProfileStatsAction=function ToggleShowFrindProfileStatsAction(show){_classCallCheck(this,ToggleShowFrindProfileStatsAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowGameContentAction});var ToggleShowGameContentAction=function ToggleShowGameContentAction(show){_classCallCheck(this,ToggleShowGameContentAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowNameHeaderOnFriendsDetails});var ToggleShowNameHeaderOnFriendsDetails=function ToggleShowNameHeaderOnFriendsDetails(toggle){_classCallCheck(this,ToggleShowNameHeaderOnFriendsDetails),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowResizeAvatarAction});var ToggleShowResizeAvatarAction=function ToggleShowResizeAvatarAction(toggle){_classCallCheck(this,ToggleShowResizeAvatarAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowSelecteAvatarOverlayAction});var ToggleShowSelecteAvatarOverlayAction=function ToggleShowSelecteAvatarOverlayAction(toggle){_classCallCheck(this,ToggleShowSelecteAvatarOverlayAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowStatsHeaderOnFriendsDetails});var ToggleShowStatsHeaderOnFriendsDetails=function ToggleShowStatsHeaderOnFriendsDetails(toggle){_classCallCheck(this,ToggleShowStatsHeaderOnFriendsDetails),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowStatsHeaderOnPlayerCardDetails});var ToggleShowStatsHeaderOnPlayerCardDetails=function ToggleShowStatsHeaderOnPlayerCardDetails(toggle){_classCallCheck(this,ToggleShowStatsHeaderOnPlayerCardDetails),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UploadAvatarAction});var UploadAvatarAction=function UploadAvatarAction(loading){_classCallCheck(this,UploadAvatarAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserEmailVerificationAction});var UserEmailVerificationAction=function UserEmailVerificationAction(showUserEmailVerificationButton,isEmailVerificationSent){_classCallCheck(this,UserEmailVerificationAction),this.showUserEmailVerificationButton=showUserEmailVerificationButton,this.isEmailVerificationSent=isEmailVerificationSent}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return WritteCONNECTloginDataAction});var WritteCONNECTloginDataAction=function WritteCONNECTloginDataAction(CONNECTloginData){_classCallCheck(this,WritteCONNECTloginDataAction),this.CONNECTloginData=CONNECTloginData}},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return SCROLL_TOP});var SCROLL_TOP=11},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_authentication__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__),__webpack_require__(22)),__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_4_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5__stores_AvatarStore__=__webpack_require__(183),__WEBPACK_IMPORTED_MODULE_6_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_lodash__),__webpack_require__(83)),__WEBPACK_IMPORTED_MODULE_8_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_8_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__);__webpack_require__.d(exports,"a",function(){return AvatarsQueries});var AvatarsQueries=function(_AuthenticationQuerie){function AvatarsQueries(){return _classCallCheck(this,AvatarsQueries),_possibleConstructorReturn(this,(AvatarsQueries.__proto__||Object.getPrototypeOf(AvatarsQueries)).apply(this,arguments))}return _inherits(AvatarsQueries,_AuthenticationQuerie),AvatarsQueries}(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries);AvatarsQueries.getMyDefaultAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getMyDefaultAvatar",__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_4_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,function(userId,appId,avatarUrl){return avatarUrl+"/"+userId+"/default_[size].png?appId="+appId}),AvatarsQueries.getMyAvatarSmall=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarSmall",AvatarsQueries.getMyDefaultAvatar,function(avatar){return avatar.replace("[size]","146_146")}),AvatarsQueries.getMyAvatarLarge=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarLarge",AvatarsQueries.getMyDefaultAvatar,function(avatar){return avatar.replace("[size]","256_256")}),AvatarsQueries.getMyAvatarTall=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarLarge",AvatarsQueries.getMyDefaultAvatar,function(avatar){return avatar.replace("[size]","tall")}),AvatarsQueries.getMyAvatarData=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarData",__WEBPACK_IMPORTED_MODULE_5__stores_AvatarStore__.a.getById,__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(avatarData,userId){return avatarData?avatarData[userId]:null}),AvatarsQueries.getIsMyAvatarBaned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getIsMyAvatarBaned",AvatarsQueries.getMyAvatarData,function(avatarData){return!!avatarData&&avatarData.isAvatarBanned}),AvatarsQueries.getIsPlayerBanned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getIsPlayerBanned",AvatarsQueries.getMyAvatarData,function(avatarData){return!!avatarData&&avatarData.isPlayerBanned}),AvatarsQueries.getMyAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarLarge",AvatarsQueries.getMyAvatarData,AvatarsQueries.getMyAvatarLarge,function(avatar,myAvatarLarge){return avatar?myAvatarLarge+"&tm="+__WEBPACK_IMPORTED_MODULE_8_moment___default()(avatar.updatedDate?avatar.updatedDate:avatar.createdDate).unix()+(new Date).getTime():myAvatarLarge+"&tm="+(new Date).getTime()}),AvatarsQueries.getAvatarsFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getIsPlayerBanned",__WEBPACK_IMPORTED_MODULE_5__stores_AvatarStore__.a.getByGameCode,function(avatarData){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_lodash__.map)(avatarData,function(avatars,gameCode){return{key:gameCode,value:avatars[0].gameName}})}),AvatarsQueries.getFirstAvatarFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getFirstAvatarFromGallery",AvatarsQueries.getAvatarsFromGallery,function(avatarData){return avatarData.length>0?avatarData[0]:null}),AvatarsQueries.getDefaultGameCodeFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getFirstAvatarsFromGallery",AvatarsQueries.getFirstAvatarFromGallery,__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getSelectedGameCode,function(avatarData,selectedGameCode){return selectedGameCode?selectedGameCode:avatarData?avatarData.key:null}),AvatarsQueries.getDefaultGameNameFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getDefaultGameNameFromGallery",AvatarsQueries.getDefaultGameCodeFromGallery,AvatarsQueries.getAvatarsFromGallery,function(selectedGameCode,avatarData){return selectedGameCode&&avatarData.find(function(avatar){return avatar.key==selectedGameCode}).value?avatarData.find(function(avatar){return avatar.key==selectedGameCode}).value:null}),AvatarsQueries.getFilteredAvatarsFromGallery=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getFilteredAvatarsFromGallery",AvatarsQueries.getAvatarsFromGallery,__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getWrittenGameName,function(avatars,gameName){return gameName?avatars.filter(function(avatar){return avatar.value.toLowerCase().indexOf(gameName.toLowerCase())!==-1}):avatars}),AvatarsQueries.getAvatarsFromGalleryByGameCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getAvatarsFromGalleryByGameCode",__WEBPACK_IMPORTED_MODULE_5__stores_AvatarStore__.a.getByGameCode,AvatarsQueries.getDefaultGameCodeFromGallery,function(avatars,gameCode){return gameCode?avatars[gameCode]:[]}),AvatarsQueries.getAvatarImagePreview=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getAvatarImagePreview",__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getFile,function(file){return file?file.preview:null}),AvatarsQueries.getFileName=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getFileName",__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getFile,function(file){return file?file.name:null}),AvatarsQueries.getFileType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getFileType",__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getFile,function(file){return file?file.type:null})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(543));__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},IntegratorConfigurationStore=function(_ReducerStore){function IntegratorConfigurationStore(){_classCallCheck(this,IntegratorConfigurationStore);var _this=_possibleConstructorReturn(this,(IntegratorConfigurationStore.__proto__||Object.getPrototypeOf(IntegratorConfigurationStore)).call(this));return _this.bind(__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__.a.name,_this.loadedConfiguration),_this}return _inherits(IntegratorConfigurationStore,_ReducerStore),_createClass(IntegratorConfigurationStore,[{
key:"loadedConfiguration",value:function(state,payload){return Object.assign({},state,payload.configuration)}}]),IntegratorConfigurationStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);IntegratorConfigurationStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],IntegratorConfigurationStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(84)),__WEBPACK_IMPORTED_MODULE_2__stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_3__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_6__stores_ClubProfilesStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_9__stores_ConnectionsStore__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_11__stores_FriendsPlayingGameStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_12__stores_GameStatsStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_13__GameStatsQueries__=__webpack_require__(180),__WEBPACK_IMPORTED_MODULE_14_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_15__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_lodash__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_16__GamesCommonQueries__=__webpack_require__(545);__webpack_require__.d(exports,"a",function(){return FriendProfileQueries});var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},FriendProfileQueries=function FriendProfileQueries(){_classCallCheck(this,FriendProfileQueries)};FriendProfileQueries.getFriendDefaultAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendDefaultAvatar",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_8__modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,function(userId,appId,avatarUrl){return avatarUrl+"/"+userId+"/default_[size].png?appId="+appId}),FriendProfileQueries.getFriendLargeAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendLargeAvatar",FriendProfileQueries.getFriendDefaultAvatar,function(avatar){return avatar.replace("[size]","256_256")}),FriendProfileQueries.getCurrentFriendClubProfile=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendClubProfile",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_6__stores_ClubProfilesStore__.a.getById,function(currentFriendId,byId){return currentFriendId?byId[currentFriendId]:null}),FriendProfileQueries.getCurrentFriendLevel=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendClubProfile",FriendProfileQueries.getCurrentFriendClubProfile,function(profile){return profile?profile.currentLevel.levelNumber:0}),FriendProfileQueries.getCurrentFriendProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendProfileIds",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_2__stores_UserProfilesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_2__stores_UserProfilesStore__.a.getById,function(currentFriendId,byUserId,byId){return currentFriendId&&byUserId[currentFriendId]?byUserId[currentFriendId].map(function(userId){return byId[userId]}):[]}),FriendProfileQueries.getCurrentFriendProfilesIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendProfilesIds",FriendProfileQueries.getCurrentFriendProfiles,function(profiles){return profiles.map(function(profile){return profile.profileId})}),FriendProfileQueries.getFriendGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendGamesPlayed",__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getLastSessionDates,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentFriendId,function(gamesByUserId,aggregateGamesById,platformsById,platformsByUserId,platformsByGameId,lastSessionDates,userId){if(!gamesByUserId[userId])return[];if(!gamesByUserId[userId].length)return[];var games=gamesByUserId[userId].map(function(gameId){return aggregateGamesById[gameId]}).filter(function(game){return game.isOwned});if(games.length<=0)return[];var gamesById={};return games.forEach(function(game){var platforms=[];platformsByUserId[userId]&&(platforms=platformsByUserId[userId].filter(function(spaceId){return platformsByGameId[game.id].indexOf(spaceId)!==-1}).map(function(spaceId){return platformsById[spaceId]}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_16__GamesCommonQueries__.a.sortPlatforms(lastSessionDates,userId,a,b)})),gamesById[game.id]={spaceId:platforms.length?platforms[0].spaceId:game.spaceId,gameName:game.title,gameCleanUrl:game.cleanUrl,id:game.id,publishedAt:game.publishedAt,platformCode:platforms.length?platforms[0].code:platformsById[game.spaceId].code,installmentId:game.installmentId,userId:userId,imageUrl:game.thumbUrl,lastPlayedDate:platforms.length?lastSessionDates[userId][platforms[0].spaceId]:game.lastSessionDate,coverUrl:game.coverUrl,isOwned:!0,shopUrl:"http://store.ubi.com/search?q="+encodeURIComponent(game.cleanUrl.replace(/-/g," "))}}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14_lodash__.map)(gamesById,function(game){return game}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_16__GamesCommonQueries__.a.sortGames(a,b)})}),FriendProfileQueries.getHasGamesPlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getHasGamesPlayed",FriendProfileQueries.getFriendGamesPlayed,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentFriendId,__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__.a.getByUserId,function(otherGamesPlayed,userId,gamesbyUserId){return!(!gamesbyUserId[userId]||!gamesbyUserId[userId].length)&&otherGamesPlayed.length>0}),FriendProfileQueries.getFriendGamesPlayedDots=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendGamesPlayedDots",FriendProfileQueries.getFriendGamesPlayed,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getIsInMobileView,function(otherGamesPlayed,isInMobileView){for(var toDivide=isInMobileView?3:5,dots=[],i=0;i<Math.ceil(otherGamesPlayed.length/toDivide);i++)dots.push(i);return dots}),FriendProfileQueries.getNbOfGamesPlayedDots=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getNbOfGamesPlayedDots",FriendProfileQueries.getFriendGamesPlayedDots,function(dots){return dots.length}),FriendProfileQueries.getFriendCurrenGamePlayed=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayed",FriendProfileQueries.getHasGamesPlayed,FriendProfileQueries.getFriendGamesPlayed,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,function(hasGamesPlayed,games,gameId){return hasGamesPlayed?games.find(function(game){return game.id===gameId}):null}),FriendProfileQueries.getFriendCurrenGamePlayedGameDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameDate",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.lastPlayedDate:null}),FriendProfileQueries.getFriendCurrenGamePlayedGameTitle=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameTitle",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.gameName:null}),FriendProfileQueries.getFriendCurrenGamePlayedGameId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.id:null}),FriendProfileQueries.getFriendCurrenGamePlayedGameImageUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.imageUrl:null}),FriendProfileQueries.getFriendCurrenGamePlayedGameCoverUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",FriendProfileQueries.getFriendCurrenGamePlayed,function(game){return game?game.coverUrl:null}),FriendProfileQueries.getFriendCurrenGamePlayedSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendCurrenGamePlayedGameId",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentLastPlayedGameSpaceId,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getSelectedSpaceIdByGameId,function(id,spaceId,selectedSpaceIdByGameId){return selectedSpaceIdByGameId[id]?selectedSpaceIdByGameId[id]:spaceId}),FriendProfileQueries.getSelectedPlatformCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getSelectedPlatformCode",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getSelectedSpaceIdByGameId,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,function(selectedSpaceIdByGameId,gameId,platformsById){return platformsById[selectedSpaceIdByGameId[gameId]]?"switch"!==platformsById[selectedSpaceIdByGameId[gameId]].code.toLowerCase()?platformsById[selectedSpaceIdByGameId[gameId]].code:"NINTENDO SWITCH":null}),FriendProfileQueries.getCurrentGamePlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentGamePlatforms",FriendProfileQueries.getFriendCurrenGamePlayedGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,function(id,platformsByGameId,platformsById){return id&&platformsByGameId[id]?platformsByGameId[id].map(function(spaceId){return platformsById[spaceId]}):[]}),FriendProfileQueries.getLastPlayedGameOwnedPlatfroms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getMyLastPlayedGameOwnedPlatfroms",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentFriendId,function(gameId,platformsByGameId,platformsById,platformsByUserId,currentFriendId){if(!gameId)return[];if(!platformsByUserId[currentFriendId])return[];var ownedSpaceIDs=platformsByUserId[currentFriendId].filter(function(spaceId){return platformsByGameId[gameId].indexOf(spaceId)!==-1});return ownedSpaceIDs.map(function(ownedSpaceID){return{key:ownedSpaceID,value:"switch"!==platformsById[ownedSpaceID].code.toLowerCase()?platformsById[ownedSpaceID].code:"NINTENDO SWITCH"}})}),FriendProfileQueries.getLastPlayedGameFilteredOwnedPlatfroms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getMyLastPlayedGameFilteredOwnedPlatfroms",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getSelectedSpaceIdByGameId,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,FriendProfileQueries.getLastPlayedGameOwnedPlatfroms,function(platforms,gameId,platformsOwned){return platformsOwned.filter(function(platform){return platform.key!==platforms[gameId]})}),FriendProfileQueries.getPlatformSelectorContentWidth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getPlatformSelectorContentWidth",FriendProfileQueries.getLastPlayedGameOwnedPlatfroms,function(platformsOwned){return platformsOwned.length?10*platformsOwned.map(function(platform){return platform.value}).reduce(function(previousValue,currentValue){return previousValue.length>=currentValue.length?previousValue:currentValue}).length:null}),FriendProfileQueries.getCurrentGameSpaceIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("OtherGamesCarouselQueries.getCurrentGameSpaceIds",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,FriendProfileQueries.getFriendGamesPlayed,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getByGameId,function(currentGameId,otherGamesPlayed,platformsByGameId){return currentGameId?platformsByGameId[currentGameId]:otherGamesPlayed.length?platformsByGameId[otherGamesPlayed[0].id]:[]}),FriendProfileQueries.getCurrentFriendConnections=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendIsOnline",FriendProfileQueries.getCurrentFriendProfilesIds,__WEBPACK_IMPORTED_MODULE_9__stores_ConnectionsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_4__stores_PlatformsStore__.a.getById,FriendProfileQueries.getCurrentGameSpaceIds,function(currentFriendProfilesIds,connectionsById,platformsById,spaceIds){var connectionsIdsWithUser=Object.keys(connectionsById).filter(function(id){return currentFriendProfilesIds.includes(connectionsById[id].profileId)}),withAGame=connectionsIdsWithUser.filter(function(id){return connectionsById[id].spaceIds.find(function(spaceId){return spaceIds.includes(spaceId)})}),withoutAGame=connectionsIdsWithUser.filter(function(id){return!spaceIds.includes(connectionsById[id].spaceIds[0])}).filter(function(id){return!withAGame.map(function(i){return connectionsById[i].profileId}).includes(connectionsById[id].profileId)});return{isOnline:withoutAGame.length>0||withAGame.length>0,isCurrentlyPlayingAGame:withAGame.length>0}}),FriendProfileQueries.getCurrentFriendIsOnline=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendIsOnline",FriendProfileQueries.getCurrentFriendConnections,function(WithConnections){return WithConnections.isOnline}),FriendProfileQueries.getCurrentFriendIsCurrentlyPlayingAGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getCurrentFriendIsCurrentlyPlayingAGame",FriendProfileQueries.getCurrentFriendConnections,function(WithConnections){return WithConnections.isCurrentlyPlayingAGame}),FriendProfileQueries.getHasOnlyOnePlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getHasMyLastPlayedGameOnlyOnePlatform",FriendProfileQueries.getLastPlayedGameOwnedPlatfroms,function(platforms){return 1==platforms.length}),FriendProfileQueries.getHasOwnedPlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getHasMyLastPlayedGameOwnedPlatform",FriendProfileQueries.getLastPlayedGameOwnedPlatfroms,function(platforms){return platforms.length>0}),FriendProfileQueries.getAggregateFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getAggregateFriends",__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,__WEBPACK_IMPORTED_MODULE_11__stores_FriendsPlayingGameStore__.a.getFriendsByInstallmentId,function(installmentId,friendsByInstallmentId){return friendsByInstallmentId[installmentId]?friendsByInstallmentId[installmentId].friends:[]}),FriendProfileQueries.getFriendsPlayingGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsPlayingGame",__WEBPACK_IMPORTED_MODULE_3__selectors__.f,FriendProfileQueries.getAggregateFriends,function(friends,aggregateFriends){return friends.filter(function(friend){return!!aggregateFriends.find(function(aggregateFriend){return friend.pid==aggregateFriend.userId})})}),FriendProfileQueries.getFriendsPlayingGameIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsPlayingGame",FriendProfileQueries.getFriendsPlayingGame,function(friends){return friends.map(function(friend){return friend.pid})}),FriendProfileQueries.getUsersPlayingFriendGameIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getUsersPlayingFriendGameIds",FriendProfileQueries.getFriendsPlayingGameIds,function(state,props){return props.friendId},function(friends,currentFriendId){return friends.filter(function(id){return id!==currentFriendId})}),FriendProfileQueries.getFriendsPlayingGameNames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsPlayingGameNames",FriendProfileQueries.getFriendsPlayingGame,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentFriendName,function(friends,name){return friends.map(function(friend){return friend.nameOnPlatform}).filter(function(friend){return friend!==name})}),FriendProfileQueries.getNbOfFriendsPlayingGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getFriendsPlayingGameNames",FriendProfileQueries.getFriendsPlayingGame,function(friends){return friends.length}),FriendProfileQueries.hasLastPlayedGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.hasLastPlayedGameStats",FriendProfileQueries.getCurrentGameSpaceIds,__WEBPACK_IMPORTED_MODULE_12__stores_GameStatsStore__.a.getBySpaceId,function(spaceIds,bySpaceId){return!!spaceIds.find(function(spaceId){return!!bySpaceId[spaceId]&&bySpaceId[spaceId].length>0})}),FriendProfileQueries.getGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("GameStatsQueries.getGameStats",FriendProfileQueries.getFriendCurrenGamePlayedSpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_GameStatsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_12__stores_GameStatsStore__.a.getById,function(spaceId,bySpaceId,byId){return(bySpaceId[spaceId]||[]).map(function(id){return byId[id]}).sort(function(A,B){return A.ordinal-B.ordinal})}),FriendProfileQueries.getLastPlayedGameStats=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getLastPlayedGameStats",FriendProfileQueries.getGameStats,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getIsInMobileView,__WEBPACK_IMPORTED_MODULE_5__WidgetQueries__.a.getShowMobileViewOnDesktop,function(stats,isInMobileView,showMobileViewOnDesktop){return stats.slice(0,isInMobileView||showMobileViewOnDesktop?3:4)}),FriendProfileQueries.getLastPlayedGameStatsWithRank=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getLastPlayedGameStatsWithRank",FriendProfileQueries.getLastPlayedGameStats,__WEBPACK_IMPORTED_MODULE_12__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_2__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_2__stores_UserProfilesStore__.a.getByUserId,FriendProfileQueries.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_3__selectors__.g,__WEBPACK_IMPORTED_MODULE_1__stores_FriendProfileStore__.a.getCurrentFriendName,function(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,username,friendUserame){return __WEBPACK_IMPORTED_MODULE_13__GameStatsQueries__.a.computeGameStatsWithRank(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,friendUserame)}),FriendProfileQueries.getGameStatsToCompareWithAFriend=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getGameStatsWithRank",FriendProfileQueries.getGameStats,__WEBPACK_IMPORTED_MODULE_12__stores_GameStatsStore__.a.getByFriendProfileId,__WEBPACK_IMPORTED_MODULE_2__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_2__stores_UserProfilesStore__.a.getByUserId,FriendProfileQueries.getCurrentGamePlatforms,__WEBPACK_IMPORTED_MODULE_15__modules_authentication_queries_IdentityQueries__.a.getUserId,function(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms,friendId){return __WEBPACK_IMPORTED_MODULE_13__GameStatsQueries__.a.computeGameStatsToCompareWithAFriend(stats,friendsStats,userProfilesById,userProfilesByUserId,platforms.map(function(platform){return platform.spaceId}),friendId).map(function(stat){return __assign({},stat,{friendFormattedValue:stat.formattedValue,formattedValue:stat.friendFormattedValue,friendValue:stat.value,value:stat.friendValue})})}),FriendProfileQueries.getLoadedFriendGames=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("FriendProfileQueries.getGameStatsWithRank",__WEBPACK_IMPORTED_MODULE_10__stores_GamesStore__.a.loadedFriendGames,function(loaded){return loaded})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__stores_PopulationsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(119)),__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_3__stores_ProfileEntitiesStore__=__webpack_require__(148),__WEBPACK_IMPORTED_MODULE_4__stores_NewsStore__=__webpack_require__(147),__WEBPACK_IMPORTED_MODULE_5_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_6_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_6_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__),__WEBPACK_IMPORTED_MODULE_7__selectors__=__webpack_require__(18);__webpack_require__.d(exports,"a",function(){return NotificationsQueries});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NotificationsQueries=function(){function NotificationsQueries(){_classCallCheck(this,NotificationsQueries)}return _createClass(NotificationsQueries,null,[{key:"mapPopulationTypeToNewsType",value:function(populationType,platform,newsItem){if(!Object.keys(newsItem.obj).length)return!1;if("2"==populationType&&!platform)return populationType==newsItem.obj.type;if("2"==populationType&&platform){var condition="PC"==platform?"pc"==newsItem.obj.platform:"console"==newsItem.obj.platform;return populationType==newsItem.obj.type&&condition}return populationType==newsItem.obj.type}},{key:"changNewsBodyRelatedToPopulationsTypeAndPlatform",value:function(populationType,platform,body){var text=body;switch(populationType){case"2":if("PC"!==platform){var _bodyArray=body.split(". ");_bodyArray=_bodyArray.filter(function(bodyText){return bodyText.indexOf("%(link)")===-1}),text=_bodyArray.join(". ")}break;case"1":case"3":default:var bodyArray=body.split(". ");bodyArray=bodyArray.filter(function(bodyText){return bodyText.indexOf("%(link)")===-1}),text=bodyArray.join(". ")}return text}}]),NotificationsQueries}();NotificationsQueries.getHasBetaPopulations=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",__WEBPACK_IMPORTED_MODULE_1__stores_PopulationsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_1__stores_PopulationsStore__.a.getByUniqueName,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(populations,byUniqueName,spaceId){return!!populations[spaceId]&&(populations[spaceId].length>0&&!!populations[spaceId].map(function(id){return byUniqueName[id]}).find(function(population){return Object.keys(population.obj).length>0}))}),NotificationsQueries.getNbOfBetaPopulations=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",__WEBPACK_IMPORTED_MODULE_1__stores_PopulationsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(populations,spaceId){return populations[spaceId]?populations[spaceId].length:0}),NotificationsQueries.getBetaPopulations=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaPopulations,__WEBPACK_IMPORTED_MODULE_1__stores_PopulationsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_1__stores_PopulationsStore__.a.getByUniqueName,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(hasEntities,bySpaceId,byUniqueName,spaceId){return hasEntities?bySpaceId[spaceId].map(function(id){return byUniqueName[id]}):[]}),NotificationsQueries.getBetaPopulationsWithinDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getBetaPopulations,function(populations){return populations.length?populations.filter(function(population){return!!population.obj&&__WEBPACK_IMPORTED_MODULE_6_moment___default()().isBetween(__WEBPACK_IMPORTED_MODULE_6_moment___default()(population.obj.PhaseStartDate),__WEBPACK_IMPORTED_MODULE_6_moment___default()(population.obj.PhaseEndDate))}):[]}),NotificationsQueries.getNbOfBetaPopulationsWithinDate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaNews",NotificationsQueries.getBetaPopulationsWithinDate,function(populations){return populations.length}),NotificationsQueries.getHasBetaEntities=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaEntities",__WEBPACK_IMPORTED_MODULE_3__stores_ProfileEntitiesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId,function(entities,spaceId){return!!entities[spaceId]&&entities[spaceId].length>0}),NotificationsQueries.getNbOfBetaEntities=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaEntities",__WEBPACK_IMPORTED_MODULE_3__stores_ProfileEntitiesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId,function(entities,spaceId){return entities[spaceId]?entities[spaceId].length:0}),NotificationsQueries.getProfileEntities=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,__WEBPACK_IMPORTED_MODULE_3__stores_ProfileEntitiesStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_3__stores_ProfileEntitiesStore__.a.getByEntityId,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId,function(hasEntities,bySpaceId,byEntityId,spaceId){return hasEntities?bySpaceId[spaceId].map(function(id){return byEntityId[id]}).filter(function(entity){return"Beta"==entity.name}):[]}),NotificationsQueries.getProfileEntity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,NotificationsQueries.getProfileEntities,function(hasEntities,entities){return hasEntities?entities[0]:null}),NotificationsQueries.getProfileEntityRevison=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,NotificationsQueries.getProfileEntity,function(hasEntities,entity){return hasEntities&&entity?entity.revision:1}),NotificationsQueries.getProfileEntityId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,NotificationsQueries.getProfileEntity,function(hasEntities,entity){return hasEntities&&entity?entity.entityId:null}),NotificationsQueries.getProfileEntityObj=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaEntities,NotificationsQueries.getProfileEntity,function(hasEntities,entity){return hasEntities&&entity?entity.obj:null}),NotificationsQueries.getHasBetaNews=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaNews",__WEBPACK_IMPORTED_MODULE_4__stores_NewsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(news,spaceId){return!!news[spaceId]&&news[spaceId].length>0}),NotificationsQueries.getNbOfBetaNews=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaNews",__WEBPACK_IMPORTED_MODULE_4__stores_NewsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(news,spaceId){return news[spaceId]?news[spaceId].length:0}),NotificationsQueries.getNews=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaNews,__WEBPACK_IMPORTED_MODULE_4__stores_NewsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_4__stores_NewsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_2__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId,function(hasEntities,bySpaceId,byId,spaceId){
return hasEntities?bySpaceId[spaceId].map(function(id){return byId[id]}):[]}),NotificationsQueries.getComputedEntities=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getHasBetaPopulations,NotificationsQueries.getHasBetaEntities,NotificationsQueries.getHasBetaNews,NotificationsQueries.getBetaPopulationsWithinDate,NotificationsQueries.getNews,NotificationsQueries.getProfileEntityObj,function(hasBetaPopulations,hasBetaEntities,hasBetaNews,populations,news,entityObj){return hasBetaPopulations||hasBetaEntities||hasBetaNews?(hasBetaEntities||hasBetaNews)&&hasBetaEntities?populations.map(function(population){var foundEntity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_lodash__.find)(entityObj,function(obj){return obj.name==population.name});if(foundEntity){var isDifferent=population.obj.type!==foundEntity.type||population.obj.betaName!==foundEntity.betaName||population.obj.PhaseEndDate!==foundEntity.eraseDate;return{name:population.name,betaName:population.obj.betaName,type:population.obj.type,firstDisplayDate:foundEntity.firstDisplayDate,lastDisplayDate:foundEntity.lastDisplayDate,userAction:isDifferent?null:foundEntity.userAction,actionDate:isDifferent?null:foundEntity.actionDate,seen:isDifferent?null:foundEntity.seen,seenNb:isDifferent?null:foundEntity.seenNb,eraseDate:population.obj.PhaseEndDate,version:"1.0"}}return{name:population.name,betaName:population.obj.betaName,type:population.obj.type,firstDisplayDate:__WEBPACK_IMPORTED_MODULE_6_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss"),lastDisplayDate:null,userAction:null,actionDate:null,seen:!1,seenNb:!1,eraseDate:population.obj.PhaseEndDate,version:"1.0"}}):populations.map(function(population){return{name:population.name,betaName:population.obj.betaName,type:population.obj.type,firstDisplayDate:__WEBPACK_IMPORTED_MODULE_6_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss"),lastDisplayDate:null,userAction:null,actionDate:null,seen:!1,seenNb:!1,eraseDate:population.obj.PhaseEndDate,version:"1.0"}}):[]}),NotificationsQueries.getComputedEntitiesObj=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getComputedEntities",NotificationsQueries.getComputedEntities,function(entities){var obj={};return entities.length?(entities.forEach(function(entity,offset){obj[(offset+1).toString()]=entity}),obj):obj}),NotificationsQueries.getComputedNotifications=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getHasBetaPopulations",NotificationsQueries.getComputedEntities,NotificationsQueries.getBetaPopulationsWithinDate,NotificationsQueries.getNews,function(entities,populations,news){return entities.map(function(entity){var found=populations.find(function(population){return population.name==entity.name});return{betaId:entity.name,betaNotSeen:!entity.seen,betaName:found?found.obj.betaName:null,betaPhase:found?found.obj.phaseName:null,betaUrl:found?found.obj.url:null,betaType:found?found.obj.type:null,betaPlatform:found?found.obj.platform:null,betaText:news.find(function(singelNews){return NotificationsQueries.mapPopulationTypeToNewsType(entity.type,found?found.obj.platform:null,singelNews)})?NotificationsQueries.changNewsBodyRelatedToPopulationsTypeAndPlatform(entity.type,found?found.obj.platform:null,news.find(function(singelNews){return NotificationsQueries.mapPopulationTypeToNewsType(entity.type,found?found.obj.platform:null,singelNews)}).body):null}})}),NotificationsQueries.getNbOfNotifications=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("NotificationsQueries.getNbOfNotifications",NotificationsQueries.getComputedEntities,__WEBPACK_IMPORTED_MODULE_7__selectors__.l,function(entities,emailVerificationNotificationsNb){return entities.filter(function(entity){return!entity.seenNb}).length+emailVerificationNotificationsNb})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_3__stores_RecentlyMetStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(284)),__WEBPACK_IMPORTED_MODULE_4_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_4_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__),__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_8__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_9__stores_ClubProfilesStore__=__webpack_require__(67);__webpack_require__.d(exports,"a",function(){return RecentlyMetQueries});var RecentlyMetQueries=function RecentlyMetQueries(){_classCallCheck(this,RecentlyMetQueries)};RecentlyMetQueries.getMyRecentlyMetRelations=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getMyRecentlyMetRelations",__WEBPACK_IMPORTED_MODULE_3__stores_RecentlyMetStore__.a.getEntities,__WEBPACK_IMPORTED_MODULE_1__selectors__.q,function(entities,ids){return entities.filter(function(entity){return ids.indexOf(entity.profileId)!==-1&&entity.relationList.length>0})}),RecentlyMetQueries.getRecentlyMetProfileIdsInTheLast2Weeks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getRecentlyMetProfileIdsInTheLast2Weeks",RecentlyMetQueries.getMyRecentlyMetRelations,function(entities){var ids=[];return entities.forEach(function(entity){entity.relationList.map(function(rL){ids=ids.concat(rL.relations.filter(function(relation){return __WEBPACK_IMPORTED_MODULE_4_moment___default()(relation.lastTime)>__WEBPACK_IMPORTED_MODULE_4_moment___default()().subtract(14,"days").startOf("day")}).map(function(relation){return relation.userId}))})}),ids&&ids.length>0?ids:[]}),RecentlyMetQueries.getMyRecentlyMetRelationLists=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getMyRecentlyMetRelationLists",RecentlyMetQueries.getMyRecentlyMetRelations,function(entities){var list=[];return entities.forEach(function(entity){list=list.concat(entity.relationList)}),list}),RecentlyMetQueries.getMyRecentlyMetFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getMyRecentlyMetFriends",RecentlyMetQueries.getMyRecentlyMetRelationLists,__WEBPACK_IMPORTED_MODULE_8__stores_GamesStore__.a.getByPlatformId,__WEBPACK_IMPORTED_MODULE_8__stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_1__selectors__.r,__WEBPACK_IMPORTED_MODULE_9__stores_ClubProfilesStore__.a.getById,function(relationsList,gamesByPlatformId,gamesById,userProfiles,avatarsUrl,appId,friends,clubProfilesById){var recentlyMetUserListsByGame=[];return relationsList.forEach(function(relationList){var currentGameTitle=gamesById[gamesByPlatformId[relationList.spaceId]]?gamesById[gamesByPlatformId[relationList.spaceId]].title:null,relationsInTheLast2Weeks=relationList.relations.filter(function(relation){return __WEBPACK_IMPORTED_MODULE_4_moment___default()(relation.lastTime)>__WEBPACK_IMPORTED_MODULE_4_moment___default()().subtract(14,"days").startOf("day")}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_4_moment___default()(b.lastTime).unix()-__WEBPACK_IMPORTED_MODULE_4_moment___default()(a.lastTime).unix()});relationsInTheLast2Weeks.forEach(function(relation){var foundUserProfilesByUserId=userProfiles[relation.userId],foundUserProfilesByProfileId=userProfiles[relation.profileId]&&userProfiles[relation.profileId].platformType!==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.UPLAY?userProfiles[relation.profileId]:null,foundFriend=friends[relation.userId];foundFriend&&(!foundFriend||foundFriend.state!=__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE&&foundFriend.state!=__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP&&foundFriend.state)||recentlyMetUserListsByGame.push({pid:relation.userId,userAvatarUrl:avatarsUrl+"/"+relation.userId+"/default_146_146.png?appId="+appId,userName:foundUserProfilesByUserId?foundUserProfilesByUserId.nameOnPlatform:null,hasPsnProfile:!!foundUserProfilesByProfileId&&foundUserProfilesByProfileId.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN,psnName:foundUserProfilesByProfileId?foundUserProfilesByProfileId.nameOnPlatform:null,hasSteamProfile:!!foundUserProfilesByProfileId&&foundUserProfilesByProfileId.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.STEAM,steamName:foundUserProfilesByProfileId?foundUserProfilesByProfileId.nameOnPlatform:null,hasXboxProfile:!!foundUserProfilesByProfileId&&foundUserProfilesByProfileId.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE,xboxName:foundUserProfilesByProfileId?foundUserProfilesByProfileId.nameOnPlatform:null,friendState:foundFriend?foundFriend.state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,invitationRequestDate:null,currentGameTitle:currentGameTitle,gameLastTimeMet:relation.lastTime,userLevel:clubProfilesById[relation.userId]?clubProfilesById[relation.userId].currentLevel.levelNumber:0})})}),recentlyMetUserListsByGame.sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_4_moment___default()(b.gameLastTimeMet).unix()-__WEBPACK_IMPORTED_MODULE_4_moment___default()(a.gameLastTimeMet).unix()}),recentlyMetUserListsByGame}),RecentlyMetQueries.getHasRecentlyMetFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getHasRecentlyMetFriends",RecentlyMetQueries.getMyRecentlyMetFriends,function(entities){return entities.length>0}),RecentlyMetQueries.getMyRecentlyMetFriendsForCarousel=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getHasRecentlyMetFriends",RecentlyMetQueries.getMyRecentlyMetFriends,function(entities){var matrix=[];return entities.forEach(function(entity,offset){matrix[Math.floor(offset/2)]||(matrix[Math.floor(offset/2)]=[]),matrix[Math.floor(offset/2)].push(entity)}),matrix}),RecentlyMetQueries.getCarouselDots=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getCarouselDots",RecentlyMetQueries.getMyRecentlyMetFriendsForCarousel,function(entities){return entities.map(function(entity,offset){return offset})}),RecentlyMetQueries.getNbCarouselDots=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("RecentlyMetQueries.getCarouselDots",RecentlyMetQueries.getMyRecentlyMetFriendsForCarousel,function(entities){return entities.length})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(37)),__WEBPACK_IMPORTED_MODULE_3_app_selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadingAddFriendsAction__=__webpack_require__(242),__WEBPACK_IMPORTED_MODULE_5_app_actions_HideAddFriendsAction__=__webpack_require__(231),__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__=__webpack_require__(76),__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_8_app_services_FriendsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__),__webpack_require__(181)),__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedAddFriendsStatAction__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeAddFriendStateAction__=__webpack_require__(470),__WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendStateAction__=__webpack_require__(227),__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_13__stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_14_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_14_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_moment__),__WEBPACK_IMPORTED_MODULE_15_lodash__=__webpack_require__(27);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_lodash__);__webpack_require__.d(exports,"a",function(){return AddFriendService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AddFriendService=function(_AbstractActions){function AddFriendService(tagCommanderService,profilesService,friendsService){_classCallCheck(this,AddFriendService);var _this=_possibleConstructorReturn(this,(AddFriendService.__proto__||Object.getPrototypeOf(AddFriendService)).call(this));return _this.tagCommanderService=tagCommanderService,_this.profilesService=profilesService,_this.friendsService=friendsService,_this}return _inherits(AddFriendService,_AbstractActions),_createClass(AddFriendService,[{key:"onClickUserSearchInput",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(userName&&userName.length>=3&&userName.toLowerCase()!=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.g)(this.state).toLowerCase())){_context.next=16;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadingAddFriendsAction__.a((!0),userName)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_HideAddFriendsAction__.a((!0))),_context.next=5,Promise.all([this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.UPLAY),this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.PSN),this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE)]);case 5:if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.s)(this.state)){_context.next=9;break}return _context.next=8,Promise.all([this.profilesService.loadFriendsClubProfilesByIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.t)(this.state)),this.profilesService.loadFriendsProfilesByIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.t)(this.state))]);case 8:this.tagCommanderService.trackEvent("Nav - Ubibar - Search Friend","Overlay");case 9:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedAddFriendsStatAction__.a(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.u)(this.state))),_context.next=12,new Promise(function(resolve){return setTimeout(function(){return resolve()},100)});case 12:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadingAddFriendsAction__.a((!1),userName)),_context.next=15,new Promise(function(resolve){return setTimeout(function(){return resolve()},2)});case 15:this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_HideAddFriendsAction__.a((!1)));case 16:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var friends,userId;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeAddFriendStateAction__.a(pid,(!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendStateAction__.a(pid,(!0),(!1),(!0),(!1))),this.tagCommanderService.trackEvent("Nav - Ubibar - Send friend invitation","Overlay"),_context2.next=5,new Promise(function(resolve){setTimeout(function(){return resolve()},305)});case 5:return _context2.next=7,this.friendsService.sendFriendInvite(pid,nameOnPlatform);case 7:friends=__assign({},__WEBPACK_IMPORTED_MODULE_13__stores_FriendsStore__.a.getByIds(this.state)),friends[pid]?friends[pid]=__assign({},friends[pid],{state:__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.FRIEND_STATE.PENDING_SENT_INVITE,stillInRequests:!1}):friends[pid]={pid:pid,nameOnPlatform:nameOnPlatform,lastModified:__WEBPACK_IMPORTED_MODULE_14_moment___default.a.utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),state:__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.FRIEND_STATE.PENDING_SENT_INVITE,stillInRequests:!1},userId=__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),this.friendsService.afterLoadedFriends(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15_lodash__.map)(friends,function(friend){return friend}),userId,_defineProperty({},userId,__WEBPACK_IMPORTED_MODULE_14_moment___default()().unix())),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendStateAction__.a(null,(!1),(!1),(!1),(!1)));case 12:case"end":return _context2.stop()}},_callee2,this)}))}}]),AddFriendService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);AddFriendService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_app_modules_tagCommander_services_TagCommanderService__.a,__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_8_app_services_FriendsService__.a])],AddFriendService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_5__actions_LoadedGalleryAvatarsAction__=__webpack_require__(234),__WEBPACK_IMPORTED_MODULE_6__actions_LoadingAvatarsAction__=__webpack_require__(503);__webpack_require__.d(exports,"a",function(){return AvatarService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AvatarService=function(_AbstractActions){function AvatarService(avatarsApi){_classCallCheck(this,AvatarService);var _this=_possibleConstructorReturn(this,(AvatarService.__proto__||Object.getPrototypeOf(AvatarService)).call(this));return _this.avatarsApi=avatarsApi,_this}return _inherits(AvatarService,_AbstractActions),_createClass(AvatarService,[{key:"getMyAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var avatar,byId;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return avatar=null,byId={},_context.prev=2,_context.next=5,this.avatarsApi.getUserAvatarById(__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()));case 5:avatar=_context.sent,_context.next=13;break;case 8:return _context.prev=8,_context.t0=_context["catch"](2),console.error(_context.t0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId)),_context.abrupt("return",Promise.resolve());case 13:return byId[avatar.userId]=avatar,this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId)),_context.abrupt("return",avatar);case 16:case"end":return _context.stop()}},_callee,this,[[2,8]])}))}},{key:"loadAvatarsFromGallery",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var byGameCode,avatars;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return byGameCode={},avatars=[],_context2.prev=2,_context2.next=5,this.avatarsApi.getAvatarsFromGallery();case 5:avatars=_context2.sent,_context2.next=12;break;case 8:return _context2.prev=8,_context2.t0=_context2["catch"](2),console.error(_context2.t0),_context2.abrupt("return",Promise.reject(_context2.t0));case 12:return avatars.forEach(function(avatar){byGameCode[avatar.gameCode]?byGameCode[avatar.gameCode].push(avatar):byGameCode[avatar.gameCode]=[avatar]}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGalleryAvatarsAction__.a(byGameCode)),_context2.abrupt("return",avatars);case 15:case"end":return _context2.stop()}},_callee2,this,[[2,8]])}))}},{key:"saveAvatarFromGallery",value:function(avatarId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var avatar,byId;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_LoadingAvatarsAction__.a),avatar=null,byId={},_context3.prev=3,_context3.next=6,this.avatarsApi.saveAvatarFromGallery(avatarId);case 6:avatar=_context3.sent,_context3.next=12;break;case 9:_context3.prev=9,_context3.t0=_context3["catch"](3),console.error(_context3.t0);case 12:return byId[avatar.userId]=avatar,_context3.next=15,this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId));case 15:case"end":return _context3.stop()}},_callee3,this,[[3,9]])}))}},{key:"saveUploadedAvatar",value:function(formData){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var avatar,byId;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return avatar=null,byId={},_context4.prev=2,_context4.next=5,this.avatarsApi.saveUploadedAvatar(formData);case 5:avatar=_context4.sent,_context4.next=11;break;case 8:_context4.prev=8,_context4.t0=_context4["catch"](2),console.error(_context4.t0);case 11:return byId[avatar.userId]=avatar,_context4.next=14,this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId));case 14:case"end":return _context4.stop()}},_callee4,this,[[2,8]])}))}}]),AvatarService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);AvatarService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.AvatarsApi])],AvatarService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__PopulationsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(774)),__WEBPACK_IMPORTED_MODULE_3__ProfileEntitiesService__=__webpack_require__(775),__WEBPACK_IMPORTED_MODULE_4__NewsService__=__webpack_require__(772),__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__=__webpack_require__(266),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_7_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_8_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_lodash__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_8_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__),__WEBPACK_IMPORTED_MODULE_9__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37);__webpack_require__.d(exports,"a",function(){return BetaNotificationsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;
if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},BetaNotificationsService=function(_AbstractActions){function BetaNotificationsService(populationsService,profileEntitiesService,newsService,tagCommanderService){_classCallCheck(this,BetaNotificationsService);var _this=_possibleConstructorReturn(this,(BetaNotificationsService.__proto__||Object.getPrototypeOf(BetaNotificationsService)).call(this));return _this.populationsService=populationsService,_this.profileEntitiesService=profileEntitiesService,_this.newsService=newsService,_this.tagCommanderService=tagCommanderService,_this}return _inherits(BetaNotificationsService,_AbstractActions),_createClass(BetaNotificationsService,[{key:"getBetaNotifications",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.populationsService.loadMyBetaPopulations();case 2:if(!__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getHasBetaPopulations(this.getState())){_context.next=12;break}return _context.next=5,Promise.all([this.profileEntitiesService.loadMyProfileEntities(),this.newsService.loadNews([__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId(this.getState())])]);case 5:if(!__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getHasBetaEntities(this.getState())){_context.next=10;break}return _context.next=8,this.profileEntitiesService.updateProfileEntity(__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getProfileEntityId(this.getState()),__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getComputedEntitiesObj(this.getState()),__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getProfileEntityRevison(this.getState()));case 8:_context.next=12;break;case 10:return _context.next=12,this.profileEntitiesService.createProfileEntity(__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getComputedEntitiesObj(this.getState()));case 12:case"end":return _context.stop()}},_callee,this)}))}},{key:"seenAllNotifications",value:function(showNotifications,seen,seenNb){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var entitiesObj,populations,_this2=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(showNotifications){_context2.next=2;break}return _context2.abrupt("return");case 2:if(entitiesObj=__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getComputedEntitiesObj(this.getState()),populations=__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getBetaPopulations(this.getState()),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_lodash__.each)(entitiesObj,function(obj){var foundPopulation=populations.find(function(population){return population.name==obj.name});_this2.tagCommanderService.trackEvent("Nav - Ubibar - Notifications Panel - "+foundPopulation.obj.betaName+" - "+foundPopulation.obj.phaseName+" - "+foundPopulation.obj.type+" - "+foundPopulation.obj.platform+" - View","Overlay")}),!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_lodash__.find)(entitiesObj,function(obj){return!obj.seen})){_context2.next=9;break}return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_lodash__.each)(entitiesObj,function(obj,index){entitiesObj[index]=__assign({},obj,{seen:seen,seenNb:seenNb,lastDisplayDate:__WEBPACK_IMPORTED_MODULE_8_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss")})}),_context2.next=9,this.profileEntitiesService.updateProfileEntity(__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getProfileEntityId(this.getState()),entitiesObj,__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getProfileEntityRevison(this.getState()));case 9:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickBeta",value:function(betaId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var entitiesObj,offset,found,populations,foundPopulation;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(entitiesObj=__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getComputedEntitiesObj(this.getState()),offset=null,found=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_lodash__.find)(entitiesObj,function(obj,index){return offset=index,obj.name==betaId}),!found){_context3.next=11;break}return populations=__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getBetaPopulations(this.getState()),foundPopulation=populations.find(function(population){return population.name==found.name}),foundPopulation&&("PC"==foundPopulation.obj.platform&&"2"==foundPopulation.obj.type?this.tagCommanderService.trackEvent("Nav - Ubibar - Notifications Panel - "+foundPopulation.obj.betaName+" - "+foundPopulation.obj.phaseName+" - "+foundPopulation.obj.type+" - "+foundPopulation.obj.platform+" - Uplay PC Link","Overlay"):this.tagCommanderService.trackEvent("Nav - Ubibar - Notifications Panel - "+foundPopulation.obj.betaName+" - "+foundPopulation.obj.phaseName+" - "+foundPopulation.obj.type+" - "+foundPopulation.obj.platform+" - Link","Overlay")),found=__assign({},found,{userAction:"link",lastDisplayDate:__WEBPACK_IMPORTED_MODULE_8_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss"),actionDate:__WEBPACK_IMPORTED_MODULE_8_moment___default()().utc().format("YYYY-MM-DD HH:mm:ss"),seen:!0,seenNb:!0}),entitiesObj[offset]=found,_context3.next=11,this.profileEntitiesService.updateProfileEntity(__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getProfileEntityId(this.getState()),entitiesObj,__WEBPACK_IMPORTED_MODULE_5__queries_NotificationsQueries__.a.getProfileEntityRevison(this.getState()));case 11:case"end":return _context3.stop()}},_callee3,this)}))}}]),BetaNotificationsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);BetaNotificationsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__PopulationsService__.a,__WEBPACK_IMPORTED_MODULE_3__ProfileEntitiesService__.a,__WEBPACK_IMPORTED_MODULE_4__NewsService__.a,__WEBPACK_IMPORTED_MODULE_9__modules_tagCommander_services_TagCommanderService__.a])],BetaNotificationsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_translate__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_4_app_services_ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__),__webpack_require__(76)),__WEBPACK_IMPORTED_MODULE_5_app_services_GamesService__=__webpack_require__(182),__WEBPACK_IMPORTED_MODULE_6_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(145),__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_8_app_actions_BootedWidgetAction__=__webpack_require__(469),__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_11_app_actions_SelectArabLanguageAction__=__webpack_require__(246),__WEBPACK_IMPORTED_MODULE_12_app_actions_DeselectArabLanguageAction__=__webpack_require__(230),__WEBPACK_IMPORTED_MODULE_13__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_14__WidgetChannelService__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_15__actions_WritteCONNECTloginDataAction__=__webpack_require__(261),__WEBPACK_IMPORTED_MODULE_16__actions_ReloadAction__=__webpack_require__(141),__WEBPACK_IMPORTED_MODULE_17__actions_ChangeLPGPlatformAction__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_18__actions_DeleteCONNECTloginDataAction__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_19__TwoFactorAuthService__=__webpack_require__(776),__WEBPACK_IMPORTED_MODULE_20__queries_OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_21__BetaNotificationsService__=__webpack_require__(270),__WEBPACK_IMPORTED_MODULE_22__GamesAggregationService__=__webpack_require__(275),__WEBPACK_IMPORTED_MODULE_23__PlayerProfileService__=__webpack_require__(773),__WEBPACK_IMPORTED_MODULE_24__AvatarService__=__webpack_require__(269),__WEBPACK_IMPORTED_MODULE_25__queries_WidgetQueries__=__webpack_require__(21);__webpack_require__.d(exports,"a",function(){return BootstrapService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},BootstrapService=function(_AbstractActions){function BootstrapService(authenticationService,profilesService,gamesService,translatorService,pageLoaderService,communicationService,channel,twoFactorAuthService,betaNotificationsService,gamesAggregationService,playerProfileService,avatarService){_classCallCheck(this,BootstrapService);var _this=_possibleConstructorReturn(this,(BootstrapService.__proto__||Object.getPrototypeOf(BootstrapService)).call(this));return _this.authenticationService=authenticationService,_this.profilesService=profilesService,_this.gamesService=gamesService,_this.translatorService=translatorService,_this.pageLoaderService=pageLoaderService,_this.communicationService=communicationService,_this.channel=channel,_this.twoFactorAuthService=twoFactorAuthService,_this.betaNotificationsService=betaNotificationsService,_this.gamesAggregationService=gamesAggregationService,_this.playerProfileService=playerProfileService,_this.avatarService=avatarService,_this}return _inherits(BootstrapService,_AbstractActions),_createClass(BootstrapService,[{key:"bootstrap",value:function(afterLogin,isReInit,query){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var localeString,locale,selectedLocale,promises,_this2=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(query&&query.query&&query.query.isSafari&&this.communicationService.changeIframeUrl(),_context2.prev=1,localeString=["en-GB","en-US","en-CA","fr-FR","fr-CA","zh-CN","cs-CZ","da-DK","fi-FI","de-DE","hu-HU","it-IT","ja-JP","nb-NO","pl-PL","pt-PT","pt-BR","ru-RU","es-ES","es-MX","sv-SE","tr-TR","nl-NL","uk-UA","ar-AE","ko-KR","zh-TW","th-TH"],locale=__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState())?__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState()):__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLocaleCode(this.store.getState()),"ar-ae"===locale.toLowerCase()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_11_app_actions_SelectArabLanguageAction__.a):this.dispatch(new __WEBPACK_IMPORTED_MODULE_12_app_actions_DeselectArabLanguageAction__.a),selectedLocale=locale.split("-")[1]?locale.split("-")[0].toLowerCase()+"-"+locale.split("-")[1].toUpperCase():locale,localeString.find(function(loc){return loc.toLowerCase()==locale.toLowerCase()})||localeString.indexOf(selectedLocale)===-1||console.warn(locale+" is an invalid locale. Therefore "+selectedLocale+" will be used"),localeString.indexOf(selectedLocale)===-1&&(console.warn(locale+" is an invalid locale. Pleas set locale on init with one of the following: "+localeString.join(", ")),selectedLocale="en-GB"),this.pageLoaderService.$display.getValue()){_context2.next=11;break}return _context2.next=11,this.pageLoaderService.showPageLoader();case 11:return _context2.next=13,this.translatorService.loadLocale(selectedLocale);case 13:if(this.translatorService.changeLocale(selectedLocale),!(query&&query.query&&query.query.payload)){_context2.next=19;break}return _context2.next=17,this.refreshIdentity(query.query.payload);case 17:_context2.next=22;break;case 19:return this.channel.send(__WEBPACK_IMPORTED_MODULE_13__messages__.a.INTEGRATOR_TRIGGER_REFRESH_IDENTITY,{afterLogin:afterLogin,isReInit:isReInit}),_context2.next=22,new Promise(function(resolve,reject){_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_13__messages__.a.WIDGET_TICKET_SUCESS,function(ticket){return _this2.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_WritteCONNECTloginDataAction__.a(ticket)),_this2.authenticationService.refreshIdentity().then(function(){return resolve()})["catch"](function(){return reject()})}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_13__messages__.a.WIDGET_TICKET_ERROR,function(){return _this2.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_DeleteCONNECTloginDataAction__.a),_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.LoggedOutAction),reject()})});case 22:if(!(query&&query.query&&query.query.platform&&query.query.formerUserId!==__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()))){_context2.next=25;break}return _context2.next=25,this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_ReloadAction__.a);case 25:return this.channel.send(__WEBPACK_IMPORTED_MODULE_13__messages__.a.INTEGRATOR_TRIGGER_USER_DATA,{ticket:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket,sessionId:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).sessionId,userId:__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())}),_context2.next=28,new Promise(function(resolve){_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_13__messages__.a.WIDGET_TRIGGER_USER_DATA_SUCCESS,function(){return resolve()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_13__messages__.a.WIDGET_TRIGGER_USER_DATA_ERROR,function(){return resolve()})});case 28:return 50===__WEBPACK_IMPORTED_MODULE_25__queries_WidgetQueries__.a.getParentHeight(this.getState())&&this.channel.send(__WEBPACK_IMPORTED_MODULE_13__messages__.a.INTEGRATOR_GET_IFRAME_BOUNDING_CLIENT_RECT),this.communicationService.loggedIn(__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()),afterLogin,isReInit),promises=[this.communicationService.onExpandFriends(),this.profilesService.loadMyUserProfile(),this.playerProfileService.loadPlayerProfile(),this.twoFactorAuthService.getTwoFactorAuthStatus()],isReInit&&promises.push(this.avatarService.getMyAvatar()),_context2.next=34,Promise.all(promises);case 34:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_8_app_actions_BootedWidgetAction__.a),_context2.next=37,this.pageLoaderService.hidePageLoader();case 37:return this.gamesAggregationService.loadGames().then(function(){return __awaiter(_this2,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(__WEBPACK_IMPORTED_MODULE_20__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed(this.getState())){_context.next=2;break}return _context.abrupt("return");case 2:this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_ChangeLPGPlatformAction__.a(__WEBPACK_IMPORTED_MODULE_20__queries_OtherGamesCarouselQueries__.a.getCurrentGameId(this.getState()),__WEBPACK_IMPORTED_MODULE_20__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId(this.getState())));case 3:case"end":return _context.stop()}},_callee,this)}))}),this.betaNotificationsService.getBetaNotifications(),_context2.abrupt("return",Promise.resolve());case 42:return _context2.prev=42,_context2.t0=_context2["catch"](1),_context2.t0&&(console.error("error on bootstrap"),console.error(_context2.t0)),this.pageLoaderService.hidePageLoader(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8_app_actions_BootedWidgetAction__.a),this.communicationService.loggedIn(null,afterLogin,isReInit),_context2.abrupt("return",Promise.reject(""));case 49:case"end":return _context2.stop()}},_callee2,this,[[1,42]])}))}},{key:"refreshIdentity",value:function(payload){return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_WritteCONNECTloginDataAction__.a({user_id:payload.payload.userId,ticket:payload.payload.ticket,token:payload.payload.token,sessionId:payload.payload.sessionId,expiration:payload.payload.expiration,opId:payload.opId})),this.authenticationService.refreshIdentity()}}]),BootstrapService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);BootstrapService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationService,__WEBPACK_IMPORTED_MODULE_4_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_5_app_services_GamesService__.a,__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.TranslatorService,__WEBPACK_IMPORTED_MODULE_6_app_modules_pageLoader_services_PageLoaderService__.a,__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_14__WidgetChannelService__.a,__WEBPACK_IMPORTED_MODULE_19__TwoFactorAuthService__.a,__WEBPACK_IMPORTED_MODULE_21__BetaNotificationsService__.a,__WEBPACK_IMPORTED_MODULE_22__GamesAggregationService__.a,__WEBPACK_IMPORTED_MODULE_23__PlayerProfileService__.a,__WEBPACK_IMPORTED_MODULE_24__AvatarService__.a])],BootstrapService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__);__webpack_require__.d(exports,"a",function(){return CarouselService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},CarouselService=function(_AbstractActions){function CarouselService(){return _classCallCheck(this,CarouselService),_possibleConstructorReturn(this,(CarouselService.__proto__||Object.getPrototypeOf(CarouselService)).call(this))}return _inherits(CarouselService,_AbstractActions),_createClass(CarouselService,[{key:"onClickLeftCarouselArrow",value:function(carouselRef,currentDot,nbOfDots,carouselDotTranslateX,className){var selectedDot=currentDot,newDotPosition=selectedDot-1;newDotPosition>=0&&this.dispatch(new className(newDotPosition,newDotPosition*carouselRef.offsetWidth,this.getCarouselDotTranslateX(newDotPosition,nbOfDots,carouselDotTranslateX)))}},{key:"onClickRightCarouselArrow",value:function(carouselRef,currentDot,nbOfDots,carouselDotTranslateX,className){var selectedDot=currentDot,length=nbOfDots,newDotPosition=selectedDot+1;selectedDot+1<length&&this.dispatch(new className(selectedDot+1,(selectedDot+1)*carouselRef.offsetWidth,this.getCarouselDotTranslateX(newDotPosition,nbOfDots,carouselDotTranslateX)))}},{key:"onClickCarouselDot",value:function(carouselRef,selectedDot,nbOfDots,carouselDotTranslateX,className){this.dispatch(new className(selectedDot,selectedDot*carouselRef.offsetWidth,this.getCarouselDotTranslateX(selectedDot,nbOfDots,carouselDotTranslateX)))}},{key:"onClickGoToFirstSlide",value:function(className){this.dispatch(new className(0,0,0))}},{key:"getCarouselDotTranslateX",value:function(newDotPosition,nbOfDots,initialCarouselDotTranslateX){var carouselDotTranslateX=0;return newDotPosition<4&&(carouselDotTranslateX=0),newDotPosition>=4&&newDotPosition+3<nbOfDots&&(carouselDotTranslateX=1.5*(newDotPosition-3)),newDotPosition+3>=nbOfDots&&(carouselDotTranslateX=initialCarouselDotTranslateX),carouselDotTranslateX}}]),CarouselService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);CarouselService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],CarouselService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(169)),__WEBPACK_IMPORTED_MODULE_4_app_stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_5_app_selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_8_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_8_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__);__webpack_require__.d(exports,"a",function(){return ConnectionsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ConnectionsService=function(_AbstractActions){function ConnectionsService(connectionsApi){_classCallCheck(this,ConnectionsService);var _this=_possibleConstructorReturn(this,(ConnectionsService.__proto__||Object.getPrototypeOf(ConnectionsService)).call(this));return _this.connectionsApi=connectionsApi,_this}return _inherits(ConnectionsService,_AbstractActions),_createClass(ConnectionsService,[{key:"loadMyFriendsConnections",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.loadConnections(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_app_selectors__.k)(this.getState()));case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"loadFriendConnections",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.loadConnections([pid]);case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"loadConnections",value:function(friendsIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var platforms,profiles,profileIds,byId,ids,byProfileId,bySpaceId,expiration,isExpired,getProfileIds,friendIdNotFound;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(platforms=[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.UPLAY,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE],profiles=__WEBPACK_IMPORTED_MODULE_4_app_stores_UserProfilesStore__.a.getById(this.getState()),profileIds=friendsIds.filter(function(item){return platforms.includes(profiles[item].platformType)}),byId={},ids=[],byProfileId={},bySpaceId={},expiration=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getExpiration(this.getState())[profileIds.join(",")]?__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getExpiration(this.getState())[profileIds.join(",")]:0,
isExpired=__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.getConnectionsCacheTime()),getProfileIds=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getProfileIdsForCall(this.getState()),friendIdNotFound=!1,getProfileIds.length>0&&(friendIdNotFound=!profileIds.length||!profileIds.map(function(profileId){return getProfileIds.indexOf(profileId)!==-1}).reduce(function(previousValue,currentValue){return previousValue&&currentValue})),!isExpired&&!friendIdNotFound){_context3.next=17;break}return _context3.next=15,this.connectionsCall(profileIds,byId,byProfileId,bySpaceId,ids);case 15:_context3.next=22;break;case 17:byId=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getById(this.getState()),byProfileId=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getByProfileId(this.getState()),bySpaceId=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getBySpaceId(this.getState()),ids=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getIds(this.getState()),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__.a(byId,byProfileId,bySpaceId,ids,profileIds,__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getExpiration(this.getState())));case 22:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"connectionsCall",value:function(profileIds,byId,byProfileId,bySpaceId,ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var connections;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.connectionsApi.getConnectionsByProfileIds(profileIds);case 2:connections=_context4.sent,connections.forEach(function(conn){byId[conn.connectionId]=conn,byProfileId[conn.profileId]=conn.connectionId,conn.spaceIds.forEach(function(spaceId){bySpaceId[spaceId]||(bySpaceId[spaceId]=[]),bySpaceId[spaceId].push(conn.connectionId)}),ids.push(conn.connectionId)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__.a(byId,byProfileId,bySpaceId,ids,profileIds,_defineProperty({},profileIds.join(","),__WEBPACK_IMPORTED_MODULE_8_moment___default()().unix())));case 5:case"end":return _context4.stop()}},_callee4,this)}))}}]),ConnectionsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ConnectionsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.ConnectionsApi])],ConnectionsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(76)),__WEBPACK_IMPORTED_MODULE_3__GamesService__=__webpack_require__(182),__WEBPACK_IMPORTED_MODULE_4__actions_ToggleShowFriendProfileContentAction__=__webpack_require__(250),__WEBPACK_IMPORTED_MODULE_5__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_6__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_7__queries_FriendProfileQueries__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_8__ConnectionsService__=__webpack_require__(273),__WEBPACK_IMPORTED_MODULE_9__stores_PlatformsStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_10__actions_ChangeFriendGamesCarouselLPGAction__=__webpack_require__(225),__WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendPlatformAction__=__webpack_require__(226),__WEBPACK_IMPORTED_MODULE_12__actions_LoadingFriendsPlayingGameAction__=__webpack_require__(504),__WEBPACK_IMPORTED_MODULE_13__queries_OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_14__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_15__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_16__actions_LoadingGameStatsAction__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_18__actions_ChangeFriendGamesCarouselSlideAction__=__webpack_require__(475),__WEBPACK_IMPORTED_MODULE_19__actions_ToggleShowFrindProfileStatsAction__=__webpack_require__(252),__WEBPACK_IMPORTED_MODULE_20__actions_LoadedGameStatsAction__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_21__stores_GameStatsStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_22__actions_LoadedFriendsPlayingGame__=__webpack_require__(171),__WEBPACK_IMPORTED_MODULE_23__stores_FriendsPlayingGameStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_24__actions_LoadedFriendsStatsAction__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_25__stores_FriendsActionsStore__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_26__actions_ToggleShowFriendsTabDetailsViewAction__=__webpack_require__(176),__WEBPACK_IMPORTED_MODULE_27__entities_ScrollUpdate__=__webpack_require__(262),__WEBPACK_IMPORTED_MODULE_28__actions_ToggleShowStatsHeaderOnFriendsDetails__=__webpack_require__(257),__WEBPACK_IMPORTED_MODULE_29__FriendsAggregationService__=__webpack_require__(551),__WEBPACK_IMPORTED_MODULE_30__GamesAggregationService__=__webpack_require__(275),__WEBPACK_IMPORTED_MODULE_31__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_32__actions_LoadingGamesAction__=__webpack_require__(243),__WEBPACK_IMPORTED_MODULE_33__actions_ToggleShowNameHeaderOnFriendsDetails__=__webpack_require__(254),__WEBPACK_IMPORTED_MODULE_34__actions_ChangeFriendToDeleteIdAction__=__webpack_require__(478),__WEBPACK_IMPORTED_MODULE_35__FriendsActionsService__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_36__CarouselService__=__webpack_require__(272),__WEBPACK_IMPORTED_MODULE_37__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_38__actions_LoadedFriendGamesAction__=__webpack_require__(497);__webpack_require__.d(exports,"a",function(){return FriendProfileService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendProfileService=function(_AbstractActions){function FriendProfileService(profilesService,gamesService,communicationService,connectionsService,friendsAggregationService,gamesAggregationService,friendsActionsService,carouselService,tagCommanderService){_classCallCheck(this,FriendProfileService);var _this=_possibleConstructorReturn(this,(FriendProfileService.__proto__||Object.getPrototypeOf(FriendProfileService)).call(this));return _this.profilesService=profilesService,_this.gamesService=gamesService,_this.communicationService=communicationService,_this.connectionsService=connectionsService,_this.friendsAggregationService=friendsAggregationService,_this.gamesAggregationService=gamesAggregationService,_this.friendsActionsService=friendsActionsService,_this.carouselService=carouselService,_this.tagCommanderService=tagCommanderService,_this}return _inherits(FriendProfileService,_AbstractActions),_createClass(FriendProfileService,[{key:"onClickFriendProfile",value:function(friendId,friendName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promises,games,spaceId,gameId,gamePlatformCode,installmentId,platforms,spaceIds,myUserId,friendIdCorrelatedWithPlatform,_promises,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(friendId!=__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getCurrentFriendId(this.getState())){_context.next=4;break}return _context.next=3,this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_5__entities_OverviewTabDetails__.a.FRIEND_VIEW);case 3:return _context.abrupt("return");case 4:return _context.next=6,this.dispatch(new __WEBPACK_IMPORTED_MODULE_26__actions_ToggleShowFriendsTabDetailsViewAction__.a((!0)));case 6:return _context.next=8,this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ChangeFriendGamesCarouselSlideAction__.a(0,0,0));case 8:return _context.next=10,this.dispatch(new __WEBPACK_IMPORTED_MODULE_38__actions_LoadedFriendGamesAction__.a((!1)));case 10:return promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_32__actions_LoadingGamesAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_LoadingFriendsPlayingGameAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ToggleShowFrindProfileStatsAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ToggleShowFriendProfileContentAction__.a((!0),friendId,friendName))],__WEBPACK_IMPORTED_MODULE_25__stores_FriendsActionsStore__.a.getShowAddFriendsTab(this.getState())&&promises.push(this.communicationService.hideFriendsDetailsAddContent()),_context.next=14,Promise.all(promises);case 14:return _context.next=16,this.communicationService.toggleOpenDetailsViewState(!0,__WEBPACK_IMPORTED_MODULE_5__entities_OverviewTabDetails__.a.FRIEND_VIEW);case 16:return _context.next=18,Promise.all([this.profilesService.loadFriendClubProfiles(friendId),this.profilesService.loadFriendUserProfiles(friendId),this.connectionsService.loadFriendConnections(friendId),this.gamesAggregationService.loadFriendGamesOwned(friendId)]);case 18:if(!__WEBPACK_IMPORTED_MODULE_7__queries_FriendProfileQueries__.a.getHasGamesPlayed(this.getState())){_context.next=39;break}if(games=__WEBPACK_IMPORTED_MODULE_7__queries_FriendProfileQueries__.a.getFriendGamesPlayed(this.getState()),spaceId=games.length?games[0].spaceId:null,gameId=games.length?games[0].id:null,gamePlatformCode=games.length?games[0].platformCode:null,installmentId=games.length?games[0].installmentId:null,platforms=games.length&&__WEBPACK_IMPORTED_MODULE_9__stores_PlatformsStore__.a.getByGameId(this.getState())[gameId]?__WEBPACK_IMPORTED_MODULE_9__stores_PlatformsStore__.a.getByGameId(this.getState())[games[0].id].map(function(platformId){return __WEBPACK_IMPORTED_MODULE_9__stores_PlatformsStore__.a.getById(_this2.getState())[platformId]}):[],spaceIds=platforms.length?platforms.map(function(platform){return platform.spaceId}):[],myUserId=__WEBPACK_IMPORTED_MODULE_13__queries_OtherGamesCarouselQueries__.a.getMyUserProfileIdByPlatformCode(gamePlatformCode,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14__selectors__.e)(this.getState()),__WEBPACK_IMPORTED_MODULE_15__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())),friendIdCorrelatedWithPlatform=__WEBPACK_IMPORTED_MODULE_13__queries_OtherGamesCarouselQueries__.a.getMyUserProfileIdByPlatformCode(gamePlatformCode,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14__selectors__.x)(this.getState(),{friendId:friendId}),friendId),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ChangeFriendGamesCarouselLPGAction__.a(0,gameId,spaceId,gamePlatformCode)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendPlatformAction__.a(gameId,spaceId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_38__actions_LoadedFriendGamesAction__.a((!0))),!games.length){_context.next=37;break}return _promises=[this.gamesService.loadLastPlayedGameStatsCard(spaceId,friendIdCorrelatedWithPlatform),this.friendsAggregationService.loadFriendsPlayingGame(installmentId)],_context.next=35,Promise.all(_promises);case 35:return _context.next=37,this.gamesService.loadFriendGameStatsCommon(spaceIds,!0,__WEBPACK_IMPORTED_MODULE_7__queries_FriendProfileQueries__.a.getUsersPlayingFriendGameIds(this.getState(),{friendId:friendIdCorrelatedWithPlatform}).concat([myUserId]),platforms);case 37:_context.next=43;break;case 39:this.dispatch(new __WEBPACK_IMPORTED_MODULE_38__actions_LoadedFriendGamesAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22__actions_LoadedFriendsPlayingGame__.a(__WEBPACK_IMPORTED_MODULE_23__stores_FriendsPlayingGameStore__.a.getFriendsByInstallmentId(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_20__actions_LoadedGameStatsAction__.a(__WEBPACK_IMPORTED_MODULE_21__stores_GameStatsStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_21__stores_GameStatsStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_21__stores_GameStatsStore__.a.getIds(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_24__actions_LoadedFriendsStatsAction__.a(__WEBPACK_IMPORTED_MODULE_21__stores_GameStatsStore__.a.getByFriendProfileId(this.getState())));case 43:case"end":return _context.stop()}},_callee,this)}))}},{key:"onChangePlatform",value:function(spaceId,gameId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var friendId,friendIdCorrelatedWithPlatform;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendPlatformAction__.a(gameId,spaceId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_LoadingGameStatsAction__.a),friendId=__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getCurrentFriendId(this.getState()),friendIdCorrelatedWithPlatform=__WEBPACK_IMPORTED_MODULE_13__queries_OtherGamesCarouselQueries__.a.getMyUserProfileIdByPlatformCode(__WEBPACK_IMPORTED_MODULE_9__stores_PlatformsStore__.a.getById(this.getState())[spaceId].code,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14__selectors__.x)(this.getState(),{friendId:friendId}),friendId),_context2.next=6,this.gamesService.loadLastPlayedGameStatsCard(spaceId,friendIdCorrelatedWithPlatform);case 6:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickGameImage",value:function(offset,id,spaceId,platformCode){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var platforms,spaceIds,myUserId,friendId,friendIdCorrelatedWithPlatform,promises,_this3=this;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ChangeFriendGamesCarouselLPGAction__.a(offset,id,spaceId,platformCode)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendPlatformAction__.a(id,spaceId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_LoadingGameStatsAction__.a),platforms=__WEBPACK_IMPORTED_MODULE_9__stores_PlatformsStore__.a.getByGameId(this.getState())[id]?__WEBPACK_IMPORTED_MODULE_9__stores_PlatformsStore__.a.getByGameId(this.getState())[id].map(function(platformId){return __WEBPACK_IMPORTED_MODULE_9__stores_PlatformsStore__.a.getById(_this3.getState())[platformId]}):[],spaceIds=platforms.length?platforms.map(function(platform){return platform.spaceId}):[],myUserId=__WEBPACK_IMPORTED_MODULE_13__queries_OtherGamesCarouselQueries__.a.getMyUserProfileIdByPlatformCode(platformCode,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14__selectors__.e)(this.getState()),__WEBPACK_IMPORTED_MODULE_15__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())),friendId=__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getCurrentFriendId(this.getState()),friendIdCorrelatedWithPlatform=__WEBPACK_IMPORTED_MODULE_13__queries_OtherGamesCarouselQueries__.a.getMyUserProfileIdByPlatformCode(platformCode,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14__selectors__.x)(this.getState(),{friendId:friendId}),friendId),promises=[this.gamesService.loadLastPlayedGameStatsCard(spaceId,friendIdCorrelatedWithPlatform),this.friendsAggregationService.loadFriendsPlayingGame(__WEBPACK_IMPORTED_MODULE_31__stores_GamesStore__.a.getById(this.getState())[id].installmentId)],_context3.next=11,Promise.all(promises);case 11:return _context3.next=13,this.gamesService.loadFriendGameStatsCommon(spaceIds,!0,__WEBPACK_IMPORTED_MODULE_7__queries_FriendProfileQueries__.a.getUsersPlayingFriendGameIds(this.getState(),{friendId:friendIdCorrelatedWithPlatform}).concat([myUserId]),platforms);case 13:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"onClickLeftCarouselArrow",value:function(carouselRef){this.carouselService.onClickLeftCarouselArrow(carouselRef,__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getCurrentDot(this.getState()),__WEBPACK_IMPORTED_MODULE_7__queries_FriendProfileQueries__.a.getNbOfGamesPlayedDots(this.getState()),__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_18__actions_ChangeFriendGamesCarouselSlideAction__.a)}},{key:"onClickRightCarouselArrow",value:function(carouselRef){this.carouselService.onClickRightCarouselArrow(carouselRef,__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getCurrentDot(this.getState()),__WEBPACK_IMPORTED_MODULE_7__queries_FriendProfileQueries__.a.getNbOfGamesPlayedDots(this.getState()),__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_18__actions_ChangeFriendGamesCarouselSlideAction__.a)}},{key:"onClickCarouselDot",value:function(selectedDot,carouselRef){this.carouselService.onClickCarouselDot(carouselRef,selectedDot,__WEBPACK_IMPORTED_MODULE_7__queries_FriendProfileQueries__.a.getNbOfGamesPlayedDots(this.getState()),__WEBPACK_IMPORTED_MODULE_17__stores_FriendProfileStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_18__actions_ChangeFriendGamesCarouselSlideAction__.a)}},{key:"onClickGoToFirstSlide",value:function(){this.carouselService.onClickGoToFirstSlide(__WEBPACK_IMPORTED_MODULE_18__actions_ChangeFriendGamesCarouselSlideAction__.a)}},{key:"onToggleShowGameStats",value:function(show,_detailsScrollableRef){this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ToggleShowFrindProfileStatsAction__.a(show)),show||this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1))),show&&(this.dispatch(new __WEBPACK_IMPORTED_MODULE_33__actions_ToggleShowNameHeaderOnFriendsDetails__.a((!1))),_detailsScrollableRef&&(__WEBPACK_IMPORTED_MODULE_27__entities_ScrollUpdate__.a<_detailsScrollableRef.getScrollTop()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_28__actions_ToggleShowStatsHeaderOnFriendsDetails__.a((!1)))))}},{key:"onHandleClickRemove",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:this.tagCommanderService.trackEvent("Nav - Ubibar - Friends Panel - Friends Profile Panel - Remove Friend","Overlay"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_34__actions_ChangeFriendToDeleteIdAction__.a(userId));case 2:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onHandleClickCancelRemove",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:this.tagCommanderService.trackEvent("Nav - Ubibar - Friends Panel - Friends Profile Panel - Cancel Remove Friend","Overlay"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_34__actions_ChangeFriendToDeleteIdAction__.a(null));case 2:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"onHandleClickConfirmRemove",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return this.tagCommanderService.trackEvent("Nav - Overlay - Remove a Friend","Overlay"),_context6.next=3,this.friendsActionsService.handleDeclineRequest(userId);case 3:return _context6.next=5,this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_5__entities_OverviewTabDetails__.a.FRIEND_VIEW);case 5:case"end":return _context6.stop()}},_callee6,this)}))}}]),FriendProfileService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendProfileService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_3__GamesService__.a,__WEBPACK_IMPORTED_MODULE_6__modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_8__ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_29__FriendsAggregationService__.a,__WEBPACK_IMPORTED_MODULE_30__GamesAggregationService__.a,__WEBPACK_IMPORTED_MODULE_35__FriendsActionsService__.a,__WEBPACK_IMPORTED_MODULE_36__CarouselService__.a,__WEBPACK_IMPORTED_MODULE_37__modules_tagCommander_services_TagCommanderService__.a])],FriendProfileService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_5__actions_LoadedGamesAction__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_8__stores_PlatformsStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_11_lodash__=__webpack_require__(27);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_lodash__);__webpack_require__.d(exports,"a",function(){return GamesAggregationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},GamesAggregationService=function(_AbstractActions){function GamesAggregationService(gamesAggregationApi){_classCallCheck(this,GamesAggregationService);var _this=_possibleConstructorReturn(this,(GamesAggregationService.__proto__||Object.getPrototypeOf(GamesAggregationService)).call(this));return _this.gamesAggregationApi=gamesAggregationApi,_this}return _inherits(GamesAggregationService,_AbstractActions),_createClass(GamesAggregationService,[{key:"loadAllMyGamesOwned",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.gamesAggregationApi.getAllGamesOwnedByUser(__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()));case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}))}},{key:"loadFriendGamesOwned",value:function(profileId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var isOwned;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!this.getIsNotExpired(profileId)){_context2.next=4;break}return _context2.next=3,Promise.resolve();case 3:return _context2.abrupt("return",_context2.sent);case 4:return _context2.prev=4,_context2.next=7,this.gamesAggregationApi.getAllGamesOwnedByUser(profileId);case 7:return isOwned=_context2.sent,this.computeGames({isOwned:isOwned},profileId),_context2.abrupt("return",isOwned);case 12:return _context2.prev=12,_context2.t0=_context2["catch"](4),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGamesAction__.a({},[],{},[],{},{},{},{},{},__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getExpiration(this.getState()))),_context2.next=17,Promise.reject(_context2.t0);case 17:return _context2.abrupt("return",_context2.sent);case 18:case"end":return _context2.stop()}},_callee2,this,[[4,12]])}))}},{key:"loadLatestReleasedGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.gamesAggregationApi.getLatestReleasedGames(__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),200);case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"loadComingSoonApiGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.gamesAggregationApi.getComingSoonGames(__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()));case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"loadComingSoonGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var promise;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,_context5.next=3,this.loadComingSoonApiGames();case 3:return promise=_context5.sent,this.computeGames({isComingSoon:promise},__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())),_context5.abrupt("return",promise);case 8:return _context5.prev=8,_context5.t0=_context5["catch"](0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGamesAction__.a({},[],{},[],{},{},{},{},{},__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getExpiration(this.getState()))),_context5.next=13,Promise.reject(_context5.t0);case 13:return _context5.abrupt("return",_context5.sent);case 14:
case"end":return _context5.stop()}},_callee5,this,[[0,8]])}))}},{key:"loadGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var promises,gamesPromisesDictonary,gamesPromises;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!this.getIsNotExpiredForLoadGames()){_context6.next=4;break}return _context6.next=3,Promise.resolve();case 3:return _context6.abrupt("return",_context6.sent);case 4:return promises=[this.loadAllMyGamesOwned().then(function(games){return games})["catch"](function(){return[]})],(__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getInstallmentId(this.getState())||__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__.a.getNewLastPlayGameInstallmentId(this.getState()))&&promises.push(this.loadComingSoonApiGames().then(function(games){return games})["catch"](function(){return[]})),_context6.prev=6,gamesPromisesDictonary={isOwned:[],isLatestReleased:[],isComingSoon:[]},_context6.next=10,Promise.all(promises);case 10:if(gamesPromises=_context6.sent,gamesPromisesDictonary.isOwned=gamesPromises[0],0!=gamesPromisesDictonary.isOwned.length){_context6.next=16;break}return _context6.next=15,this.loadLatestReleasedGames().then(function(games){return games})["catch"](function(){return[]});case 15:gamesPromisesDictonary.isLatestReleased=_context6.sent;case 16:return gamesPromises[1]&&(gamesPromisesDictonary.isComingSoon=gamesPromises[1]),this.computeGames(gamesPromisesDictonary,__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())),_context6.abrupt("return",gamesPromises);case 21:return _context6.prev=21,_context6.t0=_context6["catch"](6),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGamesAction__.a({},[],{},[],{},{},{},{},{},__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getExpiration(this.getState()))),_context6.next=26,Promise.reject(_context6.t0);case 26:return _context6.abrupt("return",_context6.sent);case 27:case"end":return _context6.stop()}},_callee6,this,[[6,21]])}))}},{key:"computeGames",value:function(gamesPromises,profileId){var gamesByIds={},gamesIds=[],platformsByIds={},platformsIds=[],gamesPlatforms={},platformsByUserId=_defineProperty({},profileId,[]),platformsGames={},gamesByUserId=_defineProperty({},profileId,[]),lastSessionDates=_defineProperty({},profileId,{});__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11_lodash__.forEach)(gamesPromises,function(games,index){games.forEach(function(game){gamesByIds[game.installmentSpaceId]={id:game.installmentSpaceId,title:game.title,cleanUrl:game.slug,thumbUrl:game.images[__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.IMAGE_SPECIFICATION.IMAGE_LOW_BOX_ART],publishedAt:game.releaseDate,installmentId:game.installmentSpaceId,coverUrl:game.images[__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.IMAGE_SPECIFICATION.IMAGE_BACKGROUND],lastSessionDate:game.lastSessionDate,spaceId:game.spaceId,links:game.links,isOwned:"isOwned"===index,isLatestReleased:"isLatestReleased"===index,isComingSoon:"isComingSoon"===index},gamesIds.push(game.installmentSpaceId),platformsByIds[game.spaceId]={code:game.platform,spaceId:game.spaceId},platformsIds.push(game.spaceId),gamesPlatforms[game.installmentSpaceId]?gamesPlatforms[game.installmentSpaceId].push(game.spaceId):gamesPlatforms[game.installmentSpaceId]=[game.spaceId],platformsGames[game.spaceId]=game.installmentSpaceId,"isOwned"===index&&(gamesByUserId[profileId].push(game.installmentSpaceId),platformsByUserId[profileId].push(game.spaceId)),lastSessionDates[profileId][game.spaceId]=game.lastSessionDate})}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGamesAction__.a(gamesByIds,gamesIds,platformsByIds,platformsIds,gamesPlatforms,platformsByUserId,lastSessionDates,platformsGames,gamesByUserId,_defineProperty({},profileId,__WEBPACK_IMPORTED_MODULE_0_moment___default()().unix())))}},{key:"getIsNotExpired",value:function(userId){var expiration=__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getExpiration(this.getState())[userId]?__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getExpiration(this.getState())[userId]:0;return!__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.isExpired(expiration,__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.getGamesToApplicationsCacheTime())&&(this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGamesAction__.a(__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_8__stores_PlatformsStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_8__stores_PlatformsStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_8__stores_PlatformsStore__.a.getByGameId(this.getState()),__WEBPACK_IMPORTED_MODULE_8__stores_PlatformsStore__.a.getByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_8__stores_PlatformsStore__.a.getLastSessionDates(this.getState()),__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getByPlatformId(this.getState()),__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getExpiration(this.getState()))),!0)}},{key:"getIsNotExpiredForLoadGames",value:function(){var installmentId=__WEBPACK_IMPORTED_MODULE_9__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getInstallmentId(this.getState())||__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__.a.getNewLastPlayGameInstallmentId(this.getState());return!(installmentId&&!__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.getById(this.getState())[installmentId])&&this.getIsNotExpired(__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()))}}]),GamesAggregationService}(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.AbstractActions);GamesAggregationService=__decorate([__WEBPACK_IMPORTED_MODULE_1__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.GamesAggregationApi])],GamesAggregationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_utils__=__webpack_require__(59);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__);__webpack_require__.d(exports,"a",function(){return GeneralChannelService});var GeneralChannelService=function(_Channel){function GeneralChannelService(origin,target,debug){return _classCallCheck(this,GeneralChannelService),_possibleConstructorReturn(this,(GeneralChannelService.__proto__||Object.getPrototypeOf(GeneralChannelService)).call(this,origin,target,debug))}return _inherits(GeneralChannelService,_Channel),GeneralChannelService}(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__.Channel)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeSocialNetworkTabAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(483)),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleMoreFriendsOnPsnAction__=__webpack_require__(521),__WEBPACK_IMPORTED_MODULE_4__actions_ToggleMoreFriendsOnXboxAction__=__webpack_require__(522),__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_6__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__stejar_translate__),__webpack_require__(28)),__WEBPACK_IMPORTED_MODULE_8__stejar_utils__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_9__queries_SocialNetworkQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__stejar_utils__),__webpack_require__(547)),__WEBPACK_IMPORTED_MODULE_10__LinkedAccountsService__=__webpack_require__(771),__WEBPACK_IMPORTED_MODULE_11_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_12__ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_ubisoft_api__),__webpack_require__(76)),__WEBPACK_IMPORTED_MODULE_13__entities_LinkedAccounts__=__webpack_require__(541),__WEBPACK_IMPORTED_MODULE_14__actions_ErrorLoadingXboxAction__=__webpack_require__(492),__WEBPACK_IMPORTED_MODULE_15__actions_LoadingXboxAction__=__webpack_require__(506),__WEBPACK_IMPORTED_MODULE_16__actions_ErrorLoadingPsnAction__=__webpack_require__(491),__WEBPACK_IMPORTED_MODULE_17__actions_LoadingPsnAction__=__webpack_require__(505),__WEBPACK_IMPORTED_MODULE_18__queries_PsnAccountsQueries__=__webpack_require__(546),__WEBPACK_IMPORTED_MODULE_19__queries_XboxAccountsQueries__=__webpack_require__(549),__WEBPACK_IMPORTED_MODULE_20__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_21__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_22__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37);__webpack_require__.d(exports,"a",function(){return SocialNetworkService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SocialNetworkService=function(_AbstractActions){function SocialNetworkService(linkedAccountsService,profilesService,tagCommanderService){_classCallCheck(this,SocialNetworkService);var _this=_possibleConstructorReturn(this,(SocialNetworkService.__proto__||Object.getPrototypeOf(SocialNetworkService)).call(this));return _this.linkedAccountsService=linkedAccountsService,_this.profilesService=profilesService,_this.tagCommanderService=tagCommanderService,_this}return _inherits(SocialNetworkService,_AbstractActions),_createClass(SocialNetworkService,[{key:"onChangeTab",value:function(tab){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return tab||(tab="PSN"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ChangeSocialNetworkTabAction__.a(tab)),_context.next=4,this.loadFriends(tab);case 4:case"end":return _context.stop()}},_callee,this)}))}},{key:"onToggleShowMorenPsn",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ToggleMoreFriendsOnPsnAction__.a(toggle))}},{key:"onToggleShowMorenXbox",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ToggleMoreFriendsOnXboxAction__.a(toggle))}},{key:"onClickLinkPsn",value:function(){this.tagCommanderService.trackEvent("Nav - Ubibar - Link PSN Account","Overlay"),this.onLink("PSN","psn","Login with PSN")}},{key:"onClickLinkXbox",value:function(){this.tagCommanderService.trackEvent("Nav - Ubibar - Link XBOX Account","Overlay"),this.onLink("XBOX","xbox","Login with Xbox")}},{key:"onLink",value:function(platform,externalLogin,title){var lang=__WEBPACK_IMPORTED_MODULE_6__stejar_translate__.LocaleQueries.getCurrentLocale(this.getState()),env=__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getEnv(this.getState());env="dev"==env?"uat":env;var connectUrl=__WEBPACK_IMPORTED_MODULE_21__queries_WidgetQueries__.a.getConnectUrl(this.getState());"PSN"==platform&&(connectUrl+="/psn-external"),"XBOX"==platform&&(connectUrl+="/xbox-external");var appId=__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState()),genomeId=__WEBPACK_IMPORTED_MODULE_7__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getGenomeId(this.getState()),formerUserId=__WEBPACK_IMPORTED_MODULE_20__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),nextUrl=__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getConfiguration(this.getState()).overlayApplicationUrl+"/logged-in.html?env="+env+"&appId="+appId+"&genomeId="+genomeId+"&lang="+__WEBPACK_IMPORTED_MODULE_6__stejar_translate__.LocaleQueries.getCurrentLocale(this.getState())+"&platform="+platform+"&formerUserId="+formerUserId,loginUrl=connectUrl+"?appId="+appId+"&genomeId="+genomeId+"&lang="+lang+"&nextUrl="+encodeURIComponent(nextUrl);genomeId||(nextUrl=__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getConfiguration(this.getState()).overlayApplicationUrl+"/logged-in.html?env="+env+"&appId="+appId+"&lang="+__WEBPACK_IMPORTED_MODULE_6__stejar_translate__.LocaleQueries.getCurrentLocale(this.getState())+"&platform="+platform+"&formerUserId="+formerUserId,loginUrl=connectUrl+"?appId="+appId+"&lang="+lang+"&nextUrl="+encodeURIComponent(nextUrl)),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__stejar_utils__.popupWindow)(loginUrl,title,500,700)}},{key:"loadXboxFriendsAccounts",value:function(offset,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var xboxAccounts,ids,userProfiles,userProfilesIds;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(__WEBPACK_IMPORTED_MODULE_9__queries_SocialNetworkQueries__.a.getIsLinkedWithXbox(this.getState())){_context2.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ErrorLoadingXboxAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadingXboxAction__.a((!1))),_context2.abrupt("return");case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadingXboxAction__.a((!0))),_context2.prev=5,_context2.next=8,this.linkedAccountsService.loadXboxFriends(offset,limit);case 8:return xboxAccounts=_context2.sent,ids=xboxAccounts.Friends.FriendList.map(function(friend){return friend.Xuid}),_context2.next=12,this.profilesService.getProfilesByPlatformIdsAndPlatformType(ids,__WEBPACK_IMPORTED_MODULE_11_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE);case 12:return userProfiles=_context2.sent,userProfilesIds=userProfiles.map(function(item){return item.userId}),_context2.next=16,Promise.all([this.profilesService.loadFriendsProfilesByIds(userProfilesIds),this.profilesService.loadFriendsClubProfilesByIds(userProfilesIds)]);case 16:if(0!=offset){_context2.next=20;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ErrorLoadingXboxAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadingXboxAction__.a((!1))),_context2.abrupt("return");case 20:if(!(__WEBPACK_IMPORTED_MODULE_19__queries_XboxAccountsQueries__.a.getNbOfXboxFriendsInList(this.getState())<__WEBPACK_IMPORTED_MODULE_19__queries_XboxAccountsQueries__.a.getNbOfXboxFriends(this.getState()))){_context2.next=24;break}return _context2.next=23,this.loadXboxFriendsAccounts(offset+__WEBPACK_IMPORTED_MODULE_13__entities_LinkedAccounts__.a,__WEBPACK_IMPORTED_MODULE_13__entities_LinkedAccounts__.a);case 23:return _context2.abrupt("return");case 24:_context2.next=31;break;case 26:return _context2.prev=26,_context2.t0=_context2["catch"](5),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ErrorLoadingXboxAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadingXboxAction__.a((!1))),_context2.abrupt("return");case 31:case"end":return _context2.stop()}},_callee2,this,[[5,26]])}))}},{key:"loadPlayStationFriendsAccounts",value:function(offset,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var psnAccounts,ids,userProfiles,userProfilesIds;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(__WEBPACK_IMPORTED_MODULE_9__queries_SocialNetworkQueries__.a.getIsLinkedWithPsn(this.getState())){_context3.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_ErrorLoadingPsnAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_LoadingPsnAction__.a((!1))),_context3.abrupt("return");case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_LoadingPsnAction__.a((!0))),_context3.prev=5,_context3.next=8,this.linkedAccountsService.loadPlayStationFriends(offset,limit);case 8:return psnAccounts=_context3.sent,ids=psnAccounts.Friends.FriendList.map(function(friend){return friend.OnlineId}),_context3.next=12,this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms(ids,__WEBPACK_IMPORTED_MODULE_11_ubisoft_api__.PLATFORM_TYPE.PSN);case 12:return userProfiles=_context3.sent,userProfilesIds=userProfiles.map(function(item){return item.userId}),_context3.next=16,Promise.all([this.profilesService.loadFriendsProfilesByIds(userProfilesIds),this.profilesService.loadFriendsClubProfilesByIds(userProfilesIds)]);case 16:if(0!=offset){_context3.next=20;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_ErrorLoadingPsnAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_LoadingPsnAction__.a((!1))),_context3.abrupt("return");case 20:if(!(__WEBPACK_IMPORTED_MODULE_18__queries_PsnAccountsQueries__.a.getNbOfPsnFriendsInList(this.getState())<__WEBPACK_IMPORTED_MODULE_18__queries_PsnAccountsQueries__.a.getNbOfPsnFriends(this.getState()))){_context3.next=24;break}return _context3.next=23,this.loadPlayStationFriendsAccounts(offset+__WEBPACK_IMPORTED_MODULE_13__entities_LinkedAccounts__.b,__WEBPACK_IMPORTED_MODULE_13__entities_LinkedAccounts__.b);case 23:return _context3.abrupt("return");case 24:_context3.next=31;break;case 26:return _context3.prev=26,_context3.t0=_context3["catch"](5),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_ErrorLoadingPsnAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_LoadingPsnAction__.a((!1))),_context3.abrupt("return");case 31:case"end":return _context3.stop()}},_callee3,this,[[5,26]])}))}},{key:"loadFriends",value:function(tab){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:_context4.t0=tab,_context4.next="PSN"===_context4.t0?3:"XBOX"===_context4.t0?6:9;break;case 3:return _context4.next=5,this.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_13__entities_LinkedAccounts__.b);case 5:return _context4.abrupt("break",12);case 6:return _context4.next=8,this.loadXboxFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_13__entities_LinkedAccounts__.a);case 8:return _context4.abrupt("break",12);case 9:return _context4.next=11,this.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_13__entities_LinkedAccounts__.b);case 11:return _context4.abrupt("break",12);case 12:case"end":return _context4.stop()}},_callee4,this)}))}}]),SocialNetworkService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);SocialNetworkService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_10__LinkedAccountsService__.a,__WEBPACK_IMPORTED_MODULE_12__ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_22__modules_tagCommander_services_TagCommanderService__.a])],SocialNetworkService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(526)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendStatsInputValueAction__=__webpack_require__(477),__WEBPACK_IMPORTED_MODULE_4_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeFriendStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__),__webpack_require__(476)),__WEBPACK_IMPORTED_MODULE_6__queries_FriendsOwnedGamesQueries__=__webpack_require__(146),__WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowFriendsSelectorTooltipWarningAction__=__webpack_require__(251),__WEBPACK_IMPORTED_MODULE_8__actions_ToggleShowGameContentAction__=__webpack_require__(253),__WEBPACK_IMPORTED_MODULE_9__entities_ScrollUpdate__=__webpack_require__(262),__WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowStatsHeaderOnPlayerCardDetails__=__webpack_require__(258);__webpack_require__.d(exports,"a",function(){return StatsComparisonService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},StatsComparisonService=function(_AbstractActions){function StatsComparisonService(){return _classCallCheck(this,StatsComparisonService),_possibleConstructorReturn(this,(StatsComparisonService.__proto__||Object.getPrototypeOf(StatsComparisonService)).call(this))}return _inherits(StatsComparisonService,_AbstractActions),_createClass(StatsComparisonService,[{key:"onToggleShowGameStats",value:function(show,_detailsScrollableRef){show||(this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendStatsInputValueAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeFriendStatsAction__.a(null,null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1)))),show&&_detailsScrollableRef&&(__WEBPACK_IMPORTED_MODULE_9__entities_ScrollUpdate__.a<_detailsScrollableRef.getScrollTop()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a((!1)))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameStatsAction__.a(show))}},{key:"onToggleShowFriendsSelectorTooltipWarning",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a((!toggle)))}},{key:"onTypeFriendName",value:function(value){var _this2=this,debounceFunction=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.debounce)(function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendStatsInputValueAction__.a(value))},100);debounceFunction()}},{key:"onChangeFriend",value:function(friendId){var friends=__WEBPACK_IMPORTED_MODULE_6__queries_FriendsOwnedGamesQueries__.a.getFriendsPlayingGame(this.getState()),friend=friends.find(function(friend){return friend.pid==friendId});friend&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeFriendStatsAction__.a(friendId,friend.nameOnPlatform))}},{key:"resetComponent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Promise.all([this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_ToggleShowGameContentAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowGameStatsAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ChangeFriendStatsInputValueAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeFriendStatsAction__.a(null,null))]);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}))}}]),StatsComparisonService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);StatsComparisonService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],StatsComparisonService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadingAddFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(242)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedAddFriendsStatAction__=__webpack_require__(232),__WEBPACK_IMPORTED_MODULE_5_app_actions_ChangeAddFriendStateAction__=__webpack_require__(470),__WEBPACK_IMPORTED_MODULE_6_app_actions_HideAddFriendsAction__=__webpack_require__(231);__webpack_require__.d(exports,"a",function(){return AddFriendStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){
return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AddFriendStore=function(_ReducerStore){function AddFriendStore(){_classCallCheck(this,AddFriendStore);var _this=_possibleConstructorReturn(this,(AddFriendStore.__proto__||Object.getPrototypeOf(AddFriendStore)).call(this));return _this.bind(null,function(){return{userNameToSearch:null,isLoading:!1,show:!1,friendsSate:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadingAddFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedAddFriendsStatAction__.a.name,_this.handleLoadedFriendsSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_ChangeAddFriendStateAction__.a.name,_this.handleChangeFriendSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6_app_actions_HideAddFriendsAction__.a.name,_this.handleHideFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(AddFriendStore,_ReducerStore),_createClass(AddFriendStore,[{key:"handleLoggedOutAction",value:function(state,action){return{userNameToSearch:null,isLoading:!1,show:!1,friendsSate:{}}}},{key:"handleLoadedFriendsAction",value:function(state,action){return Object.assign({},state,{userNameToSearch:action.userName,isLoading:action.isLoading})}},{key:"handleHideFriendsAction",value:function(state,action){return Object.assign({},state,{show:!action.isHidden})}},{key:"handleLoadedFriendsSateAction",value:function(state,action){return Object.assign({},state,{friendsSate:Object.assign({},state.friendsSate,action.friendsSate)})}},{key:"handleChangeFriendSateAction",value:function(state,action){var friendsSate=Object.assign({},state.friendsSate);return friendsSate[action.pid]=action.state,Object.assign({},state,{friendsSate:Object.assign({},state.friendsSate,friendsSate)})}}]),AddFriendStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);AddFriendStore.getState=function(state){return state.AddFriendStore},AddFriendStore.getUserNameToSearch=function(state){return state.AddFriendStore.userNameToSearch},AddFriendStore.getFriendsSate=function(state){return state.AddFriendStore.friendsSate},AddFriendStore.getIsLoading=function(state){return state.AddFriendStore.isLoading},AddFriendStore.getShow=function(state){return state.AddFriendStore.show},AddFriendStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],AddFriendStore)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeLPGPlatformAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(166));__webpack_require__.d(exports,"a",function(){return ChangePlatformStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ChangePlatformStore=function(_ReducerStore){function ChangePlatformStore(){_classCallCheck(this,ChangePlatformStore);var _this=_possibleConstructorReturn(this,(ChangePlatformStore.__proto__||Object.getPrototypeOf(ChangePlatformStore)).call(this));return _this.bind(null,function(){return{selectedSpaceIdByGameId:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeLPGPlatformAction__.a.name,_this.handleChangedPlatfrom),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(ChangePlatformStore,_ReducerStore),_createClass(ChangePlatformStore,[{key:"handleLoggedOutAction",value:function(state,action){return __assign({},state,{selectedSpaceIdByGameId:{}})}},{key:"handleChangedPlatfrom",value:function(state,action){return __assign({},state,{selectedSpaceIdByGameId:__assign({},state.selectedSpaceIdByGameId,_defineProperty({},action.gameId,action.spaceId))})}}]),ChangePlatformStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ChangePlatformStore.getState=function(state){return state.ChangePlatformStore},ChangePlatformStore.getSelectedSpaceIdByGameId=function(state){return state.ChangePlatformStore.selectedSpaceIdByGameId},ChangePlatformStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ChangePlatformStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeSlideAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(482));__webpack_require__.d(exports,"a",function(){return ChangeSlideStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ChangeSlideStore=function(_ReducerStore){function ChangeSlideStore(){_classCallCheck(this,ChangeSlideStore);var _this=_possibleConstructorReturn(this,(ChangeSlideStore.__proto__||Object.getPrototypeOf(ChangeSlideStore)).call(this));return _this.bind(null,function(){return{currentDot:0,carouselTranslateX:0,carouselDotTranslateX:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeSlideAction__.a.name,_this.handleChangeSlideAction),_this}return _inherits(ChangeSlideStore,_ReducerStore),_createClass(ChangeSlideStore,[{key:"handleLoggedOutAction",value:function(state,action){return{currentDot:0,carouselTranslateX:0,carouselDotTranslateX:0}}},{key:"handleChangeSlideAction",value:function(state,action){return __assign({},state,{currentDot:action.dot,carouselTranslateX:action.carouselTranslateX,carouselDotTranslateX:action.carouselDotTranslateX})}}]),ChangeSlideStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ChangeSlideStore.getState=function(state){return state.ChangeSlideStore},ChangeSlideStore.getCurrentDot=function(state){return state.ChangeSlideStore.currentDot},ChangeSlideStore.getCarouselTranslateX=function(state){return state.ChangeSlideStore.carouselTranslateX},ChangeSlideStore.getCarouselDotTranslateX=function(state){return state.ChangeSlideStore.carouselDotTranslateX},ChangeSlideStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ChangeSlideStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPlayerProfileAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(237));__webpack_require__.d(exports,"a",function(){return PlayerProfileStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PlayerProfileStore=function(_ReducerStore){function PlayerProfileStore(){_classCallCheck(this,PlayerProfileStore);var _this=_possibleConstructorReturn(this,(PlayerProfileStore.__proto__||Object.getPrototypeOf(PlayerProfileStore)).call(this));return _this.bind(null,function(){return{byId:null,hasProfileCallError:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPlayerProfileAction__.a.name,_this.handleLoadedPlayerProfileAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(PlayerProfileStore,_ReducerStore),_createClass(PlayerProfileStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:null,hasProfileCallError:!1}}},{key:"handleLoadedPlayerProfileAction",value:function(state,action){return __assign({},state,{byId:__assign({},state.byId,action.byId),hasProfileCallError:action.hasProfileCallError})}}]),PlayerProfileStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);PlayerProfileStore.getState=function(state){return state.PlayerProfileStore},PlayerProfileStore.getById=function(state){return state.PlayerProfileStore.byId},PlayerProfileStore.getHasProfileCallError=function(state){return state.PlayerProfileStore.hasProfileCallError},PlayerProfileStore.loadedPlayerProfile=function(state){return state.LoadersStore.PlayerProfile},PlayerProfileStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PlayerProfileStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPsnFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(500)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadingPsnAction__=__webpack_require__(505);__webpack_require__.d(exports,"a",function(){return PsnAccountsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PsnAccountsStore=function(_ReducerStore){function PsnAccountsStore(){_classCallCheck(this,PsnAccountsStore);var _this=_possibleConstructorReturn(this,(PsnAccountsStore.__proto__||Object.getPrototypeOf(PsnAccountsStore)).call(this));return _this.bind(null,function(){return{psnFriends:[],isLoading:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPsnFriendsAction__.a.name,_this.handleLoadedPsnFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_LoadingPsnAction__.a.name,_this.handleLoadingPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(PsnAccountsStore,_ReducerStore),_createClass(PsnAccountsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{psnFriends:[],isLoading:!0}}},{key:"handleLoadedPsnFriendsAction",value:function(state,action){return Object.assign({},state,{psnFriends:state.psnFriends.concat([action.psnFriends])})}},{key:"handleLoadingPsnAction",value:function(state,action){return Object.assign({},state,{isLoading:action.loading})}}]),PsnAccountsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);PsnAccountsStore.getState=function(state){return state.PsnAccountsStore},PsnAccountsStore.getPsnFriends=function(state){return state.PsnAccountsStore.psnFriends},PsnAccountsStore.getIsLoading=function(state){return state.PsnAccountsStore.isLoading},PsnAccountsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PsnAccountsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedRecentlyMetAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(240));__webpack_require__.d(exports,"a",function(){return RecentlyMetStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RecentlyMetStore=function(_ReducerStore){function RecentlyMetStore(){_classCallCheck(this,RecentlyMetStore);var _this=_possibleConstructorReturn(this,(RecentlyMetStore.__proto__||Object.getPrototypeOf(RecentlyMetStore)).call(this));return _this.bind(null,function(){return{entities:[]}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedRecentlyMetAction__.a.name,_this.handleLoadedRecentlyMetAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(RecentlyMetStore,_ReducerStore),_createClass(RecentlyMetStore,[{key:"handleLoggedOutAction",value:function(state,action){return{entities:[]}}},{key:"handleLoadedRecentlyMetAction",value:function(state,action){return __assign({},state,{entities:state.entities.filter(function(item){return!action.entities.find(function(entity){return entity.profileId===item.profileId})}).concat(action.entities)})}}]),RecentlyMetStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);RecentlyMetStore.getState=function(state){return state.RecentlyMetStore},RecentlyMetStore.getEntities=function(state){return state.RecentlyMetStore.entities},RecentlyMetStore.loaded=function(state){return state.LoadersStore.RecentlyMet},RecentlyMetStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],RecentlyMetStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(241));__webpack_require__.d(exports,"a",function(){return RewardsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RewardsStore=function(_ReducerStore){function RewardsStore(){_classCallCheck(this,RewardsStore);var _this=_possibleConstructorReturn(this,(RewardsStore.__proto__||Object.getPrototypeOf(RewardsStore)).call(this));return _this.bind(null,function(){return{rewards:[],ids:[]}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__.a.name,_this.handleLoadedRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(RewardsStore,_ReducerStore),_createClass(RewardsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{rewards:[],ids:[]}}},{key:"handleLoadedRewardsAction",value:function(state,action){return Object.assign({},state,{rewards:action.rewards,ids:action.rewardsIds})}}]),RewardsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);RewardsStore.getState=function(state){return state.RewardsStore},RewardsStore.getRewards=function(state){return state.RewardsStore.rewards},RewardsStore.getIds=function(state){return state.RewardsStore.ids},RewardsStore.loaded=function(state){return state.LoadersStore.Rewards},RewardsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],RewardsStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedXboxFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(502)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadingXboxAction__=__webpack_require__(506);__webpack_require__.d(exports,"a",function(){return XboxAccountsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor;
}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},XboxAccountsStore=function(_ReducerStore){function XboxAccountsStore(){_classCallCheck(this,XboxAccountsStore);var _this=_possibleConstructorReturn(this,(XboxAccountsStore.__proto__||Object.getPrototypeOf(XboxAccountsStore)).call(this));return _this.bind(null,function(){return{xboxFriends:[],isLoading:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedXboxFriendsAction__.a.name,_this.handleLoadedXboxFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_LoadingXboxAction__.a.name,_this.handleLoadingXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(XboxAccountsStore,_ReducerStore),_createClass(XboxAccountsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{xboxFriends:[],isLoading:!0}}},{key:"handleLoadedXboxFriendsAction",value:function(state,action){return Object.assign({},state,{xboxFriends:state.xboxFriends.concat([action.xboxFriends])})}},{key:"handleLoadingXboxAction",value:function(state,action){return Object.assign({},state,{isLoading:action.loading})}}]),XboxAccountsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);XboxAccountsStore.getState=function(state){return state.XboxAccountsStore},XboxAccountsStore.getXboxFriends=function(state){return state.XboxAccountsStore.xboxFriends},XboxAccountsStore.getIsLoading=function(state){return state.XboxAccountsStore.isLoading},XboxAccountsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],XboxAccountsStore)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return AvatarGalleryFailedAction});var AvatarGalleryFailedAction=function AvatarGalleryFailedAction(toggle){_classCallCheck(this,AvatarGalleryFailedAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return BootedWidgetAction});var BootedWidgetAction=function BootedWidgetAction(){_classCallCheck(this,BootedWidgetAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAddFriendStateAction});var ChangeAddFriendStateAction=function ChangeAddFriendStateAction(pid,state){_classCallCheck(this,ChangeAddFriendStateAction),this.pid=pid,this.state=state}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAvatarGameAction});var ChangeAvatarGameAction=function ChangeAvatarGameAction(gameCode){_classCallCheck(this,ChangeAvatarGameAction),this.gameCode=gameCode}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAvatarInputValueAction});var ChangeAvatarInputValueAction=function ChangeAvatarInputValueAction(input){_classCallCheck(this,ChangeAvatarInputValueAction),this.input=input}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeCarouselSlideAction});var ChangeCarouselSlideAction=function ChangeCarouselSlideAction(dot,carouselTranslateX,carouselDotTranslateX){_classCallCheck(this,ChangeCarouselSlideAction),this.dot=dot,this.carouselTranslateX=carouselTranslateX,this.carouselDotTranslateX=carouselDotTranslateX}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFilterFriendsByNameAction});var ChangeFilterFriendsByNameAction=function ChangeFilterFriendsByNameAction(userNameToFilterBy){_classCallCheck(this,ChangeFilterFriendsByNameAction),this.userNameToFilterBy=userNameToFilterBy}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendGamesCarouselSlideAction});var ChangeFriendGamesCarouselSlideAction=function ChangeFriendGamesCarouselSlideAction(dot,carouselTranslateX,carouselDotTranslateX){_classCallCheck(this,ChangeFriendGamesCarouselSlideAction),this.dot=dot,this.carouselTranslateX=carouselTranslateX,this.carouselDotTranslateX=carouselDotTranslateX}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendStatsAction});var ChangeFriendStatsAction=function ChangeFriendStatsAction(selectedFriendId,selectedFriendName){_classCallCheck(this,ChangeFriendStatsAction),this.selectedFriendId=selectedFriendId,this.selectedFriendName=selectedFriendName}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendStatsInputValueAction});var ChangeFriendStatsInputValueAction=function ChangeFriendStatsInputValueAction(input){_classCallCheck(this,ChangeFriendStatsInputValueAction),this.input=input}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendToDeleteIdAction});var ChangeFriendToDeleteIdAction=function ChangeFriendToDeleteIdAction(currentFriendId){_classCallCheck(this,ChangeFriendToDeleteIdAction),this.currentFriendId=currentFriendId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeLastPlayedGameAction});var ChangeLastPlayedGameAction=function ChangeLastPlayedGameAction(installmentId){_classCallCheck(this,ChangeLastPlayedGameAction),this.installmentId=installmentId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeShowFriendInvitationsAction});var ChangeShowFriendInvitationsAction=function ChangeShowFriendInvitationsAction(toggle){_classCallCheck(this,ChangeShowFriendInvitationsAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeShowFriendRequestsAction});var ChangeShowFriendRequestsAction=function ChangeShowFriendRequestsAction(toggle){_classCallCheck(this,ChangeShowFriendRequestsAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeSlideAction});var ChangeSlideAction=function ChangeSlideAction(dot,carouselTranslateX,carouselDotTranslateX){_classCallCheck(this,ChangeSlideAction),this.dot=dot,this.carouselTranslateX=carouselTranslateX,this.carouselDotTranslateX=carouselDotTranslateX}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeSocialNetworkTabAction});var ChangeSocialNetworkTabAction=function ChangeSocialNetworkTabAction(tab){_classCallCheck(this,ChangeSocialNetworkTabAction),this.tab=tab}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameErrorAction});var ChangeUserNameErrorAction=function ChangeUserNameErrorAction(hasError){_classCallCheck(this,ChangeUserNameErrorAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameErrorTypeAction});var ChangeUserNameErrorTypeAction=function ChangeUserNameErrorTypeAction(errorType){_classCallCheck(this,ChangeUserNameErrorTypeAction),this.errorType=errorType}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeUserNameStateAction});var ChangeUserNameStateAction=function ChangeUserNameStateAction(state){_classCallCheck(this,ChangeUserNameStateAction),this.state=state}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return CharacterErrorAction});var CharacterErrorAction=function CharacterErrorAction(start){_classCallCheck(this,CharacterErrorAction),this.start=start}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return CheckIntervalAction});var CheckIntervalAction=function CheckIntervalAction(){_classCallCheck(this,CheckIntervalAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return CompanyErrorAction});var CompanyErrorAction=function CompanyErrorAction(start){_classCallCheck(this,CompanyErrorAction),this.start=start}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ConnectLoginUrlAction});var ConnectLoginUrlAction=function ConnectLoginUrlAction(loginUrl,connectUrl){_classCallCheck(this,ConnectLoginUrlAction),this.loginUrl=loginUrl,this.connectUrl=connectUrl}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ErrorLoadingPsnAction});var ErrorLoadingPsnAction=function ErrorLoadingPsnAction(error){_classCallCheck(this,ErrorLoadingPsnAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ErrorLoadingXboxAction});var ErrorLoadingXboxAction=function ErrorLoadingXboxAction(error){_classCallCheck(this,ErrorLoadingXboxAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideFriendsActivityAction});var HideFriendsActivityAction=function HideFriendsActivityAction(){_classCallCheck(this,HideFriendsActivityAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideMobileTabsAction});var HideMobileTabsAction=function HideMobileTabsAction(){_classCallCheck(this,HideMobileTabsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideNotificationsPanelAction});var HideNotificationsPanelAction=function HideNotificationsPanelAction(){_classCallCheck(this,HideNotificationsPanelAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedEnvAction});var LoadedEnvAction=function LoadedEnvAction(env){_classCallCheck(this,LoadedEnvAction),this.env=env}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendGamesAction});var LoadedFriendGamesAction=function LoadedFriendGamesAction(loading){_classCallCheck(this,LoadedFriendGamesAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGamesConfigsAction});var LoadedGamesConfigsAction=function LoadedGamesConfigsAction(configsBySpaceId){_classCallCheck(this,LoadedGamesConfigsAction),this.configsBySpaceId=configsBySpaceId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedIpLocationAction});var LoadedIpLocationAction=function LoadedIpLocationAction(byIp,byProfileId){_classCallCheck(this,LoadedIpLocationAction),this.byIp=byIp,this.byProfileId=byProfileId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedPsnFriendsAction});var LoadedPsnFriendsAction=function LoadedPsnFriendsAction(psnFriends){_classCallCheck(this,LoadedPsnFriendsAction),this.psnFriends=psnFriends}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedTwoFactorAuthStatusAction});var LoadedTwoFactorAuthStatusAction=function LoadedTwoFactorAuthStatusAction(active,optin){_classCallCheck(this,LoadedTwoFactorAuthStatusAction),this.active=active,this.optin=optin}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedXboxFriendsAction});var LoadedXboxFriendsAction=function LoadedXboxFriendsAction(xboxFriends){_classCallCheck(this,LoadedXboxFriendsAction),this.xboxFriends=xboxFriends}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingAvatarsAction});var LoadingAvatarsAction=function LoadingAvatarsAction(){_classCallCheck(this,LoadingAvatarsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingFriendsPlayingGameAction});var LoadingFriendsPlayingGameAction=function LoadingFriendsPlayingGameAction(){_classCallCheck(this,LoadingFriendsPlayingGameAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingPsnAction});var LoadingPsnAction=function LoadingPsnAction(loading){_classCallCheck(this,LoadingPsnAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingXboxAction});var LoadingXboxAction=function LoadingXboxAction(loading){_classCallCheck(this,LoadingXboxAction),this.loading=loading}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return OverlayCloseAction});var OverlayCloseAction=function OverlayCloseAction(){_classCallCheck(this,OverlayCloseAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return OverlayOpenAction});var OverlayOpenAction=function OverlayOpenAction(){_classCallCheck(this,OverlayOpenAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ResizeWidgetAction});var ResizeWidgetAction=function ResizeWidgetAction(isInMobileView){_classCallCheck(this,ResizeWidgetAction),this.isInMobileView=isInMobileView}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ResizeWidgetHeightAction});var ResizeWidgetHeightAction=function ResizeWidgetHeightAction(height){_classCallCheck(this,ResizeWidgetHeightAction),this.height=height}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ResizeWidgetParentHeightAction});var ResizeWidgetParentHeightAction=function ResizeWidgetParentHeightAction(height,trackingBannerHeight){_classCallCheck(this,ResizeWidgetParentHeightAction),this.height=height,this.trackingBannerHeight=trackingBannerHeight}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return SetParentUrlAction});var SetParentUrlAction=function SetParentUrlAction(parentUrl){_classCallCheck(this,SetParentUrlAction),this.parentUrl=parentUrl}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return SetSsoIdAction});var SetSsoIdAction=function SetSsoIdAction(ssoId){_classCallCheck(this,SetSsoIdAction),this.ssoId=ssoId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowDetailsViewAction});var ShowDetailsViewAction=function ShowDetailsViewAction(toggle){_classCallCheck(this,ShowDetailsViewAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowFriendsActivityAction});var ShowFriendsActivityAction=function ShowFriendsActivityAction(){_classCallCheck(this,ShowFriendsActivityAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowMobileTabsAction});var ShowMobileTabsAction=function ShowMobileTabsAction(){_classCallCheck(this,ShowMobileTabsAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowNotificationsPanelAction});var ShowNotificationsPanelAction=function ShowNotificationsPanelAction(){_classCallCheck(this,ShowNotificationsPanelAction)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return StartErrorAction});var StartErrorAction=function StartErrorAction(start){_classCallCheck(this,StartErrorAction),this.start=start}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return StartedPanelFlowAction});var StartedPanelFlowAction=function StartedPanelFlowAction(startedPanelFlow){_classCallCheck(this,StartedPanelFlowAction),this.startedPanelFlow=startedPanelFlow}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleAvatarTabsAction});var ToggleAvatarTabsAction=function ToggleAvatarTabsAction(showChooseFromGalleryTab,showUploadAnAvatarTab){_classCallCheck(this,ToggleAvatarTabsAction),this.showChooseFromGalleryTab=showChooseFromGalleryTab,this.showUploadAnAvatarTab=showUploadAnAvatarTab}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleMoreFriendsOnPsnAction});var ToggleMoreFriendsOnPsnAction=function ToggleMoreFriendsOnPsnAction(toggle){_classCallCheck(this,ToggleMoreFriendsOnPsnAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleMoreFriendsOnXboxAction});var ToggleMoreFriendsOnXboxAction=function ToggleMoreFriendsOnXboxAction(toggle){_classCallCheck(this,ToggleMoreFriendsOnXboxAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleOnClickActiveMenuAction});var ToggleOnClickActiveMenuAction=function ToggleOnClickActiveMenuAction(active){_classCallCheck(this,ToggleOnClickActiveMenuAction),this.active=active}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowAvatarRulesAction});var ToggleShowAvatarRulesAction=function ToggleShowAvatarRulesAction(toggle){_classCallCheck(this,ToggleShowAvatarRulesAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowAvatarSelectorAction});var ToggleShowAvatarSelectorAction=function ToggleShowAvatarSelectorAction(toggle){_classCallCheck(this,ToggleShowAvatarSelectorAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowGameStatsAction});var ToggleShowGameStatsAction=function ToggleShowGameStatsAction(show){_classCallCheck(this,ToggleShowGameStatsAction),this.show=show}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleShowMobileViewOnDesktopAction});var ToggleShowMobileViewOnDesktopAction=function ToggleShowMobileViewOnDesktopAction(showMobileViewOnDesktop){_classCallCheck(this,ToggleShowMobileViewOnDesktopAction),this.showMobileViewOnDesktop=showMobileViewOnDesktop}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleStopAvatarEventPropagationAction});var ToggleStopAvatarEventPropagationAction=function ToggleStopAvatarEventPropagationAction(toggle){_classCallCheck(this,ToggleStopAvatarEventPropagationAction),this.toggle=toggle}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UpdateScreenNameAction});var UpdateScreenNameAction=function UpdateScreenNameAction(userName,userId){_classCallCheck(this,UpdateScreenNameAction),this.userName=userName,this.userId=userId}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UploadImageAction});var UploadImageAction=function UploadImageAction(hasUploadError,hasFileTypeError,hasImageSizeError,hasImageError,hasServiceError,file){_classCallCheck(this,UploadImageAction),this.hasUploadError=hasUploadError,this.hasFileTypeError=hasFileTypeError,this.hasImageSizeError=hasImageSizeError,this.hasImageError=hasImageError,this.hasServiceError=hasServiceError,this.file=file}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorAvailableAction});var UserNameErrorAvailableAction=function UserNameErrorAvailableAction(hasError){_classCallCheck(this,UserNameErrorAvailableAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorGeneralAction});var UserNameErrorGeneralAction=function UserNameErrorGeneralAction(hasError){_classCallCheck(this,UserNameErrorGeneralAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorLocalizedAction});var UserNameErrorLocalizedAction=function UserNameErrorLocalizedAction(hasError){_classCallCheck(this,UserNameErrorLocalizedAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorRequiredAction});var UserNameErrorRequiredAction=function UserNameErrorRequiredAction(hasError){_classCallCheck(this,UserNameErrorRequiredAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){
return UserNameErrorRestrictedAction});var UserNameErrorRestrictedAction=function UserNameErrorRestrictedAction(hasError){_classCallCheck(this,UserNameErrorRestrictedAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameErrorTimeLimitAction});var UserNameErrorTimeLimitAction=function UserNameErrorTimeLimitAction(hasError){_classCallCheck(this,UserNameErrorTimeLimitAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameLengthErrorAction});var UserNameLengthErrorAction=function UserNameLengthErrorAction(hasError){_classCallCheck(this,UserNameLengthErrorAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserNameUbisoftErrorAction});var UserNameUbisoftErrorAction=function UserNameUbisoftErrorAction(hasError){_classCallCheck(this,UserNameUbisoftErrorAction),this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ValidationCallAction});var ValidationCallAction=function ValidationCallAction(start){_classCallCheck(this,ValidationCallAction),this.start=start}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ValidationErrorCodeAction});var ValidationErrorCodeAction=function ValidationErrorCodeAction(error,hasError){_classCallCheck(this,ValidationErrorCodeAction),this.error=error,this.hasError=hasError}},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return xboxLimit}),__webpack_require__.d(exports,"b",function(){return psnLimit});var xboxLimit=500,psnLimit=500},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedEnvAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(496));__webpack_require__.d(exports,"a",function(){return EnvironmentStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},EnvironmentStore=function(_ReducerStore){function EnvironmentStore(){_classCallCheck(this,EnvironmentStore);var _this=_possibleConstructorReturn(this,(EnvironmentStore.__proto__||Object.getPrototypeOf(EnvironmentStore)).call(this));return _this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedEnvAction__.a.name,_this.loadedConfiguration),_this}return _inherits(EnvironmentStore,_ReducerStore),_createClass(EnvironmentStore,[{key:"loadedConfiguration",value:function(state,payload){return Object.assign({},state,{currentEnv:payload.env})}}]),EnvironmentStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);EnvironmentStore.getCurrentEnv=function(state){return state.EnvironmentStore.currentEnv},EnvironmentStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],EnvironmentStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedIntegratorConfigurationAction});var LoadedIntegratorConfigurationAction=function LoadedIntegratorConfigurationAction(configuration){_classCallCheck(this,LoadedIntegratorConfigurationAction),this.configuration=configuration}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__stores_PlatformsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(77)),__WEBPACK_IMPORTED_MODULE_2__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_3__stores_ChangePlatformStore__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_4__OtherGamesCarouselQueries__=__webpack_require__(47);__webpack_require__.d(exports,"a",function(){return ChangePlatformsQueries});var ChangePlatformsQueries=function ChangePlatformsQueries(){_classCallCheck(this,ChangePlatformsQueries)};ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms",__WEBPACK_IMPORTED_MODULE_4__OtherGamesCarouselQueries__.a.getCurrentLastPlayedGame,__WEBPACK_IMPORTED_MODULE_1__stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_1__stores_PlatformsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_1__stores_PlatformsStore__.a.getByUserId,__WEBPACK_IMPORTED_MODULE_2__modules_authentication_queries_IdentityQueries__.a.getUserId,function(lpg,platformsByGameId,platformsById,byUserId,userId){if(!lpg)return[];if(!byUserId[userId])return[];var ownedSpaceIDs=byUserId[userId].filter(function(spaceId){return platformsByGameId[lpg.id].indexOf(spaceId)!==-1});return ownedSpaceIDs.map(function(ownedSpaceID){return{key:ownedSpaceID,value:"switch"!==platformsById[ownedSpaceID].code.toLowerCase()?platformsById[ownedSpaceID].code:"NINTENDO SWITCH"}})}),ChangePlatformsQueries.getHasOnlyOneOwnedPlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getHasMyLastPlayedGameOnlyOnePlatform",ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms,function(platforms){return 1==platforms.length}),ChangePlatformsQueries.getHasOwnedPlatforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getHasMyLastPlayedGameOwnedPlatform",ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms,function(platforms){return platforms.length>0}),ChangePlatformsQueries.getSelectedPlatformCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getSelectedPlatformCode",__WEBPACK_IMPORTED_MODULE_3__stores_ChangePlatformStore__.a.getSelectedSpaceIdByGameId,__WEBPACK_IMPORTED_MODULE_4__OtherGamesCarouselQueries__.a.getCurrentGameId,__WEBPACK_IMPORTED_MODULE_1__stores_PlatformsStore__.a.getById,function(selectedSpaceIdByGameId,gameId,platformsById){return platformsById[selectedSpaceIdByGameId[gameId]]?"switch"!==platformsById[selectedSpaceIdByGameId[gameId]].code.toLowerCase()?platformsById[selectedSpaceIdByGameId[gameId]].code:"NINTENDO SWITCH":null}),ChangePlatformsQueries.getMyLastPlayedGameFilteredOwnedPlatfroms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getMyLastPlayedGameFilteredOwnedPlatfroms",__WEBPACK_IMPORTED_MODULE_3__stores_ChangePlatformStore__.a.getSelectedSpaceIdByGameId,__WEBPACK_IMPORTED_MODULE_4__OtherGamesCarouselQueries__.a.getCurrentGameId,ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms,function(platforms,gameId,platformsOwned){return platformsOwned.filter(function(platform){return platform.key!==platforms[gameId]})}),ChangePlatformsQueries.getPlatformSelectorContentWidth=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ChangePlatformsQueries.getPlatformSelectorContentWidth",ChangePlatformsQueries.getMyLastPlayedGameOwnedPlatfroms,function(platformsOwned){return platformsOwned.length?10*platformsOwned.map(function(platform){return platform.value}).reduce(function(previousValue,currentValue){return previousValue.length>=currentValue.length?previousValue:currentValue}).length:null})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);__webpack_require__.d(exports,"a",function(){return GamesCommonQueries});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),GamesCommonQueries=function(){function GamesCommonQueries(){_classCallCheck(this,GamesCommonQueries)}return _createClass(GamesCommonQueries,null,[{key:"isValidDate",value:function(date){return!!date&&(__WEBPACK_IMPORTED_MODULE_0_moment___default()(date).isValid()&&1!==__WEBPACK_IMPORTED_MODULE_0_moment___default()(date).year())}}]),GamesCommonQueries}();GamesCommonQueries.sortPlatforms=function(lastSessionDates,userId,a,b){return!GamesCommonQueries.isValidDate(lastSessionDates[userId][a.spaceId])&&GamesCommonQueries.isValidDate(lastSessionDates[userId][b.spaceId])?1:GamesCommonQueries.isValidDate(lastSessionDates[userId][a.spaceId])&&!GamesCommonQueries.isValidDate(lastSessionDates[userId][b.spaceId])?-1:GamesCommonQueries.isValidDate(lastSessionDates[userId][a.spaceId])||GamesCommonQueries.isValidDate(lastSessionDates[userId][b.spaceId])?__WEBPACK_IMPORTED_MODULE_0_moment___default()(lastSessionDates[userId][a.spaceId]).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()(lastSessionDates[userId][b.spaceId]))?1:-1:0},GamesCommonQueries.sortGames=function(a,b){return!GamesCommonQueries.isValidDate(a.lastPlayedDate)&&GamesCommonQueries.isValidDate(b.lastPlayedDate)?1:GamesCommonQueries.isValidDate(a.lastPlayedDate)&&!GamesCommonQueries.isValidDate(b.lastPlayedDate)?-1:GamesCommonQueries.isValidDate(a.lastPlayedDate)||GamesCommonQueries.isValidDate(b.lastPlayedDate)?__WEBPACK_IMPORTED_MODULE_0_moment___default()(a.lastPlayedDate).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()(b.lastPlayedDate))?1:-1:!GamesCommonQueries.isValidDate(a.publishedAt)&&GamesCommonQueries.isValidDate(b.publishedAt)?1:GamesCommonQueries.isValidDate(a.publishedAt)&&!GamesCommonQueries.isValidDate(b.publishedAt)?-1:GamesCommonQueries.isValidDate(a.publishedAt)||GamesCommonQueries.isValidDate(b.publishedAt)?__WEBPACK_IMPORTED_MODULE_0_moment___default()(a.publishedAt).isBefore(__WEBPACK_IMPORTED_MODULE_0_moment___default()(b.publishedAt))?1:-1:a.gameName>b.gameName?1:-1}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_3__stores_PsnAccountsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(283)),__WEBPACK_IMPORTED_MODULE_4_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__),__webpack_require__(42)),__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_7__stores_SocialNetworkStore__=__webpack_require__(149),__WEBPACK_IMPORTED_MODULE_8__stores_ClubProfilesStore__=__webpack_require__(67);__webpack_require__.d(exports,"a",function(){return PsnAccountsQueries});var PsnAccountsQueries=function PsnAccountsQueries(){_classCallCheck(this,PsnAccountsQueries)};PsnAccountsQueries.getPsnProfileForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnProfileForCurrentUser",__WEBPACK_IMPORTED_MODULE_1__selectors__.e,function(myProfiles){return myProfiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN})}),PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser",__WEBPACK_IMPORTED_MODULE_3__stores_PsnAccountsStore__.a.getPsnFriends,PsnAccountsQueries.getPsnProfileForCurrentUser,function(friends,myProfile){return myProfile?friends.filter(function(friend){return friend.User.OnlineId==myProfile.nameOnPlatform}):[]}),PsnAccountsQueries.getPsnFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnFriends",PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends.map(function(friend){return friend.Friends.FriendList}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}):[]}),PsnAccountsQueries.getNbOfPsnFriendsInList=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfPsnFriendsInList",PsnAccountsQueries.getPsnFriends,function(friends){return friends.length}),PsnAccountsQueries.getNbOfPsnFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfPsnFriends",PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends[0].Friends.TotalResults:0}),PsnAccountsQueries.getOnlyPsnUserProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getOnlyPsnUserProfiles",__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId,function(byId,selfId){var stemUserProfilesById={};return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(byId,function(userProfile){userProfile.userId!==selfId&&userProfile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN&&(stemUserProfilesById[userProfile.userId]=userProfile)}),stemUserProfilesById}),PsnAccountsQueries.getUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXbox",PsnAccountsQueries.getPsnFriends,PsnAccountsQueries.getOnlyPsnUserProfiles,__WEBPACK_IMPORTED_MODULE_1__selectors__.r,__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_8__stores_ClubProfilesStore__.a.getById,function(friendsOnPsn,userProfilesById,friendsById,byId,clubProfilesById){var friendsWithLinkedAccount=[];return friendsOnPsn.length&&Object.keys(userProfilesById).length?(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(userProfilesById,function(userProfileById,userId){var friendOnPsn=friendsOnPsn.find(function(friend){return friend.OnlineId==userProfileById.nameOnPlatform}),isFriend=!!friendsById[userId],pid=isFriend?friendsById[userId].pid:userProfileById.userId;friendOnPsn&&byId[userId]&&friendsWithLinkedAccount.push({pid:isFriend?friendsById[userId].pid:userProfileById.userId,userName:isFriend?friendsById[userId].nameOnPlatform:byId[userId]?byId[userId].nameOnPlatform:friendOnPsn.OnlineId,userAvatarUrl:friendOnPsn.AvatarUrl,hasPsnProfile:!0,psnName:friendOnPsn.OnlineId,hasXboxProfile:!1,xboxName:null,friendState:isFriend?friendsById[userId].state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,invitationRequestDate:isFriend?friendsById[userId].lastModified:null,userLevel:clubProfilesById[pid]?clubProfilesById[pid].currentLevel.levelNumber:0})}),friendsWithLinkedAccount):friendsWithLinkedAccount}),PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",PsnAccountsQueries.getUplayFriendsWhoAreOnPsn,function(friends){return friends.length}),PsnAccountsQueries.getHasUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getHasUplayFriendsWhoAreOnPsn",PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnPsn,function(nbFriends){return nbFriends>0}),PsnAccountsQueries.getUplayFriendsWhoAreOnPsnToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getUplayFriendsWhoAreOnPsnToShow",PsnAccountsQueries.getUplayFriendsWhoAreOnPsn,__WEBPACK_IMPORTED_MODULE_7__stores_SocialNetworkStore__.a.getShowMoreFriendsOnPsn,function(friends,show){return show?friends.slice(0,2):friends})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=__webpack_require__(10);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__);__webpack_require__.d(exports,"a",function(){return SocialNetworkQueries});var SocialNetworkQueries=function SocialNetworkQueries(){_classCallCheck(this,SocialNetworkQueries)};SocialNetworkQueries.getIsLinkedWithPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithPsn",__WEBPACK_IMPORTED_MODULE_1__selectors__.e,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN})}),SocialNetworkQueries.getIsLinkedWithXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithXbox",__WEBPACK_IMPORTED_MODULE_1__selectors__.e,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE})}),SocialNetworkQueries.getIsLinkedWithSteam=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithSteam",__WEBPACK_IMPORTED_MODULE_1__selectors__.e,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.STEAM})})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(99));__webpack_require__.d(exports,"a",function(){return UserNameQueries});var UserNameQueries=function UserNameQueries(){_classCallCheck(this,UserNameQueries)};UserNameQueries.getHasAnyError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorAvailable,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasStartError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameLengthError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasCharacterError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasCompanyError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorTimeLimit,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorGeneral,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameUbisoftError,function(hasUserNameUniqueError,hasUserNameStartError,hasUserNameLengthError,hasUserNameCharactersError,hasUserNameCompanyError,hasUserTimeLimitError,hasGeneralError,hasUserNameUbisoftError){return hasUserNameUniqueError||hasUserNameStartError||hasUserNameLengthError||hasUserNameCharactersError||hasUserNameCompanyError||hasUserTimeLimitError||hasGeneralError||hasUserNameUbisoftError}),UserNameQueries.getHasUserNameLengthError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameLengthError,function(hasError,hasUserNameLengthError){return hasUserNameLengthError}),UserNameQueries.getHasStartError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasStartError,function(hasError,hasStartErrorsError){return hasStartErrorsError}),UserNameQueries.getHasCharacterError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasCharacterError,function(hasError,hasCharacterErroror){return hasCharacterErroror}),UserNameQueries.getHasCompanyError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasCompanyError,function(hasError,hasCompanyErrorrror){return hasCompanyErrorrror}),UserNameQueries.getHasUserNameErrorAvailable=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorAvailable,function(hasError,hasUserNameErrorAvailable){return hasUserNameErrorAvailable}),UserNameQueries.getHasUserNameErrorRequired=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorRequired,function(hasError,hasUserNameErrorRequired){return hasUserNameErrorRequired}),UserNameQueries.getHasUserNameErrorRestricted=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorRestricted,function(hasError,hasUserNameErrorRestricted){return hasUserNameErrorRestricted}),UserNameQueries.getHasUserNameErrorLocalized=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorLocalized,function(hasError,hasUserNameErrorLocalized){return hasUserNameErrorLocalized}),UserNameQueries.getHasUserNameErrorGeneral=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorGeneral,function(hasError,hasUserNameErrorGeneral){return hasUserNameErrorGeneral}),UserNameQueries.getHasUserNameErrorTimeLimit=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameErrorTimeLimit,function(hasError,hasUserNameErrorTimeLimit){return hasUserNameErrorTimeLimit}),UserNameQueries.getHasUserNameUbisoftError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasError,__WEBPACK_IMPORTED_MODULE_1__stores_UserNameStore__.a.getHasUserNameUbisoftError,function(hasError,hasUserNameUbisoftError){return hasUserNameUbisoftError})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_3__stores_XboxAccountsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(286)),__WEBPACK_IMPORTED_MODULE_4_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__),__webpack_require__(42)),__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_7__stores_SocialNetworkStore__=__webpack_require__(149),__WEBPACK_IMPORTED_MODULE_8__stores_ClubProfilesStore__=__webpack_require__(67);__webpack_require__.d(exports,"a",function(){return XboxAccountsQueries});var XboxAccountsQueries=function XboxAccountsQueries(){_classCallCheck(this,XboxAccountsQueries)};XboxAccountsQueries.getXboxProfileForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxProfileForCurrentUser",__WEBPACK_IMPORTED_MODULE_1__selectors__.e,function(myProfiles){return myProfiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE})}),XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser",__WEBPACK_IMPORTED_MODULE_3__stores_XboxAccountsStore__.a.getXboxFriends,XboxAccountsQueries.getXboxProfileForCurrentUser,function(friends,myProfile){return myProfile?friends.filter(function(friend){return friend.User.Xuid==myProfile.idOnPlatform}):[]}),XboxAccountsQueries.getXboxFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxFriends",XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends.map(function(friend){return friend.Friends.FriendList}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}):[]}),XboxAccountsQueries.getNbOfXboxFriendsInList=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfXboxFriendsInList",XboxAccountsQueries.getXboxFriends,function(friends){return friends.length}),XboxAccountsQueries.getNbOfXboxFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfXboxFriends",XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends[0].Friends.TotalResults:0}),XboxAccountsQueries.getOnlyXboxUserProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getOnlyXboxUserProfiles",__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId,function(byId,selfId){var stemUserProfilesById={};return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(byId,function(userProfile){userProfile.userId!==selfId&&userProfile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE&&(stemUserProfilesById[userProfile.userId]=userProfile)}),stemUserProfilesById}),XboxAccountsQueries.getUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getXboxFriends,XboxAccountsQueries.getOnlyXboxUserProfiles,__WEBPACK_IMPORTED_MODULE_1__selectors__.r,__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_8__stores_ClubProfilesStore__.a.getById,function(friendsOnXbox,userProfilesById,friendsById,byId,clubProfilesById){var friendsWithLinkedAccount=[];return friendsOnXbox.length&&Object.keys(userProfilesById).length?(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(userProfilesById,function(userProfileById,userId){var friendOnXbox=friendsOnXbox.find(function(friend){return friend.Xuid==userProfileById.idOnPlatform}),isFriend=!!friendsById[userId],pid=isFriend?friendsById[userId].pid:userProfileById.userId;friendOnXbox&&byId[userId]&&friendsWithLinkedAccount.push({pid:pid,userName:isFriend?friendsById[userId].nameOnPlatform:byId[userId].nameOnPlatform,
userAvatarUrl:friendOnXbox.AvatarUrl,hasPsnProfile:!1,psnName:null,hasXboxProfile:!0,xboxName:friendOnXbox.GamerTag,friendState:isFriend?friendsById[userId].state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,invitationRequestDate:isFriend?friendsById[userId].lastModified:null,userLevel:clubProfilesById[pid]?clubProfilesById[pid].currentLevel.levelNumber:0})}),friendsWithLinkedAccount):friendsWithLinkedAccount}),XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getUplayFriendsWhoAreOnXbox,function(friends){return friends.length}),XboxAccountsQueries.getHasUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox,function(nbFriends){return nbFriends>0}),XboxAccountsQueries.getUplayFriendsWhoAreOnXboxToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXboxToShow",XboxAccountsQueries.getUplayFriendsWhoAreOnXbox,__WEBPACK_IMPORTED_MODULE_7__stores_SocialNetworkStore__.a.getShowMoreFriendsOnXbox,function(friends,show){return show?friends.slice(0,2):friends})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowAvatarComponentAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(248)),__WEBPACK_IMPORTED_MODULE_3__AvatarService__=__webpack_require__(269),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeAvatarGameAction__=__webpack_require__(471),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarInputValueAction__=__webpack_require__(472),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__=__webpack_require__(222),__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_8__entities_UploadFiles__=__webpack_require__(740),__WEBPACK_IMPORTED_MODULE_9_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_10__actions_UploadImageAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_lodash__),__webpack_require__(530)),__WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__=__webpack_require__(255),__WEBPACK_IMPORTED_MODULE_12__actions_UploadAvatarAction__=__webpack_require__(259),__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__=__webpack_require__(263),__WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__=__webpack_require__(249),__WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowSelecteAvatarOverlayAction__=__webpack_require__(256),__WEBPACK_IMPORTED_MODULE_16__actions_ToggleStopAvatarEventPropagationAction__=__webpack_require__(528),__WEBPACK_IMPORTED_MODULE_17__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_18__actions_ToggleShowAvatarSelectorAction__=__webpack_require__(525),__WEBPACK_IMPORTED_MODULE_19__actions_ToggleAvatarTabsAction__=__webpack_require__(520),__WEBPACK_IMPORTED_MODULE_20__entities_Avatar__=__webpack_require__(738),__WEBPACK_IMPORTED_MODULE_21__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_22__stores_OtherGamesCarouselStore__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_23__stores_UserNameStore__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_24__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowAvatarRulesAction__=__webpack_require__(524),__WEBPACK_IMPORTED_MODULE_26__actions_AvatarGalleryFailedAction__=__webpack_require__(468),__WEBPACK_IMPORTED_MODULE_27__actions_LoadedAvatarAction__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_28__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_29__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_30__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_31__actions_CheckIntervalAction__=__webpack_require__(488),__WEBPACK_IMPORTED_MODULE_32__modules_integrator_communication_services_NameChangeService__=__webpack_require__(144);__webpack_require__.d(exports,"a",function(){return ChangeAvatarService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},blueimpLoadImage=__webpack_require__(848),ChangeAvatarService=function(_AbstractActions){function ChangeAvatarService(avatarService,communicationService,tagCommanderService,nameChangeService){_classCallCheck(this,ChangeAvatarService);var _this=_possibleConstructorReturn(this,(ChangeAvatarService.__proto__||Object.getPrototypeOf(ChangeAvatarService)).call(this));return _this.avatarService=avatarService,_this.communicationService=communicationService,_this.tagCommanderService=tagCommanderService,_this.nameChangeService=nameChangeService,_this}return _inherits(ChangeAvatarService,_AbstractActions),_createClass(ChangeAvatarService,[{key:"handleGoBack",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getStopEventPropagation(this.getState())){_context.next=2;break}return _context.abrupt("return");case 2:return _context.next=4,this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_21__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 4:this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowAvatarComponentAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_UploadAvatarAction__.a((!1)));case 11:case"end":return _context.stop()}},_callee,this)}))}},{key:"handleShowAvatarComponent",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var promises;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getShowAvatarComponent(this.getState())){_context2.next=4;break}return _context2.next=3,this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_21__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 3:return _context2.abrupt("return");case 4:return this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Open Change Avatar Panel","Overlay"),promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_24__actions_ToggleShowOverviewTabDetailsViewAction__.a((!0)))],__WEBPACK_IMPORTED_MODULE_22__stores_OtherGamesCarouselStore__.a.getShowGameContent(this.getState())&&promises.push(this.communicationService.hideOverviewDetailsGameContent()),__WEBPACK_IMPORTED_MODULE_23__stores_UserNameStore__.a.getShowChangeUserName(this.getState())&&(this.nameChangeService.goBackToValidateState(),promises.push(this.communicationService.hideOverviewDetailsUserNameContent())),promises.length&&Promise.all(promises),__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__.a.getFilteredAvatarsFromGallery(this.getState())?this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ToggleShowAvatarSelectorAction__.a((!1))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ToggleShowAvatarSelectorAction__.a((!0))),_context2.next=12,this.communicationService.toggleOpenDetailsViewState(!0,__WEBPACK_IMPORTED_MODULE_21__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 12:this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ToggleShowAvatarComponentAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a(__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__.a.getIsMyAvatarBaned(this.getState())||__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__.a.getIsPlayerBanned(this.getState())));case 14:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"loadAvatarsFromGallery",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,this.avatarService.loadAvatarsFromGallery();case 3:return _context3.abrupt("return",_context3.sent);case 6:return _context3.prev=6,_context3.t0=_context3["catch"](0),_context3.abrupt("return",Promise.resolve());case 9:case"end":return _context3.stop()}},_callee3,this,[[0,6]])}))}},{key:"onChangeGame",value:function(gameCode){this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Change Avatar Panel - Change Game - "+gameCode,"Overlay"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ChangeAvatarGameAction__.a(gameCode)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarInputValueAction__.a(null))}},{key:"onTypeGameName",value:function(value){var _this2=this,debounceFunction=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9_lodash__.debounce)(function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ChangeAvatarInputValueAction__.a(value))},100);debounceFunction()}},{key:"onSlectAvatar",value:function(avatarId){__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getStopEventPropagation(this.getState())||(this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowSelecteAvatarOverlayAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(avatarId)))}},{key:"onClickCancelSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Change Avatar Panel - Cancel Change Avatar","Overlay"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(null));case 3:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onClickSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_26__actions_AvatarGalleryFailedAction__.a((!1))),this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Change Avatar Panel - Save Gallery Avatar - "+__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getAvatarId(this.getState()),"Overlay"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),_context5.prev=3,_context5.next=6,this.avatarService.saveAvatarFromGallery(__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getAvatarId(this.getState()));case 6:return _context5.next=8,this.handleGoBack();case 8:_context5.next=15;break;case 10:return _context5.prev=10,_context5.t0=_context5["catch"](3),this.dispatch(new __WEBPACK_IMPORTED_MODULE_26__actions_AvatarGalleryFailedAction__.a((!0))),_context5.next=15,this.dispatch(new __WEBPACK_IMPORTED_MODULE_27__actions_LoadedAvatarAction__.a(_defineProperty({},__WEBPACK_IMPORTED_MODULE_28__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__.a.getMyAvatarData(this.getState()))));case 15:case"end":return _context5.stop()}},_callee5,this,[[3,10]])}))}},{key:"onDropAvatar",value:function(files){var _this3=this;if(files.length<=0)return this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_UploadImageAction__.a((!0),(!1),(!1),(!0),(!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__.a((!1))),void this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a((!0)));var file=files[0];if(file.preview=URL.createObjectURL(file),!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9_lodash__.includes)(["image/jpeg","image/png","image/jpg"],file.type))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_UploadImageAction__.a((!0),(!0),(!1),(!1),(!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__.a((!1))),void this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a((!0)));var image=new Image;image.onload=function(){image.width<__WEBPACK_IMPORTED_MODULE_8__entities_UploadFiles__.a||image.height<__WEBPACK_IMPORTED_MODULE_8__entities_UploadFiles__.a?(_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_UploadImageAction__.a((!0),(!1),(!0),(!1),(!1),null)),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__.a((!1))),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a((!0)))):blueimpLoadImage.parseMetaData(file,function(data){data.exif&&data.exif.get("Orientation")&&(file.preview=blueimpLoadImage.scale(image,{orientation:data.exif.get("Orientation")}).toDataURL()),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_UploadImageAction__.a((!1),(!1),(!1),(!1),(!1),file)),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__.a((!0))),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a((!1))),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(null))})},image.src=file.preview}},{key:"onLoadFailure",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_UploadImageAction__.a((!0),(!1),(!1),(!0),(!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a((!0)))}},{key:"onClickCancelUploadAvatarToService",value:function(){var filePreview=__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__.a.getAvatarImagePreview(this.getState());this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_UploadImageAction__.a((!1),(!1),(!1),(!1),(!1),null)),filePreview&&URL.revokeObjectURL(filePreview),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__.a((!1)))}},{key:"onClickUploadAvatarToService",value:function(avatarEditorRef){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var fileName,fileType,img,image,_this4=this;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_UploadAvatarAction__.a((!0))),fileName=__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__.a.getFileName(this.getState()),fileType=__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__.a.getFileType(this.getState()),img=avatarEditorRef.getImage().toDataURL(),image=new Image,_context6.next=7,new Promise(function(resolve){image.onload=function(){var canvas=document.createElement("canvas");canvas.width=500,canvas.height=500,canvas.getContext("2d").drawImage(image,0,0,500,500);var save=canvas.toDataURL(fileType);resolve(_this4.saveAvatarUpload(save,fileName))},image.src=img});case 7:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"saveAvatarUpload",value:function(dataURL,fileName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var fd,arr,mime,bstr,n,u8arr,blob;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:for(fd=new FormData,fd.append("metadata",'{"source":"custom","cropStartX":"0","cropStartY":"0"}'),arr=dataURL.split(","),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);n--;)u8arr[n]=bstr.charCodeAt(n);return blob=new Blob([u8arr],{type:mime}),fd.append("image",blob,fileName),this.tagCommanderService.trackEvent("Nav - Ubibar - User Panel - Change Avatar Panel - Save Upload Avatar","Overlay"),_context7.prev=7,_context7.next=10,this.avatarService.saveUploadedAvatar(fd);case 10:return _context7.next=12,this.handleGoBack();case 12:_context7.next=21;break;case 14:_context7.prev=14,_context7.t0=_context7["catch"](7),URL.revokeObjectURL(__WEBPACK_IMPORTED_MODULE_13__modules_avatars_queries_AvatarsQueries__.a.getAvatarImagePreview(this.getState())),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_UploadImageAction__.a((!0),(!1),(!1),(!1),(!0),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ToggleShowResizeAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_UploadAvatarAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a((!0)));case 21:case"end":return _context7.stop()}},_callee7,this,[[7,14]])}))}},{key:"handleClickCloseAvatarTooltip",value:function(showTooltip){__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getStopEventPropagation(this.getState())||this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleShowAvatarTooltipAction__.a((!showTooltip)))}},{key:"handleClickCloseRules",value:function(showRules){__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getStopEventPropagation(this.getState())||this.dispatch(new __WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowAvatarRulesAction__.a((!showRules)))}},{key:"onToggleStopEventPropagation",value:function(stopEventPropagation){this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_ToggleStopAvatarEventPropagationAction__.a(stopEventPropagation))}},{key:"onToggleShowAvatarSelector",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_ToggleShowAvatarSelectorAction__.a((!toggle)))}},{key:"onClickChangeTab",value:function(avatarTab){return avatarTab==__WEBPACK_IMPORTED_MODULE_20__entities_Avatar__.a.GALLERY_AVATAR_TAB?void this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ToggleAvatarTabsAction__.a((!0),(!1))):avatarTab==__WEBPACK_IMPORTED_MODULE_20__entities_Avatar__.a.UPLOAD_AVATAR_TAB?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ToggleAvatarTabsAction__.a((!1),(!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ToggleShowSelecteAvatarOverlayAction__.a((!1))),void this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_ChangeAvatarSelectedAction__.a(null))):void this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ToggleAvatarTabsAction__.a((!0),(!1)))}},{key:"checkInterval",value:function(changeTooltipState){if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_31__actions_CheckIntervalAction__.a),__WEBPACK_IMPORTED_MODULE_30__modules_configuration_queries_ConfigurationQueries__.a.getAreAvatarsInMaintenance(this.getState())&&__WEBPACK_IMPORTED_MODULE_7__stores_ChangeAvatarStore__.a.getShowAvatarComponent(this.getState())&&(this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_21__entities_OverviewTabDetails__.a.OVERVIEW_VIEW),changeTooltipState)){changeTooltipState({showTooltip:!0});var setTimeoutId=setTimeout(function(){changeTooltipState({showTooltip:!1}),clearTimeout(setTimeoutId)},5e3)}}}]),ChangeAvatarService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ChangeAvatarService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__AvatarService__.a,__WEBPACK_IMPORTED_MODULE_17__modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_29__modules_tagCommander_services_TagCommanderService__.a,__WEBPACK_IMPORTED_MODULE_32__modules_integrator_communication_services_NameChangeService__.a])],ChangeAvatarService)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedFriendsPlayingGame__=__webpack_require__(171),__WEBPACK_IMPORTED_MODULE_5__actions_LoadedGamesAction__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_6__stores_GamesStore__=__webpack_require__(39);__webpack_require__.d(exports,"a",function(){return FriendsAggregationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsAggregationService=function(_AbstractActions){function FriendsAggregationService(friendsAggregationApi){_classCallCheck(this,FriendsAggregationService);var _this=_possibleConstructorReturn(this,(FriendsAggregationService.__proto__||Object.getPrototypeOf(FriendsAggregationService)).call(this));return _this.friendsAggregationApi=friendsAggregationApi,_this}return _inherits(FriendsAggregationService,_AbstractActions),_createClass(FriendsAggregationService,[{key:"loadFriendsPlayingGame",value:function(installmentId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var platformsByIds,platformsIds,gamesPlatforms,platformsByUserId,lastSessionDates,friendsPlayingGame;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,platformsByIds={},platformsIds=[],gamesPlatforms={},platformsByUserId={},lastSessionDates={},_context.next=8,this.friendsAggregationApi.getFriendsPlayingGame(__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),installmentId);case 8:friendsPlayingGame=_context.sent,friendsPlayingGame.friends.forEach(function(friend){platformsByIds[friend.game.spaceId]={code:friend.game.platform,spaceId:friend.game.spaceId},platformsIds.push(friend.game.spaceId),gamesPlatforms[friend.game.installmentSpaceId]?gamesPlatforms[friend.game.installmentSpaceId].push(friend.game.spaceId):gamesPlatforms[friend.game.installmentSpaceId]=[friend.game.spaceId],platformsByUserId[friend.userId]?gamesPlatforms[friend.userId].push(friend.game.spaceId):gamesPlatforms[friend.userId]=[friend.game.spaceId],lastSessionDates[friend.userId]=_defineProperty({},friend.game.spaceId,friend.game.lastSessionDate)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedGamesAction__.a(__WEBPACK_IMPORTED_MODULE_6__stores_GamesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_GamesStore__.a.getIds(this.getState()),platformsByIds,platformsIds,gamesPlatforms,platformsByUserId,lastSessionDates,__WEBPACK_IMPORTED_MODULE_6__stores_GamesStore__.a.getByPlatformId(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_GamesStore__.a.getByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_GamesStore__.a.getExpiration(this.getState()))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedFriendsPlayingGame__.a(_defineProperty({},installmentId,friendsPlayingGame))),_context.next=18;break;case 14:_context.prev=14,_context.t0=_context["catch"](0),console.error(_context.t0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedFriendsPlayingGame__.a(_defineProperty({},installmentId,null)));case 18:case"end":return _context.stop()}},_callee,this,[[0,14]])}))}}]),FriendsAggregationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsAggregationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FriendsAggregationApi])],FriendsAggregationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeCarouselSlideAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(473)),__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_4__queries_OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_5__RewardsService__=__webpack_require__(554),__WEBPACK_IMPORTED_MODULE_6__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_7__GamesService__=__webpack_require__(182),__WEBPACK_IMPORTED_MODULE_8__actions_LoadingRewardsAction__=__webpack_require__(244),__WEBPACK_IMPORTED_MODULE_9__actions_LoadingGameStatsAction__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_10__actions_ChangeLPGPlatformAction__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_11__actions_ChangeCarouselLPGAction__=__webpack_require__(223),__WEBPACK_IMPORTED_MODULE_12__StatsComparisonService__=__webpack_require__(278),__WEBPACK_IMPORTED_MODULE_13__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_14__stores_ChangeAvatarStore__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_15__stores_UserNameStore__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_16__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_17__CarouselService__=__webpack_require__(272),__WEBPACK_IMPORTED_MODULE_18__queries_FriendsOwnedGamesQueries__=__webpack_require__(146),__WEBPACK_IMPORTED_MODULE_19__actions_ToggleShowFriendsSelectorTooltipWarningAction__=__webpack_require__(251),__WEBPACK_IMPORTED_MODULE_20__modules_integrator_communication_services_NameChangeService__=__webpack_require__(144);
__webpack_require__.d(exports,"a",function(){return OtherGamesCarouselService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},OtherGamesCarouselService=function(_AbstractActions){function OtherGamesCarouselService(rewardsService,communicationService,gamesService,statsComparisonService,carouselService,nameChangeService){_classCallCheck(this,OtherGamesCarouselService);var _this=_possibleConstructorReturn(this,(OtherGamesCarouselService.__proto__||Object.getPrototypeOf(OtherGamesCarouselService)).call(this));return _this.rewardsService=rewardsService,_this.communicationService=communicationService,_this.gamesService=gamesService,_this.statsComparisonService=statsComparisonService,_this.carouselService=carouselService,_this.nameChangeService=nameChangeService,_this}return _inherits(OtherGamesCarouselService,_AbstractActions),_createClass(OtherGamesCarouselService,[{key:"onClickLeftCarouselArrow",value:function(carouselRef){this.carouselService.onClickLeftCarouselArrow(carouselRef,__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentDot(this.getState()),__WEBPACK_IMPORTED_MODULE_4__queries_OtherGamesCarouselQueries__.a.getNbOfOtherGamesPlayedDots(this.getState()),__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeCarouselSlideAction__.a)}},{key:"onClickRightCarouselArrow",value:function(carouselRef){this.carouselService.onClickRightCarouselArrow(carouselRef,__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentDot(this.getState()),__WEBPACK_IMPORTED_MODULE_4__queries_OtherGamesCarouselQueries__.a.getNbOfOtherGamesPlayedDots(this.getState()),__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeCarouselSlideAction__.a)}},{key:"onClickCarouselDot",value:function(selectedDot,carouselRef){this.carouselService.onClickCarouselDot(carouselRef,selectedDot,__WEBPACK_IMPORTED_MODULE_4__queries_OtherGamesCarouselQueries__.a.getNbOfOtherGamesPlayedDots(this.getState()),__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeCarouselSlideAction__.a)}},{key:"onClickGoToFirstSlide",value:function(){this.carouselService.onClickGoToFirstSlide(__WEBPACK_IMPORTED_MODULE_2__actions_ChangeCarouselSlideAction__.a)}},{key:"onClickGame",value:function(offset,id,spaceId,platformCode){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promises,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId(this.getState())||__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId(this.getState())!=id||!__WEBPACK_IMPORTED_MODULE_3__stores_OtherGamesCarouselStore__.a.getShowGameContent(this.getState())){_context.next=4;break}return _context.next=3,this.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_13__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 3:return _context.abrupt("return");case 4:return promises=[this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_ToggleShowOverviewTabDetailsViewAction__.a((!0))),this.statsComparisonService.resetComponent(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8__actions_LoadingRewardsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_9__actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ChangeLPGPlatformAction__.a(id,spaceId)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeCarouselLPGAction__.a(offset,id,spaceId,platformCode))],__WEBPACK_IMPORTED_MODULE_14__stores_ChangeAvatarStore__.a.getShowAvatarComponent(this.getState())&&promises.push(this.communicationService.hideOverviewDetailsAvatarContent()),__WEBPACK_IMPORTED_MODULE_15__stores_UserNameStore__.a.getShowChangeUserName(this.getState())&&(this.nameChangeService.goBackToValidateState(),promises.push(this.communicationService.hideOverviewDetailsUserNameContent())),Promise.all(promises),_context.next=10,this.communicationService.toggleOpenDetailsViewState(!0,__WEBPACK_IMPORTED_MODULE_13__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 10:return _context.next=12,Promise.all([this.communicationService.loadFriendsPalyingGame().then(function(){return _this2.gamesService.loadMyLastPlayedGameStatsWithFriends(spaceId)})["catch"](function(){return _this2.gamesService.loadMyLastPlayedGameStatsWithFriends(spaceId)}),this.rewardsService.loadUserRewards(spaceId)]);case 12:__WEBPACK_IMPORTED_MODULE_18__queries_FriendsOwnedGamesQueries__.a.getNbOfFriendsPlaying(this.getState())<=0?this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ToggleShowFriendsSelectorTooltipWarningAction__.a((!1)));case 13:case"end":return _context.stop()}},_callee,this)}))}}]),OtherGamesCarouselService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);OtherGamesCarouselService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_5__RewardsService__.a,__WEBPACK_IMPORTED_MODULE_6__modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_7__GamesService__.a,__WEBPACK_IMPORTED_MODULE_12__StatsComparisonService__.a,__WEBPACK_IMPORTED_MODULE_17__CarouselService__.a,__WEBPACK_IMPORTED_MODULE_20__modules_integrator_communication_services_NameChangeService__.a])],OtherGamesCarouselService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(76)),__WEBPACK_IMPORTED_MODULE_3__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_4_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_5__queries_RecentlyMetQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ubisoft_api__),__webpack_require__(267)),__WEBPACK_IMPORTED_MODULE_6__actions_LoadedRecentlyMetAction__=__webpack_require__(240),__WEBPACK_IMPORTED_MODULE_7__stores_ChangeSlideStore__=__webpack_require__(281),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeSlideAction__=__webpack_require__(482),__WEBPACK_IMPORTED_MODULE_9__CarouselService__=__webpack_require__(272);__webpack_require__.d(exports,"a",function(){return RecentlyMetService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},RecentlyMetService=function(_AbstractActions){function RecentlyMetService(profilesService,recentlyMetApi,carouselService){_classCallCheck(this,RecentlyMetService);var _this=_possibleConstructorReturn(this,(RecentlyMetService.__proto__||Object.getPrototypeOf(RecentlyMetService)).call(this));return _this.profilesService=profilesService,_this.recentlyMetApi=recentlyMetApi,_this.carouselService=carouselService,_this}return _inherits(RecentlyMetService,_AbstractActions),_createClass(RecentlyMetService,[{key:"loadRecentlyMet",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var recentlyMetProfilePromises,profileIds,entities,recentlyMetProfileIds,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return recentlyMetProfilePromises=[],profileIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__selectors__.q)(this.getState()),profileIds.forEach(function(profileId){return recentlyMetProfilePromises.push(_this2.recentlyMetApi.getRecentlyMetByProfileId(profileId))}),_context.next=5,Promise.all(recentlyMetProfilePromises);case 5:if(entities=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_6__actions_LoadedRecentlyMetAction__.a(entities)),recentlyMetProfileIds=__WEBPACK_IMPORTED_MODULE_5__queries_RecentlyMetQueries__.a.getRecentlyMetProfileIdsInTheLast2Weeks(this.getState()),!(recentlyMetProfileIds.length>0)){_context.next=12;break}return _context.next=11,this.profilesService.loadFriendsProfilesByIds(recentlyMetProfileIds);case 11:return _context.abrupt("return",entities);case 12:return _context.abrupt("return",entities);case 13:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickLeftCarouselArrow",value:function(carouselRef){this.carouselService.onClickLeftCarouselArrow(carouselRef,__WEBPACK_IMPORTED_MODULE_7__stores_ChangeSlideStore__.a.getCurrentDot(this.getState()),__WEBPACK_IMPORTED_MODULE_5__queries_RecentlyMetQueries__.a.getNbCarouselDots(this.getState()),__WEBPACK_IMPORTED_MODULE_7__stores_ChangeSlideStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeSlideAction__.a)}},{key:"onClickRightCarouselArrow",value:function(carouselRef){this.carouselService.onClickRightCarouselArrow(carouselRef,__WEBPACK_IMPORTED_MODULE_7__stores_ChangeSlideStore__.a.getCurrentDot(this.getState()),__WEBPACK_IMPORTED_MODULE_5__queries_RecentlyMetQueries__.a.getNbCarouselDots(this.getState()),__WEBPACK_IMPORTED_MODULE_7__stores_ChangeSlideStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeSlideAction__.a)}},{key:"onClickCarouselDot",value:function(selectedDot,carouselRef){this.carouselService.onClickCarouselDot(carouselRef,selectedDot,__WEBPACK_IMPORTED_MODULE_5__queries_RecentlyMetQueries__.a.getNbCarouselDots(this.getState()),__WEBPACK_IMPORTED_MODULE_7__stores_ChangeSlideStore__.a.getCarouselDotTranslateX(this.getState()),__WEBPACK_IMPORTED_MODULE_8__actions_ChangeSlideAction__.a)}},{key:"onClickGoToFirstSlide",value:function(carouselRef){this.carouselService.onClickGoToFirstSlide(__WEBPACK_IMPORTED_MODULE_8__actions_ChangeSlideAction__.a)}}]),RecentlyMetService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);RecentlyMetService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2__ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_4_ubisoft_api__.RecentlyMetApi,__WEBPACK_IMPORTED_MODULE_9__CarouselService__.a])],RecentlyMetService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(241)),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_5__queries_OtherGamesCarouselQueries__=__webpack_require__(47);__webpack_require__.d(exports,"a",function(){return RewardsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},RewardsService=function(_AbstractActions){function RewardsService(rewardsApi){_classCallCheck(this,RewardsService);var _this=_possibleConstructorReturn(this,(RewardsService.__proto__||Object.getPrototypeOf(RewardsService)).call(this));return _this.rewardsApi=rewardsApi,_this}return _inherits(RewardsService,_AbstractActions),_createClass(RewardsService,[{key:"loadUserRewards",value:function(gameSpaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var userId,spaceId,mappedRewards,rewardsIds,rewardsPromises,rewards,profileRewards;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(userId=__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),spaceId=__WEBPACK_IMPORTED_MODULE_5__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedGameSpaceId(this.getState()),gameSpaceId&&(spaceId=gameSpaceId),mappedRewards=[],rewardsIds=[],spaceId){_context.next=8;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__.a(mappedRewards,rewardsIds)),_context.abrupt("return");case 8:return _context.prev=8,_context.next=11,Promise.all([this.rewardsApi.getRewards(spaceId),this.rewardsApi.getProfileRewards(userId,spaceId)]);case 11:rewardsPromises=_context.sent,rewards=rewardsPromises[0],profileRewards=rewardsPromises[1]||[],mappedRewards=rewards.filter(function(reward){return reward.spaceId===spaceId}).map(function(reward){rewardsIds.push(reward.id);var foundProfileReward=profileRewards.find(function(profileReward){return profileReward.profileId===userId&&profileReward.spaceId===spaceId&&profileReward.id===reward.id});return foundProfileReward?Object.assign({},reward,foundProfileReward):Object.assign({},reward,{condition:reward.condition?reward.condition.replace(/\u00a0/g," "):reward.condition,profileId:userId,units:reward.value,purchased:!1,purchasedDate:null,quantityPurchased:null,requirementsAccomplished:(null==reward.requiredActions||reward.requiredActions.accomplished)&&(null==reward.requiredSpaces||reward.requiredSpaces.accomplished)})}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__.a(mappedRewards,rewardsIds)),_context.next=22;break;case 18:_context.prev=18,_context.t0=_context["catch"](8),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__.a(mappedRewards,rewardsIds)),console.error(_context.t0);case 22:case"end":return _context.stop()}},_callee,this,[[8,18]])}))}}]),RewardsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);RewardsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.RewardsApi])],RewardsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeFilterFriendsByNameAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(474));__webpack_require__.d(exports,"a",function(){return FilterFriendStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FilterFriendStore=function(_ReducerStore){function FilterFriendStore(){_classCallCheck(this,FilterFriendStore);var _this=_possibleConstructorReturn(this,(FilterFriendStore.__proto__||Object.getPrototypeOf(FilterFriendStore)).call(this));return _this.bind(null,function(){return{userNameToFilterBy:""}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeFilterFriendsByNameAction__.a.name,_this.handleChangeFriendSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(FilterFriendStore,_ReducerStore),_createClass(FilterFriendStore,[{key:"handleLoggedOutAction",value:function(state,action){return{userNameToFilterBy:""}}},{key:"handleChangeFriendSateAction",value:function(state,action){return __assign({},state,{userNameToFilterBy:action.userNameToFilterBy})}}]),FilterFriendStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);FilterFriendStore.getState=function(state){return state.FilterFriendStore},FilterFriendStore.getUserNameToFilterBy=function(state){return state.FilterFriendStore.userNameToFilterBy},FilterFriendStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],FilterFriendStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedIpLocationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(499));__webpack_require__.d(exports,"a",function(){return IpLocationStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},IpLocationStore=function(_ReducerStore){function IpLocationStore(){_classCallCheck(this,IpLocationStore);var _this=_possibleConstructorReturn(this,(IpLocationStore.__proto__||Object.getPrototypeOf(IpLocationStore)).call(this));return _this.bind(null,function(){return{byIp:null,byProfileId:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedIpLocationAction__.a.name,_this.handleLoadedIpLocationAction),_this}return _inherits(IpLocationStore,_ReducerStore),_createClass(IpLocationStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byIp:null,byProfileId:null}}},{key:"handleLoadedIpLocationAction",value:function(state,action){return __assign({},state,{byIp:__assign({},state.byIp,action.byIp),byProfileId:__assign({},state.byProfileId,action.byProfileId)})}}]),IpLocationStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);IpLocationStore.getState=function(state){return state.IpLocationStore},IpLocationStore.getByIp=function(state){return state.IpLocationStore.byIp},IpLocationStore.getByProfileId=function(state){return state.IpLocationStore.byProfileId},IpLocationStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],IpLocationStore)},function(module,exports,__webpack_require__){"use strict";function getMountPoint(){return MOUNT_POINT}function overlayReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultState,action=arguments[1];switch(action.type){case __WEBPACK_IMPORTED_MODULE_0__actions_OverlayOpenAction__.a.name:return handleOverlayOpenEvent(state,action);case __WEBPACK_IMPORTED_MODULE_1__actions_OverlayCloseAction__.a.name:return handleOverlayCloseEvent(state,action)}return state}function handleOverlayOpenEvent(state,payload){return __assign({},state,{isActive:!0})}function handleOverlayCloseEvent(state,payload){return __assign({},state,{isActive:!1})}var __WEBPACK_IMPORTED_MODULE_0__actions_OverlayOpenAction__=__webpack_require__(508),__WEBPACK_IMPORTED_MODULE_1__actions_OverlayCloseAction__=__webpack_require__(507);exports.a=getMountPoint,exports.b=overlayReducer;var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},defaultState={isActive:!1},MOUNT_POINT="OverlayStore"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),
__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_UserEmailVerificationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(260));__webpack_require__.d(exports,"a",function(){return UserEmailVerificationStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserEmailVerificationStore=function(_ReducerStore){function UserEmailVerificationStore(){_classCallCheck(this,UserEmailVerificationStore);var _this=_possibleConstructorReturn(this,(UserEmailVerificationStore.__proto__||Object.getPrototypeOf(UserEmailVerificationStore)).call(this));return _this.bind(null,function(){return{showUserEmailVerificationButton:!1,isEmailVerificationSent:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_UserEmailVerificationAction__.a.name,_this.handleUserEmailVerificationAction),_this}return _inherits(UserEmailVerificationStore,_ReducerStore),_createClass(UserEmailVerificationStore,[{key:"handleLoggedOutAction",value:function(state,action){return{showUserEmailVerificationButton:!1,isEmailVerificationSent:!1}}},{key:"handleUserEmailVerificationAction",value:function(state,action){return Object.assign({},state,{showUserEmailVerificationButton:action.showUserEmailVerificationButton,isEmailVerificationSent:action.isEmailVerificationSent})}}]),UserEmailVerificationStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);UserEmailVerificationStore.getState=function(state){return state.UserEmailVerificationStore},UserEmailVerificationStore.getShowUserEmailVerificationButton=function(state){return state.UserEmailVerificationStore.showUserEmailVerificationButton},UserEmailVerificationStore.getIsEmailVerificationSent=function(state){return state.UserEmailVerificationStore.isEmailVerificationSent},UserEmailVerificationStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],UserEmailVerificationStore)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__stejar_application__=__webpack_require__(828),__WEBPACK_IMPORTED_MODULE_1__stejar_cache__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_application__),__webpack_require__(588)),__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_cache__),__webpack_require__(121)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4_app_providers_HttpProvider__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(762)),__WEBPACK_IMPORTED_MODULE_5_app_providers_CacheProvider__=__webpack_require__(759),__WEBPACK_IMPORTED_MODULE_6_app_providers_StoreProvider__=__webpack_require__(763),__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_providers_ConfigurationProvider__=__webpack_require__(749),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_providers_AuthenticationProvider__=__webpack_require__(745),__WEBPACK_IMPORTED_MODULE_9_app_modules_locale_providers_TranslatorProvider__=__webpack_require__(755),__WEBPACK_IMPORTED_MODULE_10_app_components_Application_ApplicationController__=__webpack_require__(720),__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_BootstrapCommunicationService__=__webpack_require__(750),__WEBPACK_IMPORTED_MODULE_13_app_providers_UbisoftApiProvider__=__webpack_require__(765),__WEBPACK_IMPORTED_MODULE_14_app_providers_TagCommanderProvider__=__webpack_require__(764),__WEBPACK_IMPORTED_MODULE_15_app_factories_401Factory__=__webpack_require__(741),__WEBPACK_IMPORTED_MODULE_16_app_providers_ApiConfigProvider__=__webpack_require__(758),__WEBPACK_IMPORTED_MODULE_17_app_providers_ConnectConfigProvider__=__webpack_require__(760),__WEBPACK_IMPORTED_MODULE_18__providers_WidgetChannelProvider__=__webpack_require__(766),__WEBPACK_IMPORTED_MODULE_19__providers_GeneralChannelProvider__=__webpack_require__(761),__WEBPACK_IMPORTED_MODULE_20__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_21__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),application=(new __WEBPACK_IMPORTED_MODULE_0__stejar_application__.BrowserApplication).provider(__WEBPACK_IMPORTED_MODULE_4_app_providers_HttpProvider__.a,__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_providers_ConfigurationProvider__.a,__WEBPACK_IMPORTED_MODULE_5_app_providers_CacheProvider__.a,__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_providers_AuthenticationProvider__.a,__WEBPACK_IMPORTED_MODULE_9_app_modules_locale_providers_TranslatorProvider__.a,__WEBPACK_IMPORTED_MODULE_6_app_providers_StoreProvider__.a,__WEBPACK_IMPORTED_MODULE_13_app_providers_UbisoftApiProvider__.a,__WEBPACK_IMPORTED_MODULE_14_app_providers_TagCommanderProvider__.a,__WEBPACK_IMPORTED_MODULE_16_app_providers_ApiConfigProvider__.a,__WEBPACK_IMPORTED_MODULE_17_app_providers_ConnectConfigProvider__.a,__WEBPACK_IMPORTED_MODULE_18__providers_WidgetChannelProvider__.a,__WEBPACK_IMPORTED_MODULE_19__providers_GeneralChannelProvider__.a).factory(__WEBPACK_IMPORTED_MODULE_15_app_factories_401Factory__.a).bindToMethod("setStore",__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Store).bindToMethod("setCacheService",__WEBPACK_IMPORTED_MODULE_1__stejar_cache__.CacheService);application.get(__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_CommunicationService__.a).startCommunication().then(function(){return application.get(__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_BootstrapCommunicationService__.a).startCommunication()}).then(function(){return application.get(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__.ConfigurationService).loadConfiguration()}).then(function(){var tagCommander=application.get(__WEBPACK_IMPORTED_MODULE_20__modules_tagCommander_services_TagCommanderService__.a);return __WEBPACK_IMPORTED_MODULE_21__modules_configuration_queries_ConfigurationQueries__.a.getEnableDebug(application.get(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Store).getState())&&tagCommander.enableDebug(),tagCommander.boot()}).then(function(){return application.render(__WEBPACK_IMPORTED_MODULE_10_app_components_Application_ApplicationController__.a,document.getElementById("root")||void 0)})["catch"](function(error){return console.error(error)})},,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return IsReloadFailedPsnAction});var IsReloadFailedPsnAction=function IsReloadFailedPsnAction(error){_classCallCheck(this,IsReloadFailedPsnAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return IsReloadFailedXboxAction});var IsReloadFailedXboxAction=function IsReloadFailedXboxAction(error){_classCallCheck(this,IsReloadFailedXboxAction),this.error=error}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleVisitedNotificationsAction});var ToggleVisitedNotificationsAction=function ToggleVisitedNotificationsAction(visited){_classCallCheck(this,ToggleVisitedNotificationsAction),this.visited=visited}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_4_app_components_Bootstrap_BootstrapController__=__webpack_require__(721);__webpack_require__.d(exports,"a",function(){return ApplicationController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ApplicationController=function(_PureComponent){function ApplicationController(){return _classCallCheck(this,ApplicationController),_possibleConstructorReturn(this,(ApplicationController.__proto__||Object.getPrototypeOf(ApplicationController)).apply(this,arguments))}return _inherits(ApplicationController,_PureComponent),_createClass(ApplicationController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__.ServiceProvider,{serviceManager:this.props.serviceManager},React.createElement(__WEBPACK_IMPORTED_MODULE_3_react_redux__.Provider,{store:this.props.serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store)},React.createElement("div",null,React.createElement(__WEBPACK_IMPORTED_MODULE_4_app_components_Bootstrap_BootstrapController__.a,null))))}}]),ApplicationController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_5_app_services_BootstrapService__=__webpack_require__(271),__WEBPACK_IMPORTED_MODULE_6_app_components_Layout_LayoutController__=__webpack_require__(734),__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_components_PageLoader_PageLoaderController__=__webpack_require__(756),__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_9_lodash__=__webpack_require__(27),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_lodash__),__webpack_require__(28)),__WEBPACK_IMPORTED_MODULE_11__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_12__messages__=__webpack_require__(29);__webpack_require__.d(exports,"a",function(){return BootstrapController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},BootstrapController=function(_PureComponent){function BootstrapController(){_classCallCheck(this,BootstrapController);var _this=_possibleConstructorReturn(this,(BootstrapController.__proto__||Object.getPrototypeOf(BootstrapController)).apply(this,arguments));return _this.resizeDebounce=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9_lodash__.debounce)(_this.onResize.bind(_this),50,!1),_this.messageListener=function(event){event.origin===window.self.location.origin&&"PRIVACY_POLICY_ACCEPTED"===event.data&&(_this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_12__messages__.d.ANY),_this.props.communicationService.resetTrackingBannerHeight())},_this}return _inherits(BootstrapController,_PureComponent),_createClass(BootstrapController,[{key:"render",value:function(){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"widget-in-mobile-view":this.props.isInMobileView,"dark-background":this.props.hasDarkBackground,"arab-language":this.props.isOnArabLocale,"desktop-resize":this.props.isInDesktopResize&&!this.props.isInMobileView,"show-mobile-view-on-desktop":this.props.showMobileViewOnDesktop})},React.createElement(__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_components_PageLoader_PageLoaderController__.a,null),this.props.booted?React.createElement(__WEBPACK_IMPORTED_MODULE_6_app_components_Layout_LayoutController__.a,null):null)}},{key:"componentDidMount",value:function(){return this.props.bootstrapService.bootstrap(!1),window.addEventListener("resize",this.resizeDebounce),window.addEventListener("message",this.messageListener),this.onResize(),null}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeDebounce),window.removeEventListener("message",this.messageListener)}},{key:"onResize",value:function(){var width=document.querySelector("html").offsetWidth;if(0==width)return null;if(this.props.isInMobileView&&this.props.showMobileTabs){var coefSize=width/320;document.querySelector("html").style.fontSize=10*coefSize+"px"}else document.querySelector("html").style.fontSize=null}}]),BootstrapController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);BootstrapController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({bootstrapService:__WEBPACK_IMPORTED_MODULE_5_app_services_BootstrapService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_11__modules_integrator_communication_services_CommunicationService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({booted:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getBooted,isInMobileView:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getIsInMobileView,showMobileTabs:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getShowMobileTabs,isOnArabLocale:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getIsOnArabLocale,hasDarkBackground:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasDarkBackground,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getShowMobileViewOnDesktop})),__metadata("design:paramtypes",[])],BootstrapController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_spark_overlay__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(38)),__WEBPACK_IMPORTED_MODULE_3__services_ChangeAvatarService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_spark_overlay__),__webpack_require__(550)),__WEBPACK_IMPORTED_MODULE_4_react_redux__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_5__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__stejar_redux__),__webpack_require__(83)),__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__=__webpack_require__(263),__WEBPACK_IMPORTED_MODULE_8__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__stejar_translate__),__webpack_require__(183)),__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_11__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_12__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_13__services_AvatarService__=__webpack_require__(269);__webpack_require__.d(exports,"a",function(){return ChangeAvatarController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ChangeAvatarController=function(_PureComponent){function ChangeAvatarController(){_classCallCheck(this,ChangeAvatarController);var _this=_possibleConstructorReturn(this,(ChangeAvatarController.__proto__||Object.getPrototypeOf(ChangeAvatarController)).apply(this,arguments));return _this.state={uploadScale:1},_this.dropZoneRef=null,_this.avatarEditorRef=null,_this}return _inherits(ChangeAvatarController,_PureComponent),_createClass(ChangeAvatarController,[{key:"setDropZoneRef",value:function(view){this.dropZoneRef=view}},{key:"setAvatarEditorRef",value:function(view){this.avatarEditorRef=view}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_2_spark_overlay__.ChangeAvatarView,{showAvatarComponent:this.props.showAvatarComponent,locale:this.props.locale,showTooltip:this.props.showTooltip,hasUploadError:this.props.hasUploadError,hasFileTypeError:this.props.hasFileTypeError,hasImageSizeError:this.props.hasImageSizeError,hasImageError:this.props.hasImageError,hasServiceError:this.props.hasServiceError,isMyAvatarBaned:this.props.isMyAvatarBaned,isPlayerBanned:this.props.isPlayerBanned,onClickGoBack:this.onClickGoBack,onClickCloseAvatarTooltip:this.onClickCloseAvatarTooltip,avatarsForSelect:this.props.avatarsFromGallery,selectedGameCode:this.props.selectedGameCode,selectedGameName:this.props.selectedGameName,onChangeGame:this.onChangeGame,onTypeGameName:this.onTypeGameName,loadedAvatars:this.props.loadedAvatars,avatarsFromGalleryByGameCode:this.props.avatarsFromGalleryByGameCode,onClickAvatar:this.onClickAvatar,selectedAvatarId:this.props.selectedAvatarId,onClickCancelSaveAvatar:this.onClickCancelSaveAvatar,onClickSaveAvatar:this.onClickSaveAvatar,loadedAvatar:this.props.loadedAvatar,dropZoneRef:this.setDropZoneRef,onDropAvatar:this.onDropAvatar,onClickUploadFile:this.onClickUploadFile,showResizeAvatar:this.props.showResizeAvatar,avatarEditorRef:this.setAvatarEditorRef,avatarImagePreview:this.props.avatarImagePreview,uploadScale:this.state.uploadScale,onLoadFailure:this.onLoadFailure,onLoadSuccess:this.onLoadSuccess,onImageReady:this.onImageReady,onImageChange:this.onImageChange,onChangeUploadScale:this.onChangeUploadScale,remCoefSize:this.props.remCoefSize,uploadingAvatarToService:this.props.uploadingAvatarToService,onClickCancelUploadAvatarToService:this.onClickCancelUploadAvatarToService,onClickUploadAvatarToService:this.onClickUploadAvatarToService,onScaleDownAvatar:this.onScaleDownAvatar,onScaleUpAvatar:this.onScaleUpAvatar,showSelectedAvatarOverlay:this.props.showSelectedAvatarOverlay,onToggleStopEventPropagation:this.onToggleStopEventPropagation,isInMobileView:this.props.isInMobileView,showGameSelectorTooltip:this.props.showGameSelectorTooltip,onClickCloseGameSelectorTooltip:this.onClickCloseGameSelectorTooltip,showChooseFromGalleryTab:this.props.showChooseFromGalleryTab,showUploadAnAvatarTab:this.props.showUploadAnAvatarTab,onClickChangeTab:this.onClickChangeTab,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showRules:this.props.showRules,onClickCloseRules:this.onClickCloseRules,hasGalleryServiceError:this.props.hasGalleryServiceError})}},{key:"componentDidMount",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this.props.showAvatarComponent){_context.next=7;break}return _context.next=3,this.props.avatarService.getMyAvatar();case 3:return _context.next=5,this.props.changeAvatarService.loadAvatarsFromGallery();case 5:return _context.next=7,this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_11__messages__.d.PLAYER_CARD);case 7:case"end":return _context.stop()}},_callee,this)}))}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.props.showAvatarComponent&&prevProps.showResizeAvatar!==this.props.showResizeAvatar&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_11__messages__.d.PLAYER_CARD),!this.props.showAvatarComponent||prevProps.showAvatarComponent===this.props.showAvatarComponent){_context2.next=5;break}return _context2.next=4,this.props.changeAvatarService.loadAvatarsFromGallery();case 4:this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_11__messages__.d.PLAYER_CARD);case 5:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"componentWillUnmount",value:function(){this.props.avatarImagePreview&&URL.revokeObjectURL(this.props.avatarImagePreview)}},{key:"onClickGoBack",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.props.changeAvatarService.handleGoBack();case 2:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"onClickCloseAvatarTooltip",value:function(showTooltip){this.props.changeAvatarService.handleClickCloseAvatarTooltip(showTooltip)}},{key:"onClickCloseRules",value:function(showRules){this.props.changeAvatarService.handleClickCloseRules(showRules)}},{key:"onChangeGame",value:function(gameCode){this.props.changeAvatarService.onChangeGame(gameCode)}},{key:"onTypeGameName",value:function(event){this.props.changeAvatarService.onTypeGameName(event.target.value)}},{key:"onClickAvatar",value:function(avatarId){this.props.changeAvatarService.onSlectAvatar(avatarId)}},{key:"onClickCancelSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.props.changeAvatarService.onClickCancelSaveAvatar();case 2:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onClickSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.props.changeAvatarService.onClickSaveAvatar();case 2:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"onDropAvatar",value:function(files){this.props.changeAvatarService.onDropAvatar(files)}},{key:"onClickUploadFile",value:function(){this.props.isPlayerBanned||this.props.stopEventPropagation||this.dropZoneRef.open()}},{key:"onLoadFailure",value:function(props){this.props.changeAvatarService.onLoadFailure()}},{key:"onLoadSuccess",value:function(props){}},{key:"onImageReady",value:function(props){}},{key:"onImageChange",value:function(props){}},{key:"onChangeUploadScale",value:function(scale){this.setState({uploadScale:scale})}},{key:"onClickCancelUploadAvatarToService",value:function(){this.props.changeAvatarService.onClickCancelUploadAvatarToService()}},{key:"onClickUploadAvatarToService",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.props.changeAvatarService.onClickUploadAvatarToService(this.avatarEditorRef);case 2:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"onScaleDownAvatar",value:function(){var newScale=this.state.uploadScale;newScale-.1>=1&&(newScale=Math.round(10*(newScale-.1))/10,this.setState({uploadScale:newScale}))}},{key:"onScaleUpAvatar",value:function(){var newScale=this.state.uploadScale;newScale+.1<=2&&(newScale=Math.round(10*(newScale+.1))/10,this.setState({uploadScale:newScale}))}},{key:"onToggleStopEventPropagation",value:function(stopEventPropagation){this.props.changeAvatarService.onToggleStopEventPropagation(stopEventPropagation);
}},{key:"onClickCloseGameSelectorTooltip",value:function(){this.props.changeAvatarService.onToggleShowAvatarSelector(this.props.showGameSelectorTooltip)}},{key:"onClickChangeTab",value:function(avatarTab){this.props.changeAvatarService.onClickChangeTab(avatarTab)}}]),ChangeAvatarController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);ChangeAvatarController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({changeAvatarService:__WEBPACK_IMPORTED_MODULE_3__services_ChangeAvatarService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_12__modules_integrator_communication_services_CommunicationService__.a,avatarService:__WEBPACK_IMPORTED_MODULE_13__services_AvatarService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector.fromState({avatarsFromGallery:[],avatarsFromGalleryByGameCode:[],showAvatarComponent:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowAvatarComponent,locale:__WEBPACK_IMPORTED_MODULE_8__stejar_translate__.LocaleQueries.getCurrentLocale,loadedAvatars:__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__.a.getLoadedGalleryAvatars,loadedAvatar:__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__.a.getLoaded,showResizeAvatar:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowResizeAvatar,hasUploadError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasUploadError,hasFileTypeError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasFileTypeError,hasImageSizeError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasImageSizeError,hasImageError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasImageError,hasServiceError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasServiceError,avatarImagePreview:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getAvatarImagePreview,remCoefSize:__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__.a.getRemCoefSize,uploadingAvatarToService:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getUploadingAvatarToService,showTooltip:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowTooltip,showRules:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowRules,showSelectedAvatarOverlay:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowSelectedAvatarOverlay,stopEventPropagation:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getStopEventPropagation,isInMobileView:__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__.a.getIsInMobileView,showGameSelectorTooltip:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowGameSelectorTooltip,showChooseFromGalleryTab:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowChooseFromGalleryTab,showUploadAnAvatarTab:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getShowUploadAnAvatarTab,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_10__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,hasGalleryServiceError:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getHasGalleryServiceError},__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__.a.getLoaded,__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector.fromState({isMyAvatarBaned:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getIsMyAvatarBaned,isPlayerBanned:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getIsPlayerBanned})),__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_9__stores_AvatarStore__.a.getLoadedGalleryAvatars,__WEBPACK_IMPORTED_MODULE_5__stejar_redux__.Selector.fromState({avatarsFromGallery:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getFilteredAvatarsFromGallery,selectedGameCode:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getDefaultGameCodeFromGallery,selectedGameName:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getDefaultGameNameFromGallery,avatarsFromGalleryByGameCode:__WEBPACK_IMPORTED_MODULE_7__modules_avatars_queries_AvatarsQueries__.a.getAvatarsFromGalleryByGameCode,selectedAvatarId:__WEBPACK_IMPORTED_MODULE_6__stores_ChangeAvatarStore__.a.getAvatarId})))),__metadata("design:paramtypes",[])],ChangeAvatarController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4_spark_overlay__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(38)),__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_spark_overlay__),__webpack_require__(99)),__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__=__webpack_require__(548),__WEBPACK_IMPORTED_MODULE_7__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_8__modules_integrator_communication_services_NameChangeService__=__webpack_require__(144),__WEBPACK_IMPORTED_MODULE_9__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_10__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_11__messages__=__webpack_require__(29);__webpack_require__.d(exports,"a",function(){return ChangeUserNameController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ChangeUserNameController=function(_PureComponent){function ChangeUserNameController(){return _classCallCheck(this,ChangeUserNameController),_possibleConstructorReturn(this,(ChangeUserNameController.__proto__||Object.getPrototypeOf(ChangeUserNameController)).apply(this,arguments))}return _inherits(ChangeUserNameController,_PureComponent),_createClass(ChangeUserNameController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4_spark_overlay__.UserNameChangeView,{callingValidation:this.props.callingValidation,currentState:this.props.currentState,hasUserTimeLimitError:this.props.hasUserTimeLimitError,showRules:this.props.showRules,hasError:this.props.hasError,errorType:this.props.errorType,localizedMessage:this.props.localizedMessage,onClickToggleShowRules:this.onClickToggleShowRules,hasUserNameLengthError:this.props.hasUserNameLengthError,noUserNameLengthError:this.props.isValidating&&this.props.hasUserNameLengthError,hasUserNameStartError:this.props.hasUserNameStartError,noUserNameStartError:this.props.isValidating&&this.props.hasUserNameStartError,hasUserNameCharactersError:this.props.hasUserNameCharactersError,noUserNameCharactersError:this.props.isValidating&&this.props.hasUserNameCharactersError,hasUserNameCompanyError:this.props.hasUserNameCompanyError,noUserNameCompanyError:this.props.isValidating&&this.props.hasUserNameCompanyError,hasUserNameUniqueError:this.props.hasUserNameUniqueError,noUserNameUniqueError:this.props.isValidating&&this.props.hasUserNameUniqueError,hasUserNameRequiredError:this.props.hasUserNameRequiredError,noUserNameRequiredError:this.props.isValidating&&this.props.hasUserNameRequiredError,hasUserNameRestrictedError:this.props.hasUserNameRestrictedError,noUserNameRestrictedError:this.props.isValidating&&this.props.hasUserNameRestrictedError,hasUserNameUbisoftError:this.props.hasUserNameUbisoftError,noUserNameUbisoftError:this.props.isValidating&&this.props.hasUserNameUbisoftError,hasUserNameLocalizedError:this.props.hasUserNameLocalizedError,noUserNameLocalizedError:this.props.isValidating&&this.props.hasUserNameLocalizedError,noUserNameTimeLimitError:this.props.isValidating&&this.props.hasUserTimeLimitError,hasUserNameGeneralError:this.props.hasUserNameGeneralError,onClose:this.onClose,onClickValidateUserName:this.onClickValidateUserName,onClickSaveUserName:this.onClickSaveUserName,userName:this.props.userName,checkIfUserNameIsValid:this.checkIfUserNameIsValid,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop})}},{key:"componentDidUpdate",value:function(prevProps){prevProps.showRules!==this.props.showRules&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_11__messages__.d.PLAYER_CARD)}},{key:"onClickToggleShowRules",value:function(showRules,e){e.preventDefault(),this.props.nameChangeService.handleToggleShowRules(showRules)}},{key:"onClose",value:function(e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return e.preventDefault(),this.props.nameChangeService.goBackToValidateState(),_context.next=4,this.props.nameChangeService.handleCloseUserName();case 4:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickValidateUserName",value:function(userName,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return e.preventDefault(),_context2.next=3,this.props.nameChangeService.callValidation(userName);case 3:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickSaveUserName",value:function(userName,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return e.preventDefault(),_context3.next=3,this.props.nameChangeService.saveUserName(userName);case 3:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"checkIfUserNameIsValid",value:function(userName){this.props.nameChangeService.checkIfUserNameIsValid(userName)}}]),ChangeUserNameController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);ChangeUserNameController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({nameChangeService:__WEBPACK_IMPORTED_MODULE_8__modules_integrator_communication_services_NameChangeService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_10__modules_integrator_communication_services_CommunicationService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.connect)(function(){return __WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({callingValidation:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getIsCallingValidation,isValidating:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getIsValidating,currentState:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getCurrentState,showRules:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getShowRules,hasError:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getHasError,errorType:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getErrorType,localizedMessage:__WEBPACK_IMPORTED_MODULE_5__stores_UserNameStore__.a.getValidationErrorLocalizedMessage,userName:__WEBPACK_IMPORTED_MODULE_7__selectors__.g,hasUserNameLengthError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameLengthError,hasUserNameStartError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasStartError,hasUserNameCharactersError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasCharacterError,hasUserNameCompanyError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasCompanyError,hasUserNameUniqueError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorAvailable,hasUserNameRequiredError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorRequired,hasUserNameRestrictedError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorRestricted,hasUserNameLocalizedError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorLocalized,hasUserNameGeneralError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorGeneral,hasUserTimeLimitError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameErrorTimeLimit,hasUserNameUbisoftError:__WEBPACK_IMPORTED_MODULE_6__queries_UserNameQueries__.a.getHasUserNameUbisoftError,isInMobileView:__WEBPACK_IMPORTED_MODULE_9__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_9__queries_WidgetQueries__.a.getShowMobileViewOnDesktop})}),__metadata("design:paramtypes",[])],ChangeUserNameController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(59)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_5_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_translate__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_9_app_selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_13_app_modules_swiper_services_Swiper__=__webpack_require__(97),__WEBPACK_IMPORTED_MODULE_14_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_15_messages__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_spark_overlay__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_16_app_modules_locale_queries_CustomTranslateQueries__=__webpack_require__(179),__WEBPACK_IMPORTED_MODULE_17_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_18__modules_integrator_communication_services_NameChangeService__=__webpack_require__(144),__WEBPACK_IMPORTED_MODULE_19__stores_UserNameStore__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_20__ChangeAvatarController__=__webpack_require__(722),__WEBPACK_IMPORTED_MODULE_21__services_ChangeAvatarService__=__webpack_require__(550),__WEBPACK_IMPORTED_MODULE_22__stores_ChangeAvatarStore__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_23__OtherGamesController__=__webpack_require__(725),__WEBPACK_IMPORTED_MODULE_24__stores_AvatarStore__=__webpack_require__(183),__WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_26__stores_OtherGamesCarouselStore__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_27__services_OtherGamesCarouselService__=__webpack_require__(552),__WEBPACK_IMPORTED_MODULE_28__SelectedGameController__=__webpack_require__(726),__WEBPACK_IMPORTED_MODULE_29__ChangeUserNameController__=__webpack_require__(723),__WEBPACK_IMPORTED_MODULE_30__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_31_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_31_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_31_moment__),__WEBPACK_IMPORTED_MODULE_32__queries_PlayerProfileQueries__=__webpack_require__(767);__webpack_require__.d(exports,"a",function(){return ExpandedController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ExpandedController=function(_Component){function ExpandedController(){_classCallCheck(this,ExpandedController);var _this=_possibleConstructorReturn(this,(ExpandedController.__proto__||Object.getPrototypeOf(ExpandedController)).apply(this,arguments));return _this.state={isSwipeOtherGames:!1},_this.scrollableRef=function(el){return _this._scrollableRef=el},_this.detailsScrollableRef=function(el){return _this._detailsScrollableRef=el},_this.intervalIds=[],_this.changeTooltipState=null,_this}return _inherits(ExpandedController,_Component),_createClass(ExpandedController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_14_spark_overlay__.ExpandedView,{show:this.props.show,swipeRef:this.setSwipeRef,height:this.props.height,isSafari:this.props.isSafari,isInMobileView:this.props.isInMobileView,avatarUrl:this.props.avatarUrl,username:this.props.username,level:this.props.level,loadedLastPlayedGame:this.props.loadedLastPlayedGame,hasLastPlayedGame:this.props.hasLastPlayedGame,clubUrl:this.props.clubUrl,locale:this.props.locale,isLocaleXpTranslationTooLong:this.props.isLocaleXpTranslationTooLong,customerSupportUrl:this.props.customerSupportUrl,accountUrl:this.props.accountUrl,integratorCustomerSupportUrls:this.props.integratorCustomerSupportUrls,lastPlayedGameIsOwned:this.props.lastPlayedGameIsOwned,lastPlayedGamePlatforms:this.props.lastPlayedGamePlatforms,onClickAccountInformation:this.handleOnClickAccountInformation,onClickHelpAndSupport:this.handleOnClickHelpAndSupport,onClickLastPlayedGame:this.onClickLastPlayedGame,onClickLogout:this.handleOnClickLogout,onClickCloseMenu:this.handleOnClickCloseMenu,onClickCustomLinks:this.onClickCustomLinks,hasProfileCallError:this.props.hasProfileCallError,widgetHeight:this.props.widgetHeight,isIsoVersionLowerThanNine:this.props.isIsoVersionLowerThanNine,isInDesktopResize:this.props.isInDesktopResize,isOnIpad:this.props.isOnIpad,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onClickFriendsPlayingGame:this.onClickFriendsPlayingGame,onClickChangeUserName:this.onClickChangeUserName,showChangeUserName:this.props.showChangeUserName,isIos:this.props.isIos,onClickAvatar:this.onClickAvatar,showAvatarComponent:this.props.showAvatarComponent,scrollableRef:this.scrollableRef,windowHeight:this.props.windowHeight,onSwipeOtherGames:this.onSwipeOtherGames,otherGamesComponent:__WEBPACK_IMPORTED_MODULE_23__OtherGamesController__.a,myNbOfGamesOwned:this.props.myNbOfGamesOwned,myNbOfYearsOfMemebership:this.props.myNbOfYearsOfMemebership,twoFactorAuthStatus:this.props.twoFactorAuthStatus,selectedAvatarId:this.props.selectedAvatarId,loadedAvatar:this.props.loadedAvatar,onClickCancelSaveAvatar:this.onClickCancelSaveAvatar,onClickSaveAvatar:this.onClickSaveAvatar,showPlayerCardDetails:this.props.showPlayerCardDetails,showDetailsView:this.props.showDetailsView,hasLastPlaydGameToShow:this.props.hasLastPlaydGameToShow,lastPlaydGameToShow:this.props.lastPlaydGameToShow,onClickGame:this.onClickGame,onClickCloseDetailsTabView:this.onClickCloseDetailsTabView,showGameContent:this.props.showGameContent,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,detailsScrollableRef:this.detailsScrollableRef,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,handleOnScrollUpdate:this.handleOnScrollUpdate,showStatsHeaderOnPlayerCardDetails:this.props.showStatsHeaderOnPlayerCardDetails,moment:__WEBPACK_IMPORTED_MODULE_31_moment___default.a,trackingBannerHeight:this.props.trackingBannerHeight,avatarMaintenance:this.props.areAvatarsInMaintenance,changeTooltipState:this.changeAvatarTooltipState,collapsedHeight:this.props.collapsedHeight},this.props.showGameContent?React.createElement(__WEBPACK_IMPORTED_MODULE_28__SelectedGameController__.a,{_detailsScrollableRef:this._detailsScrollableRef}):this.props.showAvatarComponent?React.createElement(__WEBPACK_IMPORTED_MODULE_20__ChangeAvatarController__.a,null):this.props.showChangeUserName?React.createElement(__WEBPACK_IMPORTED_MODULE_29__ChangeUserNameController__.a,null):React.createElement("noscript",null))}},{key:"componentDidMount",value:function(){this.swiper=new __WEBPACK_IMPORTED_MODULE_13_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this))}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:this.props.show&&!prevProps.show&&this._scrollableRef&&this._scrollableRef.scrollToTop(),this.props.showAvatarComponent!==prevProps.showAvatarComponent&&this._scrollableRef&&this._scrollableRef.scrollToTop(),prevProps.show!==this.props.show&&this.props.show&&(this.clearIntervals(),this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_15_messages__.d.PLAYER_CARD)),prevProps.show===this.props.show||this.props.show||this.clearIntervals(),prevProps.loadedLastPlayedGame!==this.props.loadedLastPlayedGame&&prevProps.hasLastPlaydGameToShow!==this.props.hasLastPlaydGameToShow&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_15_messages__.d.PLAYER_CARD),prevProps.loadedLastPlayedGame!==this.props.loadedLastPlayedGame&&prevProps.otherGames&&this.props.otherGames&&prevProps.otherGames.length!==this.props.otherGames.length&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_15_messages__.d.PLAYER_CARD),prevProps.showGameContent!==this.props.showGameContent&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_15_messages__.d.PLAYER_CARD),prevProps.showAvatarComponent!==this.props.showAvatarComponent&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_15_messages__.d.PLAYER_CARD),prevProps.showChangeUserName!==this.props.showChangeUserName&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_15_messages__.d.PLAYER_CARD);case 9:case"end":return _context.stop()}},_callee,this)}))}},{key:"componentWillUnmount",value:function(){this.clearIntervals(),this.swiper&&this.swiper.removeEvents()}},{key:"handleOnClickAccountInformation",value:function(e){e.preventDefault(),this.props.hasOverwrittenLinks&&this.props.overwrittenAccountLink&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.overwrittenAccountLink),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.accountUrl+"/"+this.props.locale)}},{key:"handleOnClickHelpAndSupport",value:function(e){e.preventDefault(),this.props.hasOverwrittenLinks&&this.props.overwrittenSupportLink&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.overwrittenSupportLink),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(""+this.props.customerSupportUrl)}},{key:"onClickLastPlayedGame",value:function(lastPlayedGameShopUrl,e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(lastPlayedGameShopUrl)}},{key:"onClickCustomLinks",value:function(link,e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(link)}},{key:"handleOnClickLogout",value:function(e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return e.preventDefault(),_context2.next=3,this.props.communicationService.clickedOnLogout();case 3:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"handleOnClickCloseMenu",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnClosePlayerCard()}},{key:"handleSwipe",value:function(payload){this.state.isSwipeOtherGames||payload.swipeRight&&this.props.communicationService.clickedOnMobileFriends()}},{key:"onClickFriendsPlayingGame",value:function(gameCode,platformCode,e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.clubUrl+"/"+this.props.locale+"/game/"+gameCode+"/"+platformCode+"/stats")}},{key:"onClickChangeUserName",value:function(e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return e.preventDefault(),this._detailsScrollableRef&&this._detailsScrollableRef.scrollToTop(),_context3.next=4,this.props.nameChangeService.handleClickChangeUserName(this.props.username);case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"onClickAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!this.props.areAvatarsInMaintenance){_context4.next=2;break}return _context4.abrupt("return");case 2:return this._detailsScrollableRef&&this._detailsScrollableRef.scrollToTop(),_context4.next=5,this.props.changeAvatarService.handleShowAvatarComponent();case 5:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onSwipeOtherGames",value:function(isSwipeOtherGames){this.setState({isSwipeOtherGames:isSwipeOtherGames})}},{key:"onClickCancelSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!this.props.areAvatarsInMaintenance){_context5.next=2;break}return _context5.abrupt("return");case 2:return _context5.next=4,this.props.changeAvatarService.onClickCancelSaveAvatar();case 4:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"onClickSaveAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!this.props.areAvatarsInMaintenance){_context6.next=2;break}return _context6.abrupt("return");case 2:return _context6.next=4,this.props.changeAvatarService.onClickSaveAvatar();case 4:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"onClickGame",value:function(offset,id,spaceId,platformCode,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){
return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return this._detailsScrollableRef&&this._detailsScrollableRef.scrollToTop(),_context7.next=3,this.props.otherGamesCarouselService.onClickGame(offset,id,spaceId,platformCode);case 3:case"end":return _context7.stop()}},_callee7,this)}))}},{key:"onClickCloseDetailsTabView",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return this.props.nameChangeService.goBackToValidateState(),_context8.next=3,this.props.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_30__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 3:case"end":return _context8.stop()}},_callee8,this)}))}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),(this.props.showAvatarComponent||this.props.showChangeUserName||this.props.showGameContent)&&!this.props.showMobileViewOnDesktop||this.props.communicationService.clickedOnMenu()}},{key:"handleOnScrollUpdate",value:function(value){this.props.communicationService.handleOnScrollUpdate(value,__WEBPACK_IMPORTED_MODULE_30__entities_OverviewTabDetails__.a.OVERVIEW_VIEW)}},{key:"setIntervals",value:function(){var _this2=this;this.props.changeAvatarService.checkInterval(this.changeTooltipState),__WEBPACK_IMPORTED_MODULE_31_moment___default.a.utc().isBetween(__WEBPACK_IMPORTED_MODULE_31_moment___default.a.utc(this.props.avatarsMaintenanceStartDate).subtract("3","h"),__WEBPACK_IMPORTED_MODULE_31_moment___default.a.utc(this.props.avatarsMaintenanceEndDate))&&this.intervalIds.push(setInterval(function(){_this2.props.changeAvatarService.checkInterval(_this2.changeTooltipState),__WEBPACK_IMPORTED_MODULE_31_moment___default.a.utc().isAfter(__WEBPACK_IMPORTED_MODULE_31_moment___default.a.utc(_this2.props.avatarsMaintenanceEndDate))&&_this2.clearIntervals()},6e4))}},{key:"clearIntervals",value:function(){this.intervalIds.length&&this.intervalIds.forEach(function(intervalId){return clearInterval(intervalId)})}},{key:"changeAvatarTooltipState",value:function(changeTooltipState){this.changeTooltipState=changeTooltipState}}]),ExpandedController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.Component);ExpandedController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_communication_services_CommunicationService__.a,emailVerificationService:__WEBPACK_IMPORTED_MODULE_17_app_modules_integrator_communication_services_EmailVerificationService__.a,nameChangeService:__WEBPACK_IMPORTED_MODULE_18__modules_integrator_communication_services_NameChangeService__.a,changeAvatarService:__WEBPACK_IMPORTED_MODULE_21__services_ChangeAvatarService__.a,otherGamesCarouselService:__WEBPACK_IMPORTED_MODULE_27__services_OtherGamesCarouselService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__.connect)(function(state,props){return __WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({show:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.m,isSafari:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.isSafari,clubUrl:__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,accountUrl:__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__.a.getAccountUrl,customerSupportUrl:__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__.a.getCustomerSupportUrl,locale:__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale,isLocaleXpTranslationTooLong:__WEBPACK_IMPORTED_MODULE_16_app_modules_locale_queries_CustomTranslateQueries__.a.getIsLocaleXpTranslationTooLong,hasLastPlayedGame:!1,integratorCustomerSupportUrls:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getCustomerSupportLinks,lastPlayedGamePlatforms:[],hasOverwrittenLinks:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasOverwrittenLinks,overwrittenAccountLink:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenAccountLink,overwrittenSupportLink:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenSupportLink,widgetHeight:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getHeight,isIsoVersionLowerThanNine:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIsIsoVersionLowerThanNine,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,isOnIpad:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getisOnIpad,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,showChangeUserName:__WEBPACK_IMPORTED_MODULE_19__stores_UserNameStore__.a.getShowChangeUserName,showUserNameRules:__WEBPACK_IMPORTED_MODULE_19__stores_UserNameStore__.a.getShowRules,isIos:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIsIos,showAvatarComponent:__WEBPACK_IMPORTED_MODULE_22__stores_ChangeAvatarStore__.a.getShowAvatarComponent,windowHeight:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getParentHeight,selectedAvatarId:__WEBPACK_IMPORTED_MODULE_22__stores_ChangeAvatarStore__.a.getAvatarId,loadedAvatar:__WEBPACK_IMPORTED_MODULE_24__stores_AvatarStore__.a.getLoaded,lastPlayedGameCarouselOffset:__WEBPACK_IMPORTED_MODULE_26__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameOffset,showPlayerCardDetails:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowPlayerCardDetails,showDetailsView:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowDetailsView,showGameContent:__WEBPACK_IMPORTED_MODULE_26__stores_OtherGamesCarouselStore__.a.getShowGameContent,loadedLastPlayedGame:!1,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowMobileViewOnDesktop,scrollbarWidth:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarWidth,noActiveClickOnMenu:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getNoActiveClickOnMenu,showStatsHeaderOnPlayerCardDetails:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowStatsHeaderOnPlayerCardDetails,otherGames:[],trackingBannerHeight:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getTrackingBannerHeight,areAvatarsInMaintenance:__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__.a.getAreAvatarsInMaintenance,avatarsMaintenanceStartDate:__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsMaintenanceStartDate,avatarsMaintenanceEndDate:__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsMaintenanceEndDate,collapsedHeight:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getCollapsedHeight},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({height:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIntegratorConfigurationHeight,isInMobileView:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIsInMobileView,userId:__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,username:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.g,level:__WEBPACK_IMPORTED_MODULE_32__queries_PlayerProfileQueries__.a.getMyLevel,hasProfileCallError:__WEBPACK_IMPORTED_MODULE_32__queries_PlayerProfileQueries__.a.getHasProfileCallError,myNbOfGamesOwned:__WEBPACK_IMPORTED_MODULE_32__queries_PlayerProfileQueries__.a.getMyNbOfGamesOwned,myNbOfYearsOfMemebership:__WEBPACK_IMPORTED_MODULE_32__queries_PlayerProfileQueries__.a.getMyNbOfYearsWithUbi,twoFactorAuthStatus:__WEBPACK_IMPORTED_MODULE_19__stores_UserNameStore__.a.getTwoFactorAuthStatus},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({customerSupportUrl:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.p})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({loadedLastPlayedGame:!0,hasLastPlayedGame:__WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({lastPlayedGameIsOwned:__WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__.a.getIsOwnedCurrentGame,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__.a.getHasOnlyOnePlatform,lastPlayedGamePlatforms:__WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__.a.getMyLastPlayedGamePlatformsMapedNames,hasLastPlaydGameToShow:__WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__.a.getHasLastPlaydGameToShow,lastPlaydGameToShow:__WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__.a.getLastPlaydGameToShow,otherGames:__WEBPACK_IMPORTED_MODULE_25__queries_OtherGamesCarouselQueries__.a.getOtherGamesPlayed})))))))}),__metadata("design:paramtypes",[])],ExpandedController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4_spark_overlay__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(38)),__WEBPACK_IMPORTED_MODULE_5__modules_swiper_services_Swiper__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_spark_overlay__),__webpack_require__(97)),__WEBPACK_IMPORTED_MODULE_6__services_OtherGamesCarouselService__=__webpack_require__(552),__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_8__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_9__queries_OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_10__stores_OtherGamesCarouselStore__=__webpack_require__(68);__webpack_require__.d(exports,"a",function(){return OtherGamesController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},OtherGamesController=function(_PureComponent){function OtherGamesController(){_classCallCheck(this,OtherGamesController);var _this=_possibleConstructorReturn(this,(OtherGamesController.__proto__||Object.getPrototypeOf(OtherGamesController)).apply(this,arguments));return _this.carouselRef=function(el){return _this._carouselRef=el},_this.swiperRef=function(el){return _this.swiper=new __WEBPACK_IMPORTED_MODULE_5__modules_swiper_services_Swiper__.a(el,_this.handleSwipe.bind(_this),_this.handleSwipeEnd.bind(_this)),_this._swiperRef=el},_this}return _inherits(OtherGamesController,_PureComponent),_createClass(OtherGamesController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4_spark_overlay__.OtherGamesView,{otherGames:this.props.otherGames,hasOtherGamesPlayed:this.props.hasOtherGamesPlayed,dots:this.props.dots,selectedDot:this.props.selectedDot,carouselTranslateX:this.props.carouselTranslateX,carouselDotTranslateX:this.props.carouselDotTranslateX,onClickLeftCarouselArrow:this.onClickLeftCarouselArrow,onClickRightCarouselArrow:this.onClickRightCarouselArrow,onClickCarouselDot:this.onClickCarouselDot,onClickGoToFirstSlide:this.onClickGoToFirstSlide,carouselRef:this.carouselRef,swiperRef:this.swiperRef,loadedLastPlayedGame:this.props.loadedLastPlayedGame,onClickGameImage:this.onClickGameImage,isInMobileView:this.props.isInMobileView,hasComputedGameByInstallmentId:this.props.hasComputedGameByInstallmentId,currentLastPlayedGameId:this.props.currentLastPlayedGameId})}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"handleSwipe",value:function(payload){this.props.onSwipeOtherGames(!0),payload.swipeRight&&this.props.otherGamesCarouselService.onClickLeftCarouselArrow(this._carouselRef),payload.swipeLeft&&this.props.otherGamesCarouselService.onClickRightCarouselArrow(this._carouselRef)}},{key:"handleSwipeEnd",value:function(){this.props.onSwipeOtherGames(!1)}},{key:"onClickLeftCarouselArrow",value:function(e){this.props.otherGamesCarouselService.onClickLeftCarouselArrow(this._carouselRef)}},{key:"onClickRightCarouselArrow",value:function(e){this.props.otherGamesCarouselService.onClickRightCarouselArrow(this._carouselRef)}},{key:"onClickCarouselDot",value:function(selectedDot,e){this.props.otherGamesCarouselService.onClickCarouselDot(selectedDot,this._carouselRef)}},{key:"onClickGoToFirstSlide",value:function(){this.props.otherGamesCarouselService.onClickGoToFirstSlide()}},{key:"onClickGameImage",value:function(offset,id,spaceId,platformCode,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.otherGamesCarouselService.onClickGame(offset,id,spaceId,platformCode);case 2:case"end":return _context.stop()}},_callee,this)}))}}]),OtherGamesController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);OtherGamesController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({otherGamesCarouselService:__WEBPACK_IMPORTED_MODULE_6__services_OtherGamesCarouselService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_8__queries_WidgetQueries__.a.getIsInMobileView},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({otherGames:__WEBPACK_IMPORTED_MODULE_9__queries_OtherGamesCarouselQueries__.a.getOtherGamesPlayed,hasOtherGamesPlayed:__WEBPACK_IMPORTED_MODULE_9__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed,hasComputedGameByInstallmentId:__WEBPACK_IMPORTED_MODULE_9__queries_OtherGamesCarouselQueries__.a.getHasComputedGameByInstallmentId,loadedLastPlayedGame:__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.loaded,dots:__WEBPACK_IMPORTED_MODULE_9__queries_OtherGamesCarouselQueries__.a.getOtherGamesPlayedDots,selectedDot:__WEBPACK_IMPORTED_MODULE_10__stores_OtherGamesCarouselStore__.a.getCurrentDot,carouselTranslateX:__WEBPACK_IMPORTED_MODULE_10__stores_OtherGamesCarouselStore__.a.getCarouselTranslateX,carouselDotTranslateX:__WEBPACK_IMPORTED_MODULE_10__stores_OtherGamesCarouselStore__.a.getCarouselDotTranslateX,currentLastPlayedGameId:__WEBPACK_IMPORTED_MODULE_10__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({otherGames:[],loadedLastPlayedGame:!1,hasOtherGamesPlayed:!1,dots:[],selectedDot:0,carouselTranslateX:0,carouselDotTranslateX:0})))),__metadata("design:paramtypes",[])],OtherGamesController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_4__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_5__modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_6_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_spark_overlay__),__webpack_require__(39)),__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__=__webpack_require__(47),__WEBPACK_IMPORTED_MODULE_9__queries_ChangePlatformsQueries__=__webpack_require__(544),__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_11__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_12__queries_FriendsOwnedGamesQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11__stejar_translate__),__webpack_require__(146)),__WEBPACK_IMPORTED_MODULE_13__stores_FriendsPlayingGameStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_14__stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_15__stores_RewardsStore__=__webpack_require__(285),__WEBPACK_IMPORTED_MODULE_16__queries_UserRewardsQueries__=__webpack_require__(768),__WEBPACK_IMPORTED_MODULE_17__stores_GameStatsStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_18__queries_GameStatsQueries__=__webpack_require__(180),__WEBPACK_IMPORTED_MODULE_19__stejar_utils__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_20__stores_StatsComparisonStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19__stejar_utils__),__webpack_require__(120)),__WEBPACK_IMPORTED_MODULE_21__services_StatsComparisonService__=__webpack_require__(278),__WEBPACK_IMPORTED_MODULE_22__SelectedGameStatsController__=__webpack_require__(727),__WEBPACK_IMPORTED_MODULE_23__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_24__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_25__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_26__stores_OtherGamesCarouselStore__=__webpack_require__(68);__webpack_require__.d(exports,"a",function(){return SelectedGameController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SelectedGameController=function(_PureComponent){function SelectedGameController(){return _classCallCheck(this,SelectedGameController),_possibleConstructorReturn(this,(SelectedGameController.__proto__||Object.getPrototypeOf(SelectedGameController)).apply(this,arguments))}return _inherits(SelectedGameController,_PureComponent),_createClass(SelectedGameController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_6_spark_overlay__.SelectedGameView,{gameDate:this.props.gameDate,gameTitle:this.props.gameTitle,gameId:this.props.gameId,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onChangePlatform:this.onChangePlatform,loadedGame:this.props.loadedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,friendsPlaying:this.props.friendsPlaying,loadedGameStats:this.props.loadedGameStats,hasGameStats:this.props.hasGameStats,gameStats:this.props.gameStats,statsCDNUrl:this.props.statsCDNUrl,gameSpaceId:this.props.gameSpaceId,gameCoverUrl:this.props.gameCoverUrl,gameImageUrl:this.props.gameImageUrl,clubUrl:this.props.clubUrl,locale:this.props.locale,gameCleanUrl:this.props.gameCleanUrl,nbOfRewardsOwned:this.props.nbOfRewardsOwned,nbOfRewards:this.props.nbOfRewards,loadedFriends:this.props.loadedFriends,loadedRewards:this.props.loadedRewards,onClickGameStats:this.onClickGameStats,onClickGameRewards:this.onClickGameRewards,isShownGameStats:this.props.isShownGameStats,isInMobileView:this.props.isInMobileView,onClickGoBack:this.onClickGoBack,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,platformSelectorContentWidth:this.props.platformSelectorContentWidth,moment:__WEBPACK_IMPORTED_MODULE_0_moment___default.a},React.createElement(__WEBPACK_IMPORTED_MODULE_22__SelectedGameStatsController__.a,null))}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:prevProps.loadedGameStats!==this.props.loadedGameStats&&this.props.showGameContent&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_25__messages__.d.PLAYER_CARD);case 1:case"end":return _context.stop()}},_callee,this)}))}},{key:"onChangePlatform",value:function(spaceId,gameId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.props.communicationService.onChangeLPGPltform(spaceId,gameId);case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickGameStats",value:function(){this.props.statsComparisonService.onToggleShowGameStats(!0,this.props._detailsScrollableRef)}},{key:"onClickGameRewards",value:function(clubUrl,locale,gameCleanUrl,selectedPlatformCode,e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_19__stejar_utils__.newWindow)(clubUrl+"/"+locale+"/game/"+gameCleanUrl+"/"+selectedPlatformCode+"/rewards")}},{key:"onClickGoBack",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.props.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_24__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 2:case"end":return _context3.stop()}},_callee3,this)}))}}]),SelectedGameController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);SelectedGameController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_5__modules_integrator_communication_services_CommunicationService__.a,statsComparisonService:__WEBPACK_IMPORTED_MODULE_21__services_StatsComparisonService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector.fromState({loadedGame:!1,loadedFriends:!1,loadedGameStats:!1,loadedRewards:!1,statsCDNUrl:__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__.a.getStatsCDNUrl,clubUrl:__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_11__stejar_translate__.LocaleQueries.getCurrentLocale,isShownGameStats:__WEBPACK_IMPORTED_MODULE_20__stores_StatsComparisonStore__.a.getIsShownGameStats,isInMobileView:__WEBPACK_IMPORTED_MODULE_23__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_23__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showGameContent:__WEBPACK_IMPORTED_MODULE_26__stores_OtherGamesCarouselStore__.a.getShowGameContent},__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_7__stores_GamesStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed(state)},__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector.fromState({loadedGame:!0,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_9__queries_ChangePlatformsQueries__.a.getSelectedPlatformCode,platformsForSelect:__WEBPACK_IMPORTED_MODULE_9__queries_ChangePlatformsQueries__.a.getMyLastPlayedGameFilteredOwnedPlatfroms,platformSelectorContentWidth:__WEBPACK_IMPORTED_MODULE_9__queries_ChangePlatformsQueries__.a.getPlatformSelectorContentWidth,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_9__queries_ChangePlatformsQueries__.a.getHasOnlyOneOwnedPlatform,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_9__queries_ChangePlatformsQueries__.a.getHasOwnedPlatforms,gameDate:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentLastPlayedDate,gameTitle:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentGameName,gameId:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentGameId,gameSpaceId:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentGameSpaceId,gameCoverUrl:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentCoverUrl,gameImageUrl:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentImageUrl,gameCleanUrl:__WEBPACK_IMPORTED_MODULE_8__queries_OtherGamesCarouselQueries__.a.getCurrentGameCleanUrl},__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_14__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_13__stores_FriendsPlayingGameStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector.fromState({friendsPlaying:__WEBPACK_IMPORTED_MODULE_12__queries_FriendsOwnedGamesQueries__.a.getFriendsPlayingGameNames,loadedFriends:!0},__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_17__stores_GameStatsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_17__stores_GameStatsStore__.a.loadedFriendsStats(state)},__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector.fromState({hasGameStats:__WEBPACK_IMPORTED_MODULE_18__queries_GameStatsQueries__.a.hasLastPlayedGameStats,gameStats:__WEBPACK_IMPORTED_MODULE_18__queries_GameStatsQueries__.a.getLastPlayedGameStatsWithRank,loadedGameStats:!0})))),__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_15__stores_RewardsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector.fromState({nbOfRewardsOwned:__WEBPACK_IMPORTED_MODULE_16__queries_UserRewardsQueries__.a.getNbRewardsOwned,nbOfRewards:__WEBPACK_IMPORTED_MODULE_16__queries_UserRewardsQueries__.a.getNbOfTotalRewards,
loadedRewards:!0})))))))),__metadata("design:paramtypes",[])],SelectedGameController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_6__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_7__stores_GameStatsStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_8__stores_FriendsPlayingGameStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_9__stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_10_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_spark_overlay__),__webpack_require__(47)),__WEBPACK_IMPORTED_MODULE_12__queries_FriendsOwnedGamesQueries__=__webpack_require__(146),__WEBPACK_IMPORTED_MODULE_13__stores_StatsComparisonStore__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_14__queries_ChangePlatformsQueries__=__webpack_require__(544),__WEBPACK_IMPORTED_MODULE_15__stores_OtherGamesCarouselStore__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_16__queries_GameStatsQueries__=__webpack_require__(180),__WEBPACK_IMPORTED_MODULE_17__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_18__services_StatsComparisonService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17__stejar_translate__),__webpack_require__(278)),__WEBPACK_IMPORTED_MODULE_19__modules_locale_queries_CustomTranslateQueries__=__webpack_require__(179),__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_21__entities_OverviewTabDetails__=__webpack_require__(53);__webpack_require__.d(exports,"a",function(){return SelectedGameStatsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SelectedGameStatsController=function(_PureComponent){function SelectedGameStatsController(){return _classCallCheck(this,SelectedGameStatsController),_possibleConstructorReturn(this,(SelectedGameStatsController.__proto__||Object.getPrototypeOf(SelectedGameStatsController)).apply(this,arguments))}return _inherits(SelectedGameStatsController,_PureComponent),_createClass(SelectedGameStatsController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_10_spark_overlay__.SelectedGameStatsView,{gameName:this.props.gameName,friendsPlayingGame:this.props.friendsPlayingGame,selectedFriendId:this.props.selectedFriendId,selectedFriendName:this.props.selectedFriendName,onChangeFriend:this.onChangeFriend,onTypeFriendName:this.onTypeFriendName,loadedFriends:this.props.loadedFriends,onToggleStopEventPropagation:this.onToggleStopEventPropagation,lastPlayedGameId:this.props.lastPlayedGameId,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,onChangePlatform:this.onChangePlatform,loadedLastPlayedGame:this.props.loadedLastPlayedGame,hasLastPlayedGame:this.props.hasLastPlayedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,isLoadedGameStats:this.props.isLoadedGameStats,hasLastPlayedGameStats:this.props.hasLastPlayedGameStats,lastPlayedGameStats:this.props.lastPlayedGameStats,statsCDNUrl:this.props.statsCDNUrl,spaceId:this.props.spaceId,clubUrl:this.props.clubUrl,locale:this.props.locale,onClickGameStats:this.onClickGameStats,onClickGoBack:this.onClickGoBack,showFriendSelectorTooltip:this.props.showFriendSelectorTooltip,onClickCloseFriendTooltip:this.onClickCloseFriendTooltip,friendsSelectorPlaceholder:this.props.friendsSelectorPlaceholder,gameStatsToCompareWithAFriend:this.props.gameStatsToCompareWithAFriend,isInMobileView:this.props.isInMobileView,isFriendGame:!1,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,contentWidth:this.props.platformSelectorContentWidth,showStatsHeaderOnPlayerCardDetails:this.props.showStatsHeaderOnPlayerCardDetails,onClickClose:this.onClickClose})}},{key:"onChangeFriend",value:function(friendId){this.props.statsComparisonService.onChangeFriend(friendId)}},{key:"onTypeFriendName",value:function(event){this.props.statsComparisonService.onTypeFriendName(event.target.value)}},{key:"onToggleStopEventPropagation",value:function(){}},{key:"onChangePlatform",value:function(spaceId,gameId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.communicationService.onChangeLPGPltform(spaceId,gameId);case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickGameStats",value:function(){}},{key:"onClickGoBack",value:function(){this.props.statsComparisonService.onToggleShowGameStats(!1)}},{key:"onClickCloseFriendTooltip",value:function(){this.props.statsComparisonService.onToggleShowFriendsSelectorTooltipWarning(this.props.showFriendSelectorTooltip)}},{key:"onClickClose",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.props.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_21__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 2:case"end":return _context2.stop()}},_callee2,this)}))}}]),SelectedGameStatsController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);SelectedGameStatsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__.a,statsComparisonService:__WEBPACK_IMPORTED_MODULE_18__services_StatsComparisonService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isShownGameStats:__WEBPACK_IMPORTED_MODULE_13__stores_StatsComparisonStore__.a.getIsShownGameStats,isLoadedGameStats:!1,friendsPlayingGame:[],selectedFriendId:__WEBPACK_IMPORTED_MODULE_13__stores_StatsComparisonStore__.a.getSelectedFriendId,selectedFriendName:__WEBPACK_IMPORTED_MODULE_13__stores_StatsComparisonStore__.a.getSelectedFriendName,loadedFriends:!1,lastPlayedGameId:__WEBPACK_IMPORTED_MODULE_15__stores_OtherGamesCarouselStore__.a.getCurrentLastPlayedGameId,platformsForSelect:[],loadedLastPlayedGame:!1,hasLastPlayedGame:!1,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,hasLastPlayedGameStats:!1,lastPlayedGameStats:[],statsCDNUrl:__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getStatsCDNUrl,clubUrl:__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_17__stejar_translate__.LocaleQueries.getCurrentLocale,friendsSelectorPlaceholder:__WEBPACK_IMPORTED_MODULE_19__modules_locale_queries_CustomTranslateQueries__.a.getFriendsSelectorTranslatedText,showFriendSelectorTooltip:__WEBPACK_IMPORTED_MODULE_13__stores_StatsComparisonStore__.a.getShowFriendSelectorTooltip,gameStatsToCompareWithAFriend:[],isInMobileView:__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showStatsHeaderOnPlayerCardDetails:__WEBPACK_IMPORTED_MODULE_20__queries_WidgetQueries__.a.getShowStatsHeaderOnPlayerCardDetails},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_6__stores_GamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_7__stores_GameStatsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_7__stores_GameStatsStore__.a.loadedFriendsStats(state)&&__WEBPACK_IMPORTED_MODULE_9__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_8__stores_FriendsPlayingGameStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadedGameStats:!0,gameName:__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getCurrentGameName,friendsPlayingGame:__WEBPACK_IMPORTED_MODULE_12__queries_FriendsOwnedGamesQueries__.a.getFriendsPlayingGameForSelect,loadedFriends:!0,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_14__queries_ChangePlatformsQueries__.a.getSelectedPlatformCode,platformsForSelect:__WEBPACK_IMPORTED_MODULE_14__queries_ChangePlatformsQueries__.a.getMyLastPlayedGameFilteredOwnedPlatfroms,platformSelectorContentWidth:__WEBPACK_IMPORTED_MODULE_14__queries_ChangePlatformsQueries__.a.getPlatformSelectorContentWidth,loadedLastPlayedGame:!0,hasLastPlayedGame:__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getHasOtherGamesPlayed,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_14__queries_ChangePlatformsQueries__.a.getHasOnlyOneOwnedPlatform,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_14__queries_ChangePlatformsQueries__.a.getHasOwnedPlatforms,hasLastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_16__queries_GameStatsQueries__.a.hasLastPlayedGameStats,lastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_16__queries_GameStatsQueries__.a.getGameStatsWithRank,statsCDNUrl:__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getStatsCDNUrl,spaceId:__WEBPACK_IMPORTED_MODULE_11__queries_OtherGamesCarouselQueries__.a.getCurrentGameSpaceId,clubUrl:__WEBPACK_IMPORTED_MODULE_5__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_17__stejar_translate__.LocaleQueries.getCurrentLocale,gameStatsToCompareWithAFriend:__WEBPACK_IMPORTED_MODULE_16__queries_GameStatsQueries__.a.getGameStatsToCompareWithAFriend})))),__metadata("design:paramtypes",[])],SelectedGameStatsController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_7__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_10__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__stejar_translate__),__webpack_require__(85)),__WEBPACK_IMPORTED_MODULE_12__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_13_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_spark_overlay__),__webpack_require__(279)),__WEBPACK_IMPORTED_MODULE_15__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_16__modules_locale_queries_CustomTranslateQueries__=__webpack_require__(179),__WEBPACK_IMPORTED_MODULE_17__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_18__services_FriendsActionsService__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_19__SocialNetworksController__=__webpack_require__(733),__WEBPACK_IMPORTED_MODULE_20__RecentlyMetController__=__webpack_require__(731),__WEBPACK_IMPORTED_MODULE_21_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_21_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21_moment__);__webpack_require__.d(exports,"a",function(){return AddFriendsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AddFriendsController=function(_PureComponent){function AddFriendsController(){_classCallCheck(this,AddFriendsController);var _this=_possibleConstructorReturn(this,(AddFriendsController.__proto__||Object.getPrototypeOf(AddFriendsController)).apply(this,arguments));return _this.userSearchRef=null,_this.addKeyEvent=function(e){13==e.keyCode&&(e.preventDefault(),_this.props.addFriendService.onClickUserSearchInput(_this.userSearchRef.value))},_this}return _inherits(AddFriendsController,_PureComponent),_createClass(AddFriendsController,[{key:"setUserSearchRef",value:function(view){this.userSearchRef=view}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_13_spark_overlay__.AddFriendTabView,{show:this.props.show,onClickGoBack:this.onClickGoBack,loadedFriendView:!0,isLoadingSearchFriend:this.props.isLoadingSearchFriend,hasFoundProfilesByName:this.props.hasFoundProfilesByName,showSearchFriend:this.props.showSearchFriend,friendsToAdd:this.props.friendsToAdd,userSearchRef:this.setUserSearchRef,onClickUserSearchInput:this.onClickUserSearchInput,userNameToSearchBy:this.props.userNameToSearchBy,enterFullPlayerNameText:this.props.translatedText,friendsToAddState:this.props.friendsToAddState,onClickInviteRequest:this.onClickInviteRequest,onClickFriendRequest:this.onClickFriendRequest,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,isStillLoading:this.props.isStillLoading,currentDeclineUserId:this.props.currentDeclineUserId,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,onSwipeRecentlyMet:this.props.onSwipeRecentlyMet,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,moment:__WEBPACK_IMPORTED_MODULE_21_moment___default.a},React.createElement(__WEBPACK_IMPORTED_MODULE_19__SocialNetworksController__.a,null),React.createElement(__WEBPACK_IMPORTED_MODULE_20__RecentlyMetController__.a,{onSwipeRecentlyMet:this.props.onSwipeRecentlyMet}))}},{key:"componentDidMount",value:function(){this.userSearchRefHasEventListener=!1,this.userSearchRef&&(this.userSearchRefHasEventListener=!0,this.userSearchRef.addEventListener("keyup",this.addKeyEvent))}},{key:"componentDidUpdate",value:function(prevProps){return prevProps.show!==this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_12__messages__.d.FRIENDS),prevProps.isLoadingAddFriend!==this.props.isLoadingAddFriend&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_12__messages__.d.FRIENDS),prevProps.showSearchFriend!==this.props.showSearchFriend&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_12__messages__.d.FRIENDS),prevProps.isLoadingSearchFriend!==this.props.isLoadingSearchFriend&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_12__messages__.d.FRIENDS),this.userSearchRef&&this.userSearchRefHasEventListener===!1&&(this.userSearchRefHasEventListener=!0,this.userSearchRef.addEventListener("keyup",this.addKeyEvent)),null}},{key:"onClickUserSearchInput",value:function(e){e.preventDefault(),this.props.addFriendService.onClickUserSearchInput(this.userSearchRef.value)}},{key:"componentWillUnmount",value:function(){this.userSearchRefHasEventListener=!1,this.userSearchRef.removeEventListener("keyup",this.addKeyEvent)}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickGoBack",value:function(e){e.preventDefault(),this.userSearchRef&&(this.userSearchRef.value=null),this.props.friendsCommunicationService.hideAddFriendsTab()}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform,e){e.preventDefault(),this.props.addFriendService.onClickInviteRequest(pid,nameOnPlatform)}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsActionsService.handleAcceptRequest(userId)}},{key:"onClickCancelDeclineRequest",value:function(userId,event){this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,event){this.props.tagCommanderService.trackEvent("Nav - Ubibar - Send friend invitation Cancelled","Overlay"),this.props.friendsActionsService.handleDeclineRequest(userId)}}]),AddFriendsController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);AddFriendsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__.a,addFriendService:__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_7__modules_integrator_communication_services_FriendsCommunicationService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_17__modules_tagCommander_services_TagCommanderService__.a,friendsActionsService:__WEBPACK_IMPORTED_MODULE_18__services_FriendsActionsService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__.a.getIsInMobileView,show:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getShowAddFriendsTab,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,clubUrl:__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_10__stejar_translate__.LocaleQueries.getCurrentLocale,isLoadingSearchFriend:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getIsLoading,hasFoundProfilesByName:!1,showSearchFriend:!1,userNameToSearchBy:null,friendsToAddState:{},translatedText:__WEBPACK_IMPORTED_MODULE_16__modules_locale_queries_CustomTranslateQueries__.a.getAddFriendTranslatedText,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getCurrentUserId,isStillLoading:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getIsStillLoading,isRightAfterLoad:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getIsRightAfterLoad,isLoadingAddFriend:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getIsLoading,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,isAcceptedState:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getIsAccepted,isDeclinedState:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getIsDeclined,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__.a.getShowMobileViewOnDesktop},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasFoundProfilesByName:!1,showSearchFriend:!1,friendsToAdd:[],userNameToSearchBy:null,friendsToAddState:{}}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasFoundProfilesByName:__WEBPACK_IMPORTED_MODULE_15__selectors__.v,showSearchFriend:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getShow,friendsToAdd:__WEBPACK_IMPORTED_MODULE_15__selectors__.w,userNameToSearchBy:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getUserNameToSearch,friendsToAddState:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getFriendsSate})))),__metadata("design:paramtypes",[])],AddFriendsController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_4_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_5__modules_swiper_services_Swiper__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_spark_overlay__),__webpack_require__(97)),__WEBPACK_IMPORTED_MODULE_6__services_FriendProfileService__=__webpack_require__(274),__WEBPACK_IMPORTED_MODULE_7__stores_ClubProfilesStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_10__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_11__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_12__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_13__stores_GamesStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__stejar_translate__),__webpack_require__(39)),__WEBPACK_IMPORTED_MODULE_14__stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_15__stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_16__stores_ConnectionsStore__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_17__stores_GameStatsStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_18__stores_FriendsPlayingGameStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_19__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_20__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_21__services_FriendsActionsService__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_22__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_23__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_24__stores_FriendsActionsStore__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_25__SelectedFriendProfileStatsController__=__webpack_require__(732),__WEBPACK_IMPORTED_MODULE_26__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_27__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_28_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_28_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_28_moment__);__webpack_require__.d(exports,"a",function(){return FriendProfileController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendProfileController=function(_PureComponent){function FriendProfileController(){_classCallCheck(this,FriendProfileController);var _this=_possibleConstructorReturn(this,(FriendProfileController.__proto__||Object.getPrototypeOf(FriendProfileController)).apply(this,arguments));return _this.setSwiperRef=function(el){
return _this.swiper=new __WEBPACK_IMPORTED_MODULE_5__modules_swiper_services_Swiper__.a(el,_this.handleSwipe.bind(_this),_this.handleSwipeEnd.bind(_this)),_this._swiperRef=el},_this.setCarouselRef=function(el){return _this._carouselRef=el},_this}return _inherits(FriendProfileController,_PureComponent),_createClass(FriendProfileController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_4_spark_overlay__.FriendProfileView,{friendId:this.props.friendId,friendAvatarUrl:this.props.friendAvatarUrl,friendName:this.props.friendName,friendLevel:this.props.friendLevel,onClickRemove:this.onClickRemove,onClickView:this.onClickView,clubUrl:this.props.clubUrl,locale:this.props.locale,hasLastPlayedGame:this.props.hasLastPlayedGame,isOnline:this.props.isOnline,isCurrentlyPlayingAGame:this.props.isCurrentlyPlayingAGame,gameDate:this.props.gameDate,gameTitle:this.props.gameTitle,gameId:this.props.gameId,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,onChangePlatform:this.onChangePlatform,loadedGame:this.props.loadedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,loadedFriends:this.props.loadedFriends,friendsPlaying:this.props.friendsPlaying,gameImageUrl:this.props.gameImageUrl,isFriendGame:!0,isLoadedGameStats:this.props.isLoadedGameStats,hasLastPlayedGameStats:this.props.hasLastPlayedGameStats,lastPlayedGameStats:this.props.lastPlayedGameStats,statsCDNUrl:this.props.statsCDNUrl,spaceId:this.props.spaceId,lastPlayedGameCoverUrl:this.props.lastPlayedGameCoverUrl,onClickGameStats:this.onClickGameStats,otherGames:this.props.otherGames,hasOtherGamesPlayed:this.props.hasOtherGamesPlayed,dots:this.props.dots,selectedDot:this.props.selectedDot,carouselTranslateX:this.props.carouselTranslateX,carouselDotTranslateX:this.props.carouselDotTranslateX,onClickLeftCarouselArrow:this.onClickLeftCarouselArrow,onClickRightCarouselArrow:this.onClickRightCarouselArrow,onClickCarouselDot:this.onClickCarouselDot,onClickGoToFirstSlide:this.onClickGoToFirstSlide,carouselRef:this.setCarouselRef,swiperRef:this.setSwiperRef,loadedLastPlayedGame:this.props.loadedLastPlayedGame,onClickGameImage:this.onClickGameImage,isInMobileView:this.props.isInMobileView,hasComputedGameByInstallmentId:!1,onClickGoBack:this.onClickGoBack,isDeclinedState:this.props.isDeclinedState,isShownGameStats:this.props.isShownGameStats,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showNameHeaderOnFriendsDetails:this.props.showNameHeaderOnFriendsDetails,onClickClose:this.onClickClose,nbFriendsPlaying:this.props.nbFriendsPlaying,platformSelectorContentWidth:this.props.platformSelectorContentWidth,moment:__WEBPACK_IMPORTED_MODULE_28_moment___default.a,currentLastPlayedGameId:this.props.currentLastPlayedGameId,currentFriendToDeleteId:this.props.currentFriendToDeleteId,onClickConfirmRemove:this.onClickConfirmRemove,onClickCancelRemove:this.onClickCancelRemove},React.createElement(__WEBPACK_IMPORTED_MODULE_25__SelectedFriendProfileStatsController__.a,{_detailsScrollableRef:this.props._detailsScrollableRef}))}},{key:"componentDidUpdate",value:function(prevProps){prevProps.loadedGame!==this.props.loadedGame&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_27__messages__.d.FRIENDS),prevProps.hasLastPlayedGame!==this.props.hasLastPlayedGame&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_27__messages__.d.FRIENDS),prevProps.isLoadedGameStats!==this.props.isLoadedGameStats&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_27__messages__.d.FRIENDS)}},{key:"onClickRemove",value:function(userId,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.friendProfileService.onHandleClickRemove(userId);case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickView",value:function(clubUrl,locale,userName,e){e.preventDefault(),this.onRedirectToFriend(clubUrl,locale,userName)}},{key:"onChangePlatform",value:function(spaceId,gameId,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.props.friendProfileService.onChangePlatform(spaceId,gameId);case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickGameStats",value:function(e){e.preventDefault(),this.props._detailsScrollableRef&&this.props._detailsScrollableRef.scrollToTop(),this.props.friendProfileService.onToggleShowGameStats(!0,this.props._detailsScrollableRef)}},{key:"onClickLeftCarouselArrow",value:function(){this.props.friendProfileService.onClickLeftCarouselArrow(this._carouselRef)}},{key:"onClickRightCarouselArrow",value:function(){this.props.friendProfileService.onClickRightCarouselArrow(this._carouselRef)}},{key:"onClickCarouselDot",value:function(selectedDot,e){this.props.friendProfileService.onClickCarouselDot(selectedDot,this._carouselRef)}},{key:"onClickGoToFirstSlide",value:function(){this.props.friendProfileService.onClickGoToFirstSlide()}},{key:"onClickGameImage",value:function(offset,id,spaceId,platformCode,e){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return e.preventDefault(),this.props._detailsScrollableRef&&this.props._detailsScrollableRef.scrollToTop(),_context3.next=4,this.props.friendProfileService.onClickGameImage(offset,id,spaceId,platformCode);case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"handleSwipe",value:function(payload){this.props.onSwipeFriendsGames(!0)}},{key:"handleSwipeEnd",value:function(){this.props.onSwipeFriendsGames(!1)}},{key:"onClickGoBack",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.props.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_23__entities_OverviewTabDetails__.a.FRIEND_VIEW);case 2:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"onRedirectToFriend",value:function(clubUrl,locale,userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,clubUrl,locale)}},{key:"onClickClose",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.props.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_23__entities_OverviewTabDetails__.a.FRIEND_VIEW);case 2:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"onClickConfirmRemove",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.props.friendProfileService.onHandleClickConfirmRemove(userId);case 2:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"onClickCancelRemove",value:function(userId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,this.props.friendProfileService.onHandleClickCancelRemove(userId);case 2:case"end":return _context7.stop()}},_callee7,this)}))}}]),FriendProfileController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);FriendProfileController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({friendProfileService:__WEBPACK_IMPORTED_MODULE_6__services_FriendProfileService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_19__modules_integrator_communication_services_FriendsCommunicationService__.a,friendsActionsService:__WEBPACK_IMPORTED_MODULE_21__services_FriendsActionsService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_22__modules_integrator_communication_services_CommunicationService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({clubUrl:__WEBPACK_IMPORTED_MODULE_11__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_12__stejar_translate__.LocaleQueries.getCurrentLocale,loadedGame:!1,loadedLastPlayedGame:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getLoadedFriendGames,platformsForSelect:[],friendsPlaying:[],lastPlayedGameStats:[],otherGames:[],dots:[],statsCDNUrl:__WEBPACK_IMPORTED_MODULE_11__modules_configuration_queries_ConfigurationQueries__.a.getStatsCDNUrl,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_20__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,isDeclinedState:__WEBPACK_IMPORTED_MODULE_24__stores_FriendsActionsStore__.a.getIsDeclined,isShownGameStats:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getIsShownGameStats,isInMobileView:__WEBPACK_IMPORTED_MODULE_26__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_26__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showNameHeaderOnFriendsDetails:__WEBPACK_IMPORTED_MODULE_26__queries_WidgetQueries__.a.getShowNameHeaderOnFriendsDetails,currentFriendToDeleteId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCurrentFriendToDeleteId},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_10__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({friendId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCurrentFriendId,friendAvatarUrl:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendLargeAvatar,friendName:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCurrentFriendName})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7__stores_ClubProfilesStore__.a.loadedFriendsProfiles,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({friendLevel:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getCurrentFriendLevel}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({friendLevel:0})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_16__stores_ConnectionsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_14__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_15__stores_UserProfilesStore__.a.loadedFriendsProfiles(state)&&__WEBPACK_IMPORTED_MODULE_13__stores_GamesStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isOnline:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getCurrentFriendIsOnline,isCurrentlyPlayingAGame:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getCurrentFriendIsCurrentlyPlayingAGame})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_13__stores_GamesStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({loadedGame:!0,hasLastPlayedGame:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getHasGamesPlayed,hasOtherGamesPlayed:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getHasGamesPlayed,gameDate:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameDate,gameTitle:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameTitle,gameId:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameId,gameImageUrl:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameImageUrl,lastPlayedGameCoverUrl:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameCoverUrl,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getSelectedPlatformCode,platformsForSelect:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getLastPlayedGameFilteredOwnedPlatfroms,platformSelectorContentWidth:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getPlatformSelectorContentWidth,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getHasOnlyOnePlatform,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getHasOwnedPlatforms,spaceId:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedSpaceId,otherGames:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendGamesPlayed,dots:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getFriendGamesPlayedDots,selectedDot:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCurrentDot,carouselTranslateX:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCarouselTranslateX,carouselDotTranslateX:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCarouselDotTranslateX,currentLastPlayedGameId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_14__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_18__stores_FriendsPlayingGameStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_13__stores_GamesStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({nbFriendsPlaying:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getNbOfFriendsPlayingGame,loadedFriends:!0})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_14__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_18__stores_FriendsPlayingGameStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_13__stores_GamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_17__stores_GameStatsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_17__stores_GameStatsStore__.a.loadedFriendsStats(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({hasLastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.hasLastPlayedGameStats,lastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_8__queries_FriendProfileQueries__.a.getLastPlayedGameStatsWithRank,isLoadedGameStats:!0})))),__metadata("design:paramtypes",[])],FriendProfileController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(59)),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_5_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_translate__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_6_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_7_app_selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_spark_overlay__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_11_app_modules_swiper_services_Swiper__=__webpack_require__(97),__WEBPACK_IMPORTED_MODULE_12_app_modules_locale_queries_CustomTranslateQueries__=__webpack_require__(179),__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_15_app_modules_integrator_configuration_entities_IntegratorConfig__=__webpack_require__(178),__WEBPACK_IMPORTED_MODULE_16_messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_17_app_modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_18__services_FriendsActionsService__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_19__selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_21__AddFriendsController__=__webpack_require__(728),__WEBPACK_IMPORTED_MODULE_22__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_23__FriendProfileController__=__webpack_require__(729),__WEBPACK_IMPORTED_MODULE_24__services_FriendProfileService__=__webpack_require__(274),__WEBPACK_IMPORTED_MODULE_25__stores_FriendProfileStore__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_26_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_26_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_26_moment__),__WEBPACK_IMPORTED_MODULE_27__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_28_ubisoft_api__=__webpack_require__(10);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_28_ubisoft_api__);__webpack_require__.d(exports,"a",function(){return FriendsActivityFeedController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsActivityFeedController=function(_PureComponent){function FriendsActivityFeedController(){_classCallCheck(this,FriendsActivityFeedController);var _this=_possibleConstructorReturn(this,(FriendsActivityFeedController.__proto__||Object.getPrototypeOf(FriendsActivityFeedController)).apply(this,arguments));return _this.state={isSwipingRecentlyMet:!1,isSwipingFriendsGames:!1,nameToFilterBy:""},_this.scrollableRef=function(el){return _this._scrollableRef=el},_this.detailsScrollableRef=function(el){return _this._detailsScrollableRef=el},_this}return _inherits(FriendsActivityFeedController,_PureComponent),_createClass(FriendsActivityFeedController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_6_spark_overlay__.FriendsActivityFeedView,{swipeRef:this.setSwipeRef,show:this.props.show,height:this.props.height,isInMobileView:this.props.isInMobileView,isLoading:this.props.isLoading,friends:this.props.friends,clubUrl:this.props.clubUrl,locale:this.props.locale,isPostManOnClick:this.props.clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_15_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_POST_MESSAGE,onClickFriend:this.onClickFriend,onClickNoFriendsLink:this.onClickNoFriendsLink,handleCloseIconOnClick:this.handleCloseIconOnClick,showFriendView:!0,showNotifications:this.props.showNotifications,widgetHeight:this.props.widgetHeight,isIsoVersionLowerThanNine:this.props.isIsoVersionLowerThanNine,isInDesktopResize:this.props.isInDesktopResize,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,isStillLoading:this.props.isStillLoading,hasFriendsFound:this.props.hasFriendsFound,onChangeNameToFilterBy:this.onChangeNameToFilterBy,filterText:this.props.filterText,nameToFilterBy:this.state.nameToFilterBy,numberOfFriendsOnline:this.props.nbConnections,numberOfTotalFriends:this.props.numberOfTotalFriends,isOnIpad:this.props.isOnIpad,isLoadingFriendRequests:this.props.isLoadingFriendRequests,friendRequests:this.props.friendRequests||[],showLessFriendRequestsLink:!this.props.showMoreFriendRequests,showMoreFriendRequestsLink:this.props.showMoreFriendRequests,nbFriendRequests:this.props.nbFriendRequests,onClickToggleShowMoreFriendRequests:this.onClickToggleShowMoreFriendRequests,isLoadingFriendInvitations:this.props.isLoadingFriendInvitations,nbFriendInvitations:this.props.nbFriendInvitations,friendsInvitations:this.props.friendsInvitations,showMoreFriendsInvitationsLink:this.props.showMoreFriendsInvitationsLink,onClickToggleShowMoreFriendsInvitations:this.onClickToggleShowMoreFriendsInvitations,showLessFriendsInvitationsLink:!this.props.showMoreFriendsInvitationsLink,currentDeclineUserId:this.props.currentDeclineUserId,onClickFriendRequest:this.onClickFriendRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,onClickAddFriendButton:this.onClickAddFriendButton,showAddFriendTab:this.props.showAddFriendTab,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,onSwipeRecentlyMet:this.onSwipeRecentlyMet,isIos:this.props.isIos,scrollableRef:this.scrollableRef,windowHeight:this.props.windowHeight,showDetailsView:this.props.showDetailsView,showFriendsDetails:this.props.showFriendsDetails,onClickCloseDetailsTabView:this.onClickCloseDetailsTabView,showFriendProfileContent:this.props.showFriendProfileContent,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,detailsScrollableRef:this.detailsScrollableRef,handleOnScrollUpdate:this.handleOnScrollUpdate,showStatsHeaderOnFriendsDetails:this.props.showStatsHeaderOnFriendsDetails,currentFriendId:this.props.currentFriendId,showNameHeaderOnFriendsDetails:this.props.showNameHeaderOnFriendsDetails,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,moment:__WEBPACK_IMPORTED_MODULE_26_moment___default.a,trackingBannerHeight:this.props.trackingBannerHeight,collapsedHeight:this.props.collapsedHeight},this.props.showAddFriendTab?React.createElement(__WEBPACK_IMPORTED_MODULE_21__AddFriendsController__.a,{onSwipeRecentlyMet:this.onSwipeRecentlyMet}):this.props.showFriendProfileContent?React.createElement(__WEBPACK_IMPORTED_MODULE_23__FriendProfileController__.a,{onSwipeFriendsGames:this.onSwipeFriendsGames,_detailsScrollableRef:this._detailsScrollableRef}):React.createElement("noscript",null))}},{key:"componentDidMount",value:function(){this.swiper=new __WEBPACK_IMPORTED_MODULE_11_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this))}},{key:"componentDidUpdate",value:function(prevProps){return this.props.show&&!prevProps.show&&this._scrollableRef&&this._scrollableRef.scrollToTop(),this.props.showAddFriendTab&&!prevProps.showAddFriendTab&&this._scrollableRef&&this._scrollableRef.scrollToTop(),prevProps.show!==this.props.show&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_16_messages__.d.FRIENDS),prevProps.loadedOnlineFriends!==this.props.loadedOnlineFriends&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_16_messages__.d.FRIENDS),prevProps.loadedFriendsActivityFeed!==this.props.loadedFriendsActivityFeed&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_16_messages__.d.FRIENDS),prevProps.isLoadingFriendRequests!==this.props.isLoadingFriendRequests&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_16_messages__.d.FRIENDS),prevProps.showAddFriendTab!==this.props.showAddFriendTab&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_16_messages__.d.FRIENDS),prevProps.showFriendProfileContent!==this.props.showFriendProfileContent&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_16_messages__.d.FRIENDS),null}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"onClickFriend",value:function(friend,e){e.preventDefault(),this._detailsScrollableRef&&this._detailsScrollableRef.scrollToTop(),this.props.friendProfileService.onClickFriendProfile(friend.userId,friend.username)}},{key:"onClickNoFriendsLink",value:function(e){e.preventDefault(),this.props.tagCommanderService.trackEvent("Nav - Overlay - Notifications Panel - No Friend Profile","Overlay"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__.newWindow)(this.props.clubUrl+"/"+this.props.locale+"/friends"),this.props.communicationService.clickedOnCloseFriends()}},{key:"handleCloseIconOnClick",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnCloseFriends()}},{key:"handleSwipe",value:function(payload){if(!this.state.isSwipingRecentlyMet&&!this.state.isSwipingFriendsGames)return payload.swipeLeft?void this.props.communicationService.clickedOnMobilePlayerCardTab():payload.swipeRight?void this.props.communicationService.clickedOnMobileNotifications():void 0}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId,__WEBPACK_IMPORTED_MODULE_28_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsActionsService.handleAcceptRequest(userId)}},{key:"onChangeNameToFilterBy",value:function(event){this.setState({nameToFilterBy:event.target.value}),this.props.friendsCommunicationService.onChangeNameToFilterBy(event.target.value)}},{key:"onClickToggleShowMoreFriendRequests",value:function(toggle,event){this.props.friendsCommunicationService.onToggleShowMoreFriendRequests(toggle)}},{key:"onClickToggleShowMoreFriendsInvitations",value:function(toggle,event){this.props.friendsCommunicationService.onToggleShowMoreFriendsInvitations(toggle)}},{key:"onClickCancelDeclineRequest",value:function(userId,event){this.props.friendsCommunicationService.onCancelDeclineRequest(userId,__WEBPACK_IMPORTED_MODULE_28_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE)}},{key:"onClickConfirmDeclineRequest",value:function(userId,event){this.props.tagCommanderService.trackEvent("Nav - Ubibar - Accept as Friend Cancelled","Overlay"),this.props.friendsActionsService.handleDeclineRequest(userId)}},{key:"onClickAddFriendButton",value:function(){this._detailsScrollableRef&&this._detailsScrollableRef.scrollToTop(),this.props.friendsCommunicationService.showAddFriendsTab()}},{key:"onSwipeRecentlyMet",value:function(isSwipingRecentlyMet){this.setState({isSwipingRecentlyMet:isSwipingRecentlyMet})}},{key:"onSwipeFriendsGames",value:function(isSwipingFriendsGames){this.setState({isSwipingFriendsGames:isSwipingFriendsGames})}},{key:"onClickCloseDetailsTabView",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_22__entities_OverviewTabDetails__.a.FRIEND_VIEW);case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),(!this.props.showAddFriendTab&&!this.props.showFriendProfileContent||this.props.showMobileViewOnDesktop)&&this.props.communicationService.clickedOnMenu()}},{key:"handleOnScrollUpdate",value:function(value){this.props.communicationService.handleOnScrollUpdate(value,__WEBPACK_IMPORTED_MODULE_22__entities_OverviewTabDetails__.a.FRIEND_VIEW)}}]),FriendsActivityFeedController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);FriendsActivityFeedController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_communication_services_CommunicationService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_17_app_modules_integrator_communication_services_FriendsCommunicationService__.a,friendsActionsService:__WEBPACK_IMPORTED_MODULE_18__services_FriendsActionsService__.a,friendProfileService:__WEBPACK_IMPORTED_MODULE_24__services_FriendProfileService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_27__modules_tagCommander_services_TagCommanderService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({
friends:[],nbConnections:0,clubUrl:__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,friendsToAdd:[],isInMobileView:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getIsInMobileView,showNotifications:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getShowNotifications,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,loadedOnlineFriends:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.y,loadedFriendsActivityFeed:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.z,widgetHeight:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getHeight,isIsoVersionLowerThanNine:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getIsIsoVersionLowerThanNine,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getCurrentUserId,isStillLoading:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getIsStillLoading,isRightAfterLoad:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getIsRightAfterLoad,isAcceptedState:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getIsAccepted,isDeclinedState:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getIsDeclined,hasFriendsFound:!1,filterText:__WEBPACK_IMPORTED_MODULE_12_app_modules_locale_queries_CustomTranslateQueries__.a.getFilterTranslatedText,numberOfTotalFriends:0,isOnIpad:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getisOnIpad,isLoadingFriendRequests:!0,friendRequests:[],showMoreFriendRequests:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getShowMoreFriendRequests,showMoreFriendsInvitationsLink:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getShowMoreFriendInvitations,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,showAddFriendTab:__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getShowAddFriendsTab,isIos:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getIsIos,windowHeight:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getParentHeight,showDetailsView:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getShowDetailsView,showFriendsDetails:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getShowFriendsDetails,showFriendProfileContent:__WEBPACK_IMPORTED_MODULE_25__stores_FriendProfileStore__.a.getShowGameContent,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getShowStatsHeaderOnFriendsDetails,currentFriendId:__WEBPACK_IMPORTED_MODULE_25__stores_FriendProfileStore__.a.getCurrentFriendId,showNameHeaderOnFriendsDetails:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getShowNameHeaderOnFriendsDetails,scrollbarWidth:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarWidth,trackingBannerHeight:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getTrackingBannerHeight,collapsedHeight:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getCollapsedHeight},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7_app_selectors__.y,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7_app_selectors__.z,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!1,friends:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.A,locale:__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale,clubUrl:__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,nbConnections:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.B,hasFriendsFound:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.C,numberOfTotalFriends:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.D}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!0,friends:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.E,locale:__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale,clubUrl:__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,nbConnections:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.B,hasFriendsFound:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.F})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!0,friends:[],hasFriendsFound:!1,clubUrl:__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_19__selectors__.G,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadingFriendRequests:!1,friendRequests:__WEBPACK_IMPORTED_MODULE_19__selectors__.H,nbFriendRequests:__WEBPACK_IMPORTED_MODULE_19__selectors__.I}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadingFriendRequests:!0,friendRequests:[],nbFriendRequests:0})))))),__metadata("design:paramtypes",[])],FriendsActivityFeedController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__services_FriendsActionsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(117)),__WEBPACK_IMPORTED_MODULE_2__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_3__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_4__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_5__services_AddFriendService__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_6__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_7_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__stejar_react_di__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_8__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__stejar_redux__),__webpack_require__(85)),__WEBPACK_IMPORTED_MODULE_10__services_RecentlyMetService__=__webpack_require__(553),__WEBPACK_IMPORTED_MODULE_11__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_12__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_13__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_14_spark_overlay__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13__stejar_translate__),__webpack_require__(38)),__WEBPACK_IMPORTED_MODULE_15__stores_RecentlyMetStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_spark_overlay__),__webpack_require__(284)),__WEBPACK_IMPORTED_MODULE_16__queries_RecentlyMetQueries__=__webpack_require__(267),__WEBPACK_IMPORTED_MODULE_17__stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_18__stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_19__stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_20__stores_ChangeSlideStore__=__webpack_require__(281),__WEBPACK_IMPORTED_MODULE_21__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_22__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_23__modules_swiper_services_Swiper__=__webpack_require__(97),__WEBPACK_IMPORTED_MODULE_24__stores_ClubProfilesStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_25_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_25_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_25_moment__);__webpack_require__.d(exports,"a",function(){return RecentlyMetController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},RecentlyMetController=function(_PureComponent){function RecentlyMetController(){_classCallCheck(this,RecentlyMetController);var _this=_possibleConstructorReturn(this,(RecentlyMetController.__proto__||Object.getPrototypeOf(RecentlyMetController)).apply(this,arguments));return _this.carouselRef=function(el){return _this._carouselRef=el},_this.swiperRef=function(el){return _this.swiper=new __WEBPACK_IMPORTED_MODULE_23__modules_swiper_services_Swiper__.a(el,_this.handleSwipe.bind(_this),_this.handleSwipeEnd.bind(_this)),_this._swiperRef=el},_this}return _inherits(RecentlyMetController,_PureComponent),_createClass(RecentlyMetController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_14_spark_overlay__.RecentlyMetView,{friends:this.props.friends,onClickInviteRequest:this.onClickInviteRequest,onClickFriendRequest:this.onClickFriendRequest,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,currentDeclineUserId:this.props.currentDeclineUserId,isLoaded:this.props.isLoaded,hasFriends:this.props.hasFriends,carouselRef:this.carouselRef,selectedCarouselDot:this.props.selectedCarouselDot,carouselDots:this.props.carouselDots,carouselTranslateX:this.props.carouselTranslateX,carouselDotTranslateX:this.props.carouselDotTranslateX,onClickLeftCarouselArrow:this.onClickLeftCarouselArrow,onClickRightCarouselArrow:this.onClickRightCarouselArrow,onClickCarouselDot:this.onClickCarouselDot,onClickGoToFirstSlide:this.onClickGoToFirstSlide,isRightAfterLoad:this.props.isRightAfterLoad,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,isInMobileView:this.props.isInMobileView,swiperRef:this.swiperRef,moment:__WEBPACK_IMPORTED_MODULE_25_moment___default.a})}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:prevProps.isLoaded!==this.props.isLoaded&&this.props.showAddFriendTab&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_21__messages__.d.FRIENDS);case 1:case"end":return _context.stop()}},_callee,this)}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickCancelDeclineRequest",value:function(userId,e){this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,e){this.props.tagCommanderService.trackEvent("Nav - Ubibar - Send friend invitation Cancelled","Overlay"),this.props.friendsActionsService.handleDeclineRequest(userId)}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform,e){e.preventDefault(),this.props.addFriendService.onClickInviteRequest(pid,nameOnPlatform)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsActionsService.handleAcceptRequest(userId)}},{key:"onClickLeftCarouselArrow",value:function(e){this.props.recentlyMetService.onClickLeftCarouselArrow(this._carouselRef)}},{key:"onClickRightCarouselArrow",value:function(e){this.props.recentlyMetService.onClickRightCarouselArrow(this._carouselRef)}},{key:"onClickCarouselDot",value:function(dot,e){this.props.recentlyMetService.onClickCarouselDot(dot,this._carouselRef)}},{key:"onClickGoToFirstSlide",value:function(e){this.props.recentlyMetService.onClickGoToFirstSlide(this._carouselRef)}},{key:"handleSwipe",value:function(payload){this.props.onSwipeRecentlyMet(!0),payload.swipeRight&&this.props.recentlyMetService.onClickLeftCarouselArrow(this._carouselRef),payload.swipeLeft&&this.props.recentlyMetService.onClickRightCarouselArrow(this._carouselRef)}},{key:"handleSwipeEnd",value:function(){this.props.onSwipeRecentlyMet(!1)}}]),RecentlyMetController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);RecentlyMetController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__stejar_react_di__.inject)({friendsActionsService:__WEBPACK_IMPORTED_MODULE_1__services_FriendsActionsService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_2__modules_integrator_communication_services_FriendsCommunicationService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_3__modules_integrator_communication_services_CommunicationService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_4__modules_tagCommander_services_TagCommanderService__.a,addFriendService:__WEBPACK_IMPORTED_MODULE_5__services_AddFriendService__.a,recentlyMetService:__WEBPACK_IMPORTED_MODULE_10__services_RecentlyMetService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_8__stejar_redux__.Selector.fromState({clubUrl:__WEBPACK_IMPORTED_MODULE_12__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_13__stejar_translate__.LocaleQueries.getCurrentLocale,showAddFriendTab:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getShowAddFriendsTab,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_11__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getCurrentUserId,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,selectedCarouselDot:__WEBPACK_IMPORTED_MODULE_20__stores_ChangeSlideStore__.a.getCurrentDot,carouselTranslateX:__WEBPACK_IMPORTED_MODULE_20__stores_ChangeSlideStore__.a.getCarouselTranslateX,carouselDotTranslateX:__WEBPACK_IMPORTED_MODULE_20__stores_ChangeSlideStore__.a.getCarouselDotTranslateX,isInMobileView:__WEBPACK_IMPORTED_MODULE_22__queries_WidgetQueries__.a.getIsInMobileView,isRightAfterLoad:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getIsRightAfterLoad,isAcceptedState:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getIsAccepted,isDeclinedState:__WEBPACK_IMPORTED_MODULE_9__stores_FriendsActionsStore__.a.getIsDeclined},__WEBPACK_IMPORTED_MODULE_8__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_18__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_17__stores_GamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_15__stores_RecentlyMetStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_19__stores_UserProfilesStore__.a.loadedFriendsProfiles(state)&&__WEBPACK_IMPORTED_MODULE_24__stores_ClubProfilesStore__.a.loadedFriendsProfiles(state)},__WEBPACK_IMPORTED_MODULE_8__stejar_redux__.Selector.fromState({isLoaded:!0,friends:__WEBPACK_IMPORTED_MODULE_16__queries_RecentlyMetQueries__.a.getMyRecentlyMetFriendsForCarousel,hasFriends:__WEBPACK_IMPORTED_MODULE_16__queries_RecentlyMetQueries__.a.getHasRecentlyMetFriends,carouselDots:__WEBPACK_IMPORTED_MODULE_16__queries_RecentlyMetQueries__.a.getCarouselDots}),__WEBPACK_IMPORTED_MODULE_8__stejar_redux__.Selector.fromState({isLoaded:!1,friends:[],hasFriends:!1,carouselDots:[]})))),__metadata("design:paramtypes",[])],RecentlyMetController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__stores_GamesStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(39)),__WEBPACK_IMPORTED_MODULE_5__stores_GameStatsStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_6__stores_FriendsPlayingGameStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_7__stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_8_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_9__services_FriendProfileService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_spark_overlay__),__webpack_require__(274)),__WEBPACK_IMPORTED_MODULE_10__stores_FriendProfileStore__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_11__queries_FriendProfileQueries__=__webpack_require__(265),__WEBPACK_IMPORTED_MODULE_12__queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_13__entities_OverviewTabDetails__=__webpack_require__(53),__WEBPACK_IMPORTED_MODULE_14__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_15__stejar_translate__=__webpack_require__(25);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__stejar_translate__);__webpack_require__.d(exports,"a",function(){return SelectedFriendProfileStatsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SelectedFriendProfileStatsController=function(_PureComponent){function SelectedFriendProfileStatsController(){return _classCallCheck(this,SelectedFriendProfileStatsController),_possibleConstructorReturn(this,(SelectedFriendProfileStatsController.__proto__||Object.getPrototypeOf(SelectedFriendProfileStatsController)).apply(this,arguments))}return _inherits(SelectedFriendProfileStatsController,_PureComponent),_createClass(SelectedFriendProfileStatsController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_8_spark_overlay__.CompareGameStatsView,{gameName:this.props.gameName,selectedFriendId:this.props.selectedFriendId,lastPlayedGameId:this.props.lastPlayedGameId,hasOnlyOnePlatform:this.props.hasOnlyOnePlatform,selectedPlatformCode:this.props.selectedPlatformCode,platformsForSelect:this.props.platformsForSelect,onChangePlatform:this.onChangePlatform,loadedLastPlayedGame:this.props.loadedLastPlayedGame,hasLastPlayedGame:this.props.hasLastPlayedGame,hasOwnedPlatforms:this.props.hasOwnedPlatforms,onClickGoBack:this.onClickGoBack,gameStatsToCompareWithAFriend:this.props.gameStatsToCompareWithAFriend,isInMobileView:this.props.isInMobileView,showMobileViewOnDesktop:this.props.showMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:this.props.showStatsHeaderOnFriendsDetails,onClickClose:this.onClickClose,contentWidth:this.props.contentWidth,locale:this.props.locale})}},{key:"onChangePlatform",value:function(spaceId,gameId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.friendProfileService.onChangePlatform(spaceId,gameId);case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickGoBack",value:function(e){e.preventDefault(),this.props._detailsScrollableRef&&this.props._detailsScrollableRef.scrollToTop(),this.props.friendProfileService.onToggleShowGameStats(!1)}},{key:"onClickClose",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.props.communicationService.toggleOpenDetailsViewState(!1,__WEBPACK_IMPORTED_MODULE_13__entities_OverviewTabDetails__.a.OVERVIEW_VIEW);case 2:case"end":return _context2.stop()}},_callee2,this)}))}}]),SelectedFriendProfileStatsController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);SelectedFriendProfileStatsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({friendProfileService:__WEBPACK_IMPORTED_MODULE_9__services_FriendProfileService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_14__modules_integrator_communication_services_CommunicationService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({selectedFriendId:__WEBPACK_IMPORTED_MODULE_10__stores_FriendProfileStore__.a.getCurrentFriendId,lastPlayedGameId:__WEBPACK_IMPORTED_MODULE_10__stores_FriendProfileStore__.a.getCurrentLastPlayedGameId,platformsForSelect:[],loadedLastPlayedGame:!1,hasLastPlayedGame:!1,hasOnlyOnePlatform:!1,hasOwnedPlatforms:!1,gameStatsToCompareWithAFriend:[],isInMobileView:__WEBPACK_IMPORTED_MODULE_12__queries_WidgetQueries__.a.getIsInMobileView,showMobileViewOnDesktop:__WEBPACK_IMPORTED_MODULE_12__queries_WidgetQueries__.a.getShowMobileViewOnDesktop,showStatsHeaderOnFriendsDetails:__WEBPACK_IMPORTED_MODULE_12__queries_WidgetQueries__.a.getShowStatsHeaderOnFriendsDetails,locale:__WEBPACK_IMPORTED_MODULE_15__stejar_translate__.LocaleQueries.getCurrentLocale},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_4__stores_GamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_5__stores_GameStatsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_5__stores_GameStatsStore__.a.loadedFriendsStats(state)&&__WEBPACK_IMPORTED_MODULE_7__stores_FriendsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_6__stores_FriendsPlayingGameStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({gameName:__WEBPACK_IMPORTED_MODULE_11__queries_FriendProfileQueries__.a.getFriendCurrenGamePlayedGameTitle,selectedPlatformCode:__WEBPACK_IMPORTED_MODULE_11__queries_FriendProfileQueries__.a.getSelectedPlatformCode,contentWidth:function(){return 170},platformsForSelect:__WEBPACK_IMPORTED_MODULE_11__queries_FriendProfileQueries__.a.getLastPlayedGameFilteredOwnedPlatfroms,loadedLastPlayedGame:!0,hasLastPlayedGame:__WEBPACK_IMPORTED_MODULE_11__queries_FriendProfileQueries__.a.getHasGamesPlayed,hasOnlyOnePlatform:__WEBPACK_IMPORTED_MODULE_11__queries_FriendProfileQueries__.a.getHasOnlyOnePlatform,hasOwnedPlatforms:__WEBPACK_IMPORTED_MODULE_11__queries_FriendProfileQueries__.a.getHasOwnedPlatforms,gameStatsToCompareWithAFriend:__WEBPACK_IMPORTED_MODULE_11__queries_FriendProfileQueries__.a.getGameStatsToCompareWithAFriend})))),__metadata("design:paramtypes",[])],SelectedFriendProfileStatsController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1_spark_overlay__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(38)),__WEBPACK_IMPORTED_MODULE_2__services_FriendsActionsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_spark_overlay__),__webpack_require__(117)),__WEBPACK_IMPORTED_MODULE_3__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_5__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__=__webpack_require__(268),__WEBPACK_IMPORTED_MODULE_7__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_8_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__stejar_react_di__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__stejar_redux__),__webpack_require__(149)),__WEBPACK_IMPORTED_MODULE_11__services_SocialNetworkService__=__webpack_require__(277),__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__=__webpack_require__(547),__WEBPACK_IMPORTED_MODULE_14__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_15__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__stejar_translate__),__webpack_require__(85)),__WEBPACK_IMPORTED_MODULE_17__stores_XboxAccountsStore__=__webpack_require__(286),__WEBPACK_IMPORTED_MODULE_18__stores_PsnAccountsStore__=__webpack_require__(283),__WEBPACK_IMPORTED_MODULE_19__queries_XboxAccountsQueries__=__webpack_require__(549),__WEBPACK_IMPORTED_MODULE_20__queries_PsnAccountsQueries__=__webpack_require__(546),__WEBPACK_IMPORTED_MODULE_21__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_22__messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_23_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_23_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_23_moment__);__webpack_require__.d(exports,"a",function(){return SocialNetworksController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){
var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SocialNetworksController=function(_PureComponent){function SocialNetworksController(){return _classCallCheck(this,SocialNetworksController),_possibleConstructorReturn(this,(SocialNetworksController.__proto__||Object.getPrototypeOf(SocialNetworksController)).apply(this,arguments))}return _inherits(SocialNetworksController,_PureComponent),_createClass(SocialNetworksController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_1_spark_overlay__.SocialNetworksView,{activeTab:this.props.activeTab,clubUrl:this.props.clubUrl,locale:this.props.locale,currentFriendInvitationId:this.props.currentFriendInvitationId,currentDeclineUserId:this.props.currentDeclineUserId,showMoreLinkPsn:this.props.showMoreLinkPsn,showMoreLinkXbox:this.props.showMoreLinkXbox,showLessLinkPsn:!this.props.showMoreLinkPsn,showLessLinkXbox:!this.props.showMoreLinkXbox,isLinkedWithPsn:this.props.isLinkedWithPsn,isLinkedWithXbox:this.props.isLinkedWithXbox,isLoadinPsn:this.props.isLoadinPsn,isLoadinXbox:this.props.isLoadinXbox,isAuthExpiredOnPsn:this.props.isAuthExpiredOnPsn,isAuthExpiredOnXbox:this.props.isAuthExpiredOnXbox,isReloadFailedPsn:this.props.isReloadFailedPsn,isReloadFailedXbox:this.props.isReloadFailedXbox,hasFriendsOnPsn:this.props.hasFriendsOnPsn,hasFriendsOnXbox:this.props.hasFriendsOnXbox,friendsOnPsn:this.props.friendsOnPsn||[],friendsOnXbox:this.props.friendsOnXbox||[],nbFriendOnPsn:this.props.nbFriendOnPsn,nbFriendOnXbox:this.props.nbFriendOnXbox,onClickToggleShowMorenPsn:this.onClickToggleShowMorenPsn,onClickToggleShowMoreOnXbox:this.onClickToggleShowMoreOnXbox,onClickDeclineRequest:this.onClickDeclineRequest,onClickFriendRequest:this.onClickFriendRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,onClickLinkPsn:this.onClickLinkPsn,onClickLinkXbox:this.onClickLinkXbox,onClickInviteRequest:this.onClickInviteRequest,onClickAcceptRequest:this.onClickAcceptRequest,onClickChangeTab:this.onClickChangeTab,isRightAfterLoad:this.props.isRightAfterLoad,isStillLoading:this.props.isStillLoading,isAcceptedState:this.props.isAcceptedState,isDeclinedState:this.props.isDeclinedState,moment:__WEBPACK_IMPORTED_MODULE_23_moment___default.a})}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:(this.props.showAddFriendTab&&prevProps.showMoreLinkPsn!==this.props.showMoreLinkPsn||prevProps.showMoreLinkXbox!==this.props.showMoreLinkXbox||prevProps.isLoadinPsn!==this.props.isLoadinPsn||prevProps.isLoadinXbox!==this.props.isLoadinXbox)&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_22__messages__.d.FRIENDS);case 1:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickToggleShowMorenPsn",value:function(toggle,e){this.props.socialNetworkService.onToggleShowMorenPsn(toggle)}},{key:"onClickToggleShowMoreOnXbox",value:function(toggle,e){this.props.socialNetworkService.onToggleShowMorenXbox(toggle)}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickCancelDeclineRequest",value:function(userId,e){this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,e){e.preventDefault(),this.props.tagCommanderService.trackEvent("Nav - Ubibar - Send friend invitation Cancelled","Overlay"),this.props.friendsActionsService.handleDeclineRequest(userId)}},{key:"onClickLinkPsn",value:function(e){e.preventDefault(),this.props.socialNetworkService.onClickLinkPsn()}},{key:"onClickLinkXbox",value:function(e){e.preventDefault(),this.props.socialNetworkService.onClickLinkXbox()}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform,e){e.preventDefault(),this.props.addFriendService.onClickInviteRequest(pid,nameOnPlatform)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsActionsService.handleAcceptRequest(userId)}},{key:"onClickChangeTab",value:function(tab,e){this.props.socialNetworkService.onChangeTab(tab)}}]),SocialNetworksController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);SocialNetworksController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__stejar_react_di__.inject)({friendsActionsService:__WEBPACK_IMPORTED_MODULE_2__services_FriendsActionsService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_3__modules_integrator_communication_services_FriendsCommunicationService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_5__modules_tagCommander_services_TagCommanderService__.a,addFriendService:__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__.a,socialNetworkService:__WEBPACK_IMPORTED_MODULE_11__services_SocialNetworkService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({activeTab:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getSelectedTab,clubUrl:__WEBPACK_IMPORTED_MODULE_14__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_15__stejar_translate__.LocaleQueries.getCurrentLocale,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getCurrentUserId,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,isAuthExpiredOnPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingPsn,isAuthExpiredOnXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingXbox,isReloadFailedPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedPsn,isReloadFailedXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedXbox,showMoreLinkPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getShowMoreFriendsOnPsn,showMoreLinkXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getShowMoreFriendsOnXbox,showAddFriendTab:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getShowAddFriendsTab,isLoadinPsn:__WEBPACK_IMPORTED_MODULE_18__stores_PsnAccountsStore__.a.getIsLoading,isLoadinXbox:__WEBPACK_IMPORTED_MODULE_17__stores_XboxAccountsStore__.a.getIsLoading,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_21__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,isStillLoading:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsStillLoading,isRightAfterLoad:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsRightAfterLoad,isAcceptedState:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsAccepted,isDeclinedState:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getIsDeclined},__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isLinkedWithPsn:__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__.a.getIsLinkedWithPsn,isLinkedWithXbox:__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__.a.getIsLinkedWithXbox},__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_17__stores_XboxAccountsStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isAuthExpiredOnXbox:!1,isReloadFailedXbox:!1,hasFriendsOnXbox:!1,friendsOnXbox:[],nbFriendOnXbox:0}),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isAuthExpiredOnXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingXbox,isReloadFailedXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedXbox,hasFriendsOnXbox:__WEBPACK_IMPORTED_MODULE_19__queries_XboxAccountsQueries__.a.getHasUplayFriendsWhoAreOnXbox,friendsOnXbox:__WEBPACK_IMPORTED_MODULE_19__queries_XboxAccountsQueries__.a.getUplayFriendsWhoAreOnXboxToShow,nbFriendOnXbox:__WEBPACK_IMPORTED_MODULE_19__queries_XboxAccountsQueries__.a.getNbOfUplayFriendsWhoAreOnXbox})),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_18__stores_PsnAccountsStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isAuthExpiredOnPsn:!1,isReloadFailedPsn:!1,hasFriendsOnPsn:!1,friendsOnPsn:[],nbFriendOnPsn:0}),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isAuthExpiredOnPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingPsn,isReloadFailedPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedPsn,hasFriendsOnPsn:__WEBPACK_IMPORTED_MODULE_20__queries_PsnAccountsQueries__.a.getHasUplayFriendsWhoAreOnPsn,friendsOnPsn:__WEBPACK_IMPORTED_MODULE_20__queries_PsnAccountsQueries__.a.getUplayFriendsWhoAreOnPsnToShow,nbFriendOnPsn:__WEBPACK_IMPORTED_MODULE_20__queries_PsnAccountsQueries__.a.getNbOfUplayFriendsWhoAreOnPsn}))),{isLinkedWithPsn:!1,isLinkedWithXbox:!1}))),__metadata("design:paramtypes",[])],SocialNetworksController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_components_Login_LoginController__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__),__webpack_require__(743)),__WEBPACK_IMPORTED_MODULE_5_app_components_Overlay_OverlayController__=__webpack_require__(736),__WEBPACK_IMPORTED_MODULE_6_app_stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_7__stores_PlayerProfileStore__=__webpack_require__(282);__webpack_require__.d(exports,"a",function(){return LayoutController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LayoutController=function(_Component){function LayoutController(){return _classCallCheck(this,LayoutController),_possibleConstructorReturn(this,(LayoutController.__proto__||Object.getPrototypeOf(LayoutController)).apply(this,arguments))}return _inherits(LayoutController,_Component),_createClass(LayoutController,[{key:"render",value:function(){return this.props.isReady?React.createElement(__WEBPACK_IMPORTED_MODULE_5_app_components_Overlay_OverlayController__.a,null):React.createElement(__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_components_Login_LoginController__.a,null)}}]),LayoutController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.Component);LayoutController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.connect)(function(state,props){return __WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Selector.fromState({isReady:[__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationQueries.hasIdentity,__WEBPACK_IMPORTED_MODULE_7__stores_PlayerProfileStore__.a.loadedPlayerProfile,__WEBPACK_IMPORTED_MODULE_6_app_stores_UserProfilesStore__.a.loadedMyProfiles]})}),__metadata("design:paramtypes",[])],LayoutController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_4_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_translate__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_5_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_spark_overlay__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_8_app_modules_swiper_services_Swiper__=__webpack_require__(97),__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_11_messages__=__webpack_require__(29),__WEBPACK_IMPORTED_MODULE_12_app_selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_14__stores_NewsStore__=__webpack_require__(147),__WEBPACK_IMPORTED_MODULE_15__queries_NotificationsQueries__=__webpack_require__(266),__WEBPACK_IMPORTED_MODULE_16__stores_ProfileEntitiesStore__=__webpack_require__(148),__WEBPACK_IMPORTED_MODULE_17__stores_PopulationsStore__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_18__stejar_utils__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_19__services_BetaNotificationsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18__stejar_utils__),__webpack_require__(270)),__WEBPACK_IMPORTED_MODULE_20__modules_tagCommander_services_TagCommanderService__=__webpack_require__(37);__webpack_require__.d(exports,"a",function(){return NotificationsPanelController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},NotificationsPanelController=function(_PureComponent){function NotificationsPanelController(){_classCallCheck(this,NotificationsPanelController);var _this=_possibleConstructorReturn(this,(NotificationsPanelController.__proto__||Object.getPrototypeOf(NotificationsPanelController)).apply(this,arguments));return _this.scrollableRef=function(el){return _this._scrollableRef=el},_this}return _inherits(NotificationsPanelController,_PureComponent),_createClass(NotificationsPanelController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_5_spark_overlay__.NotificationsPanelView,{show:this.props.show,height:this.props.height,isInMobileView:this.props.isInMobileView,notifications:this.props.notifications||[],notificationsLength:this.props.notifications?this.props.notifications.length:0,isLoading:this.props.isLoading,handleCloseIconOnClick:this.handleCloseIconOnClick,swipeRef:this.setSwipeRef,clubUrl:this.props.clubUrl,locale:this.props.locale,showUserEmailVerificationButton:this.props.showUserEmailVerificationButton,isEmailVerificationSent:this.props.isEmailVerificationSent,onClickResendVerificationEmail:this.onClickResendVerificationEmail,widgetHeight:this.props.widgetHeight,isIsoVersionLowerThanNine:this.props.isIsoVersionLowerThanNine,isInDesktopResize:this.props.isInDesktopResize,isOnIpad:this.props.isOnIpad,isSafari:this.props.isSafari,isIos:this.props.isIos,scrollableRef:this.scrollableRef,windowHeight:this.props.windowHeight,onClickBeta:this.onClickBeta,isLoadedNotifications:this.props.isLoadedNotifications,scrollbarWidth:this.props.scrollbarWidth,handleOnClickMenu:this.handleOnClickMenu,trackingBannerHeight:this.props.trackingBannerHeight,collapsedHeight:this.props.collapsedHeight})}},{key:"componentDidMount",value:function(){this.swiper=new __WEBPACK_IMPORTED_MODULE_8_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this))}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(prevProps.show!==this.props.show&&this.props.show&&(this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_11_messages__.d.NOTIFICATIONS),this._scrollableRef&&this._scrollableRef.scrollToTop()),prevProps.isLoading!==this.props.isLoading&&this.props.show&&this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_11_messages__.d.NOTIFICATIONS),prevProps.isLoadedNotifications===this.props.isLoadedNotifications||!this.props.show){_context.next=6;break}return this.props.communicationService.handleResizeContentHeight(__WEBPACK_IMPORTED_MODULE_11_messages__.d.NOTIFICATIONS),_context.next=6,this.props.betaNotificationsService.seenAllNotifications(this.props.show,!1,!0);case 6:return _context.abrupt("return",null);case 7:case"end":return _context.stop()}},_callee,this)}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"handleSwipe",value:function(payload){payload.swipeLeft&&this.props.communicationService.clickedOnMobileFriends()}},{key:"handleCloseIconOnClick",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnCloseNotifications()}},{key:"onClickResendVerificationEmail",value:function(e){e.preventDefault(),this.props.tagCommanderService.trackEvent("Nav - Ubibar - Notifications Panel - Verify Email","Overlay"),this.props.emailVerificationService.onTriggerEmailActivation()}},{key:"onClickBeta",value:function(betaId,betaUrle,e){var openInNewWindow=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.preventDefault(),openInNewWindow&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18__stejar_utils__.newWindow)(betaUrle),this.props.betaNotificationsService.onClickBeta(betaId),openInNewWindow||(window.location.href=betaUrle)}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnMenu()}}]),NotificationsPanelController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);NotificationsPanelController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_communication_services_CommunicationService__.a,emailVerificationService:__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_communication_services_EmailVerificationService__.a,betaNotificationsService:__WEBPACK_IMPORTED_MODULE_19__services_BetaNotificationsService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_20__modules_tagCommander_services_TagCommanderService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_react_redux__.connect)(function(){return __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getIsInMobileView,height:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getIntegratorConfigurationHeight,locale:__WEBPACK_IMPORTED_MODULE_3__stejar_translate__.LocaleQueries.getCurrentLocale,clubUrl:__WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,show:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getShowNotifications,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,showUserEmailVerificationButton:__WEBPACK_IMPORTED_MODULE_12_app_selectors__.j,isEmailVerificationSent:__WEBPACK_IMPORTED_MODULE_12_app_selectors__.J,widgetHeight:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getHeight,isIsoVersionLowerThanNine:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getIsIsoVersionLowerThanNine,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,isOnIpad:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getisOnIpad,isLoading:!1,notifications:[],isSafari:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.isSafari,isIos:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getIsIos,windowHeight:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getParentHeight,isLoadedNotifications:!1,scrollbarWidth:__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getScrollbarWidth,trackingBannerHeight:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getTrackingBannerHeight,collapsedHeight:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getCollapsedHeight},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_17__stores_PopulationsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_15__queries_NotificationsQueries__.a.getHasBetaPopulations(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_16__stores_ProfileEntitiesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_14__stores_NewsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isLoadedNotifications:!0,notifications:__WEBPACK_IMPORTED_MODULE_15__queries_NotificationsQueries__.a.getComputedNotifications}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isLoadedNotifications:!0,notifications:[]}))),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isLoadedNotifications:!0,notifications:[]}))),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isLoadedNotifications:!0,notifications:[]})))}),__metadata("design:paramtypes",[])],NotificationsPanelController)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=__webpack_require__(264),__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(145),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_9_app_components_Overlay_OverlayView__=__webpack_require__(737),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__=__webpack_require__(21),__WEBPACK_IMPORTED_MODULE_12_app_stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_13_app_selectors__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_14_app_modules_swiper_services_Swiper__=__webpack_require__(97),__WEBPACK_IMPORTED_MODULE_15_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_16_app_modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_spark_overlay__),__webpack_require__(37)),__WEBPACK_IMPORTED_MODULE_17_app_modules_avatars_queries_AvatarsQueries__=__webpack_require__(263),__WEBPACK_IMPORTED_MODULE_18_app_stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_19__stores_PopulationsStore__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_20__stores_ProfileEntitiesStore__=__webpack_require__(148),__WEBPACK_IMPORTED_MODULE_21__stores_NewsStore__=__webpack_require__(147),__WEBPACK_IMPORTED_MODULE_22__queries_NotificationsQueries__=__webpack_require__(266),__WEBPACK_IMPORTED_MODULE_23__modules_integrator_communication_services_NameChangeService__=__webpack_require__(144);
__webpack_require__.d(exports,"a",function(){return OverlayController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},OverlayController=function(_Component){function OverlayController(){return _classCallCheck(this,OverlayController),_possibleConstructorReturn(this,(OverlayController.__proto__||Object.getPrototypeOf(OverlayController)).apply(this,arguments))}return _inherits(OverlayController,_Component),_createClass(OverlayController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_9_app_components_Overlay_OverlayView__.a,{swipeRef:this.setSwipeRef,height:this.props.height,avatarUrl:this.props.avatarUrl,noActiveClickOnMenu:this.props.noActiveClickOnMenu,userId:this.props.userId,username:this.props.username,bgColor:this.props.bgColor,showFriends:this.props.showFriends,showNotifications:this.props.showNotifications,isInMobileView:this.props.isInMobileView,showMobileTabs:this.props.showMobileTabs,loadedNbOfFriendsOnline:this.props.loadedNbOfFriendsOnline,nbFriends:this.props.nbConnections,showPlayerCard:this.props.showPlayerCard,loadedNotifications:this.props.loadedNotifications,nbNotifications:this.props.nbNotifications,isInDesktopResize:this.props.isInDesktopResize&&!this.props.isInMobileView,onClickPlayerCard:this.handleOnClickPlayerCard,handleFriendsOnClick:this.handleFriendsOnClick,onClickMobilePlayerCard:this.handleOnMobileClickPlayerCard,handleFriendsOnMobileClick:this.handleFriendsOnMobileClick,handleOnClickMenu:this.handleOnClickMenu,handleNotificationsOnClick:this.handleNotificationsOnClick,handleOnMobileNotifications:this.handleOnMobileNotifications,isOnArabLocale:this.props.isOnArabLocale})}},{key:"componentDidMount",value:function(){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15_spark_overlay__.trackEventFunction)(this.props.tagCommanderService.trackEvent.bind(this.props.tagCommanderService)),this.swiper=new __WEBPACK_IMPORTED_MODULE_14_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEvents()}},{key:"handleFriendsOnClick",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnFriends()}},{key:"handleOnClickPlayerCard",value:function(e){return e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.isInMobileView||this.props.isInDesktopResize?(this.props.communicationService.clickedOnMobilePlayerCard(),null):(this.props.communicationService.clickedOnPlayerCard(),null)}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),this.props.noActiveClickOnMenu||(this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMenu())}},{key:"handleOnMobileClickPlayerCard",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobilePlayerCardTab()}},{key:"handleFriendsOnMobileClick",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobileFriends()}},{key:"handleSwipe",value:function(payload){if(this.props.showPlayerCard&&payload.swipeRight||this.props.showNotifications&&payload.swipeLeft)return void this.props.communicationService.clickedOnMobileFriends();if(this.props.showFriends){if(payload.swipeRight)return void this.props.communicationService.clickedOnMobileNotifications();if(payload.swipeLeft)return void this.props.communicationService.clickedOnMobilePlayerCardTab()}}},{key:"handleNotificationsOnClick",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnNotifications()}},{key:"handleOnMobileNotifications",value:function(e){e.preventDefault(),this.props.nameChangeService.resetErrors(),this.props.nameChangeService.resetServiceErrors(),this.props.communicationService.clickedOnMobileNotifications()}}]),OverlayController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.Component);OverlayController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_CommunicationService__.a,integratorConfigurationStore:__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a,pageLoaderService:__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_services_PageLoaderService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_16_app_modules_tagCommander_services_TagCommanderService__.a,nameChangeService:__WEBPACK_IMPORTED_MODULE_23__modules_integrator_communication_services_NameChangeService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__.connect)(function(){return __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({showFriends:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowFriends,showPlayerCard:__WEBPACK_IMPORTED_MODULE_13_app_selectors__.m,showNotifications:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowNotifications,isInMobileView:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getIsInMobileView,showMobileTabs:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowMobileTabs,noActiveClickOnMenu:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getNoActiveClickOnMenu,height:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getIntegratorConfigurationHeight,loadedNotifications:function(state){return __WEBPACK_IMPORTED_MODULE_19__stores_PopulationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_20__stores_ProfileEntitiesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_21__stores_NewsStore__.a.loaded(state)},nbNotifications:0,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,isOnArabLocale:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getIsOnArabLocale},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__.AuthenticationQueries.hasIdentity,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({bgColor:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getBackgroundColor,userId:__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getUserId,avatarUrl:__WEBPACK_IMPORTED_MODULE_17_app_modules_avatars_queries_AvatarsQueries__.a.getMyAvatar,nbNotifications:__WEBPACK_IMPORTED_MODULE_13_app_selectors__.l},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_12_app_stores_UserProfilesStore__.a.loadedMyProfiles,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({username:__WEBPACK_IMPORTED_MODULE_13_app_selectors__.g})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_18_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({loadedNbOfFriendsOnline:!0,nbConnections:__WEBPACK_IMPORTED_MODULE_13_app_selectors__.I}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({loadedNbOfFriendsOnline:!1,nbConnections:0})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_19__stores_PopulationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_20__stores_ProfileEntitiesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_21__stores_NewsStore__.a.loaded(state)},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({nbNotifications:__WEBPACK_IMPORTED_MODULE_22__queries_NotificationsQueries__.a.getNbOfNotifications}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({nbNotifications:0})))))}),__metadata("design:paramtypes",[])],OverlayController)},function(module,exports,__webpack_require__){"use strict";function OverlayView(props){return React.createElement(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__.OverlayView,{height:props.height,bgColor:props.bgColor,handleOnClickMenu:props.handleOnClickMenu},React.createElement(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__.FriendsNotificationView,{nbFriends:props.nbFriends,loaded:props.loadedNbOfFriendsOnline,handleFriendsOnClick:props.handleFriendsOnClick,showFriends:props.showFriends,showNotifications:props.showNotifications,loadedNotifications:props.loadedNotifications,handleNotificationsOnClick:props.handleNotificationsOnClick,nbNotifications:props.nbNotifications,isInDesktopResize:props.isInDesktopResize,isOnArabLocale:props.isOnArabLocale},React.createElement(__WEBPACK_IMPORTED_MODULE_2__FriendsActivityFeed_FriendsActivityFeedController__.a,{show:props.showFriends,height:props.height,isInMobileView:props.isInMobileView}),React.createElement(__WEBPACK_IMPORTED_MODULE_3_app_components_NotificationsPanel_NotificationsPanelController__.a,null),React.createElement(__WEBPACK_IMPORTED_MODULE_1_app_components_Expanded_ExpandedController__.a,{show:props.showPlayerCard||props.isInMobileView&&props.showMobileTabs,avatarUrl:props.avatarUrl})),React.createElement(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__.CollapsedView,{avatarUrl:props.avatarUrl,username:props.username,isActive:props.showPlayerCard,showMobileTabs:props.showMobileTabs,isInMobileView:props.isInMobileView,onClick:props.onClickPlayerCard,hasNotifications:props.nbNotifications>0||props.nbFriends>0,isInDesktopResize:props.isInDesktopResize,showPlayerCard:props.showPlayerCard,showFriends:props.showFriends,showNotifications:props.showNotifications}),React.createElement(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__.MobileNavView,{swipeRef:props.swipeRef,handleFriendsOnClick:props.handleFriendsOnMobileClick,onClickPlayerCard:props.onClickMobilePlayerCard,nbFriends:props.nbFriends,isVisible:props.isInMobileView,showPlayerCard:props.showPlayerCard,showFriends:props.showFriends,showMobileTabs:props.showMobileTabs,showNotifications:props.showNotifications,handleNotificationsOnClick:props.handleOnMobileNotifications,nbNotifications:props.nbNotifications,isInDesktopResize:props.isInDesktopResize,handleOnClickMenu:props.handleOnClickMenu}))}var __WEBPACK_IMPORTED_MODULE_0_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_1_app_components_Expanded_ExpandedController__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__),__webpack_require__(724)),__WEBPACK_IMPORTED_MODULE_2__FriendsActivityFeed_FriendsActivityFeedController__=__webpack_require__(730),__WEBPACK_IMPORTED_MODULE_3_app_components_NotificationsPanel_NotificationsPanelController__=__webpack_require__(735);exports.a=OverlayView},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return AVATAR_TABS});var AVATAR_TABS;!function(AVATAR_TABS){AVATAR_TABS[AVATAR_TABS.GALLERY_AVATAR_TAB="GALLERY_AVATAR_TAB"]="GALLERY_AVATAR_TAB",AVATAR_TABS[AVATAR_TABS.UPLOAD_AVATAR_TAB="UPLOAD_AVATAR_TAB"]="UPLOAD_AVATAR_TAB"}(AVATAR_TABS||(AVATAR_TABS={}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return maxOvelayHeight});var maxOvelayHeight=695},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return IMAGE_MIN_SIZE});var IMAGE_MIN_SIZE=500},function(module,exports,__webpack_require__){"use strict";function _401Factory(serviceManager){var isReconnecting=!1,counter=0,channel=serviceManager.get(__WEBPACK_IMPORTED_MODULE_6__services_WidgetChannelService__.a);serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).addResponseErrorInterceptor(function(response){if(401===response.statusCode&&4032===response.data.ErrorCode&&"MissingSso"==response.data.ErrorMessage)return Promise.reject(response);if(401===response.statusCode&&401013===response.data.errorCode&&"Access denied to the service"==response.data.message)return Promise.reject(response);if(401===response.statusCode&&401011===response.data.errorCode&&"Invalid Ubi-AppId"==response.data.message)return Promise.reject(response);if(401===response.statusCode&&4003===response.data.ErrorCode||400===response.statusCode&&4009===response.data.ErrorCode||403===response.statusCode&&3001===response.data.ErrorCode&&"PrivateSteamProfile"==response.data.errorMessage)return Promise.reject(response);if(403===response.statusCode&&"PromotionKeyRewards"===response.data.errorContext)switch(response.data.errorCode){case 1e3:case 1008:switch(response.data.message){case"ticket not valid":case"ticket profile not valid":case"ticket profile request not valid":console.warn("[401] 401 => PromotionKeyRewards => CASES");break;default:return console.warn("[401] 401 => PromotionKeyRewards => Default"),Promise.reject(response)}}return 401===response.statusCode||403===response.statusCode&&0===counter?(console.warn("[401] GOT 401 for "+response.request.getPath()),console.warn("[401] Old ticket was: "+__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).ticket),console.warn("[401] Headers are: "+JSON.stringify(response.request.getHeaderParams())),isReconnecting?(console.warn("[401] Is Reconnecting"),new Promise(function(resolve){setTimeout(function(){return isReconnecting?void console.warn("[401] Is **STIL** Reconnecting"):(console.warn("[401] Done"),response.request.getHeaderParams()["Ubi-SessionId"]&&(response.request=response.request.header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).sessionId)),response.request.getHeaderParams().Authorization&&(response.request=response.request.header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).ticket)),response.request.getHeaderParams().token&&(response.request=response.request.header("Token",__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).token)),void resolve(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(response.request)))},5e3)})):(isReconnecting=!0,counter++,new Promise(function(resolve,reject){return console.warn("[401] Getting ticket ..."),channel.send(__WEBPACK_IMPORTED_MODULE_5__messages__.a.INTEGRATOR_401_FLOW),new Promise(function(){channel.subscribe(__WEBPACK_IMPORTED_MODULE_5__messages__.a.WIDGET_401_FLOW_NO_TICKET,function(){return serviceManager.get(__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_communication_services_CommunicationService__.a).clickedOnLogout(),reject(response)}),channel.subscribe(__WEBPACK_IMPORTED_MODULE_5__messages__.a.WIDGET_401_FLOW_GOT_TICKET,function(getTicketResponse){return serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).dispatch(new __WEBPACK_IMPORTED_MODULE_7__actions_WritteCONNECTloginDataAction__.a({opId:getTicketResponse.opId,ticket:getTicketResponse.payload.ticket,token:getTicketResponse.payload.token,user_id:getTicketResponse.payload.userId,sessionId:getTicketResponse.payload.sessionId,expiration:getTicketResponse.payload.expiration})),serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).dispatch(new __WEBPACK_IMPORTED_MODULE_4__stejar_authentication__.AuthenticatedAction({opId:getTicketResponse.opId,ticket:getTicketResponse.payload.ticket,token:getTicketResponse.payload.token,user_id:getTicketResponse.payload.userId,sessionId:getTicketResponse.payload.sessionId,expiration:getTicketResponse.payload.expiration})),isReconnecting=!1,response.request.getHeaderParams()["Ubi-SessionId"]&&(response.request=response.request.header("Ubi-SessionId",getTicketResponse.payload.sessionId)),response.request.getHeaderParams().token&&(response.request=response.request.header("token",getTicketResponse.payload.token)),response.request.getHeaderParams().Authorization&&(response.request=response.request.header("Authorization","Ubi_v1 t="+getTicketResponse.payload.ticket)),response.request.getHeaderParams().Authorization&&(response.request=response.request.header("Authorization","Ubi_v1 t="+getTicketResponse.payload.ticket)),console.warn("[401] Final request:"),console.warn(response.request),resolve(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(response.request).then(function(data){return counter=0,data}))})})}))):Promise.reject(response)})}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_5__messages__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_6__services_WidgetChannelService__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_7__actions_WritteCONNECTloginDataAction__=__webpack_require__(261);exports.a=_401Factory},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__queries_WidgetQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(21)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3__actions_DeleteCONNECTloginDataAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(167));__webpack_require__.d(exports,"a",function(){return AuthenticationAdapter});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AuthenticationAdapter=function(){function AuthenticationAdapter(serviceManager){_classCallCheck(this,AuthenticationAdapter),this.serviceManager=serviceManager}return _createClass(AuthenticationAdapter,[{key:"refreshIdentity",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.authenticate();case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}))}},{key:"authenticate",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var _this=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_1__queries_WidgetQueries__.a.getCONNECTloginData(this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store).getState())){_context2.next=6;break}return _context2.next=3,new Promise(function(resolve){return resolve(__WEBPACK_IMPORTED_MODULE_1__queries_WidgetQueries__.a.getCONNECTloginData(_this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store).getState()))});case 3:return _context2.abrupt("return",_context2.sent);case 6:return _context2.next=8,new Promise(function(resolve){return resolve(null)});case 8:return _context2.abrupt("return",_context2.sent);case 9:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"logout",value:function(identity){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store).dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_DeleteCONNECTloginDataAction__.a),_context3.abrupt("return",new Promise(function(resolve){return resolve(!0)}));case 2:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"getRole",value:function(identity){return"member"}}]),AuthenticationAdapter}();AuthenticationAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_0__stejar_di__.ServiceManager])],AuthenticationAdapter)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(33),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(121)),__WEBPACK_IMPORTED_MODULE_4_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_components_Login_LoginView__=__webpack_require__(744),__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_configuration_entities_IntegratorConfig__=__webpack_require__(178),__WEBPACK_IMPORTED_MODULE_8_app_services_BootstrapService__=__webpack_require__(271),__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_10_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(145),__WEBPACK_IMPORTED_MODULE_11_app_modules_tagCommander_services_TagCommanderService__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_12_app_queries_WidgetQueries__=__webpack_require__(21);__webpack_require__.d(exports,"a",function(){return LoginController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LoginController=function(_PureComponent){function LoginController(){_classCallCheck(this,LoginController);var _this=_possibleConstructorReturn(this,(LoginController.__proto__||Object.getPrototypeOf(LoginController)).apply(this,arguments));return _this.state={show:!0,display:!0},_this.listeners=[],_this}return _inherits(LoginController,_PureComponent),_createClass(LoginController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_components_Login_LoginView__.a,{onClickLogin:this.handleOnClickLogin,show:this.state.show,display:this.state.display,showSignInText:this.props.showSignInText,isInMobileView:this.props.isInMobileView})}},{key:"componentDidMount",value:function(){var _this2=this;return this.listeners.push(this.props.pageLoaderService.show$.subscribe(function(show){return _this2.setState({show:show})})),this.listeners.push(this.props.pageLoaderService.display$.subscribe(function(display){return _this2.setState({display:display})})),null}},{key:"componentWillUnmount",value:function(){this.listeners.forEach(function(listener){return listener()}),this.listeners=[]}},{key:"handleOnClickLogin",value:function(){this.props.tagCommanderService.trackEvent("Nav - Ubibar - Log in","Overlay");var loginUrl=this.props.loginUrl;try{if(localStorage.setItem("hasLocalStorage","true"),this.props.hasExternalLoginType)return this.props.communicationService.popupWindow(loginUrl,"Ubisoft Connect",480,800),null;if(navigator.userAgent.match(/Trident.*rv[ :]*11\./))return this.props.communicationService.openLoginModal(loginUrl),null;if(navigator.userAgent.match("CriOS")&&navigator.userAgent.match(/iphone|ipod|ipad/i))return this.props.communicationService.openLoginModal(loginUrl),null;if(navigator.userAgent.match(/Version\/[\d\.]+.*Safari/))return this.props.communicationService.popupWindow(loginUrl,"Ubisoft Connect",480,800),null;switch(this.props.loginType){case __WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_configuration_entities_IntegratorConfig__.a.LOGIN_TYPE_MODAL:this.props.communicationService.openLoginModal(loginUrl);break;case __WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_configuration_entities_IntegratorConfig__.a.LOGIN_TYPE_POPUP:this.props.communicationService.popupWindow(loginUrl,"Ubisoft Connect",480,800)}return null}catch(e){return this.props.communicationService.popupWindow(loginUrl,"Ubisoft Connect",480,800),null}}}]),LoginController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);LoginController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({bootstrapService:__WEBPACK_IMPORTED_MODULE_8_app_services_BootstrapService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_communication_services_CommunicationService__.a,pageLoaderService:__WEBPACK_IMPORTED_MODULE_10_app_modules_pageLoader_services_PageLoaderService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_11_app_modules_tagCommander_services_TagCommanderService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({loginType:__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLoginType,configuration:__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__.ConfigurationQueries.getConfiguration,showSignInText:__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getShowSignInText,isInMobileView:__WEBPACK_IMPORTED_MODULE_12_app_queries_WidgetQueries__.a.getIsInMobileView,hasExternalLoginType:__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasExternalLoginType,externalLoginType:__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getExternalLoginType,
parentUrl:__WEBPACK_IMPORTED_MODULE_12_app_queries_WidgetQueries__.a.getParentUrl,loginUrl:__WEBPACK_IMPORTED_MODULE_12_app_queries_WidgetQueries__.a.getConnectLoginUrl})),__metadata("design:paramtypes",[])],LoginController)},function(module,exports,__webpack_require__){"use strict";function LoginView(props){return React.createElement("a",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("LoginView",{"is-loading":props.show&&props.display,"with-login-text":props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.c.AVATAR_SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.c.SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.c.TRUE||1==props.showSignInText}),onClick:props.onClickLogin},props.showSignInText!=__WEBPACK_IMPORTED_MODULE_2__messages__.c.AVATAR_SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_2__messages__.c.TRUE&&1!=props.showSignInText||props.isInMobileView?null:React.createElement("div",{className:"login-avatar"}),props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.c.AVATAR_SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.c.SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.c.TRUE||1==props.showSignInText?React.createElement("span",{className:"login-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.Translate,null,"Log In")):null)}var __WEBPACK_IMPORTED_MODULE_0__stejar_translate__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_1_classnames__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_translate__),__webpack_require__(4)),__WEBPACK_IMPORTED_MODULE_1_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__),__WEBPACK_IMPORTED_MODULE_2__messages__=__webpack_require__(29);exports.a=LoginView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_adapters_AuthenticationAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(742));__webpack_require__.d(exports,"a",function(){return AuthenticationProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AuthenticationProvider=function(){function AuthenticationProvider(){_classCallCheck(this,AuthenticationProvider)}return _createClass(AuthenticationProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.AuthenticationService}},{key:"provide",value:function(serviceManager){return new __WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.AuthenticationService(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store),new __WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_adapters_AuthenticationAdapter__.a(serviceManager))}}]),AuthenticationProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_http__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(100)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_http__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__services_WidgetChannelService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(98)),__WEBPACK_IMPORTED_MODULE_4__messages__=__webpack_require__(29);__webpack_require__.d(exports,"a",function(){return ConfigurationFromRequestAdapter});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ConfigurationFromRequestAdapter=function(){function ConfigurationFromRequestAdapter(version,build,service,apiConfigurationService,serviceManager){_classCallCheck(this,ConfigurationFromRequestAdapter),this.version=version,this.build=build,this.service=service,this.apiConfigurationService=apiConfigurationService,this.serviceManager=serviceManager}return _createClass(ConfigurationFromRequestAdapter,[{key:"loadConfiguration",value:function(env){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var request,localeStorageEnv,_this=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:request=new __WEBPACK_IMPORTED_MODULE_1__stejar_http__.HttpRequest(__webpack_require__(184)),_context.prev=1,localStorage.getItem("overlay-env-v3")&&(localeStorageEnv=localStorage.getItem("overlay-env-v3").replace(/"/g,""),localeStorageEnv="local"==localeStorageEnv?"env":localeStorageEnv,request=new __WEBPACK_IMPORTED_MODULE_1__stejar_http__.HttpRequest(__webpack_require__(165)("./"+localeStorageEnv+".json"))),_context.next=10;break;case 5:return _context.prev=5,_context.t0=_context["catch"](1),this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_3__services_WidgetChannelService__.a).send(__WEBPACK_IMPORTED_MODULE_4__messages__.a.INTEGRATOR_GET_ENV),_context.next=10,new Promise(function(resolve){_this.serviceManager.get(__WEBPACK_IMPORTED_MODULE_3__services_WidgetChannelService__.a).subscribe(__WEBPACK_IMPORTED_MODULE_4__messages__.a.WIDGET_GET_ENV,function(env){if(env){var _localeStorageEnv=env.replace(/"/g,"");return _localeStorageEnv="local"==_localeStorageEnv?"env":_localeStorageEnv,request=new __WEBPACK_IMPORTED_MODULE_1__stejar_http__.HttpRequest(__webpack_require__(165)("./"+_localeStorageEnv+".json")),resolve()}resolve()})});case 10:return env&&(request=new __WEBPACK_IMPORTED_MODULE_1__stejar_http__.HttpRequest(__webpack_require__(165)("./"+("local"==env?"env":env)+".json"))),_context.abrupt("return",this.service.send(request).then(function(response){return JSON.parse(response.data.replace("module.exports = ","").replace("};","}"))}).then(function(config){_this.apiConfigurationService.getConfig().env!==config.apiEnv&&_this.apiConfigurationService.changeConfig(config.apiEnv);try{localStorage.getItem("@configVersion")!==config.version,localStorage.getItem("@npmVersion")!==_this.version,localStorage.getItem("@buildVersion")!==_this.build,localStorage.setItem("@configVersion",config.version||"default"),localStorage.setItem("@npmVersion",_this.version||"default"),localStorage.setItem("@buildVersion",_this.build||"default")}catch(err){console.warn(err)}return config})["catch"](function(error){console.warn(error)}));case 12:case"end":return _context.stop()}},_callee,this,[[1,5]])}))}}]),ConfigurationFromRequestAdapter}();ConfigurationFromRequestAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[String,String,__WEBPACK_IMPORTED_MODULE_1__stejar_http__.HttpService,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.ApiConfigurationService,__WEBPACK_IMPORTED_MODULE_0__stejar_di__.ServiceManager])],ConfigurationFromRequestAdapter)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__);__webpack_require__.d(exports,"a",function(){return ConfigurationFromWebpackAdapter});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ConfigurationFromWebpackAdapter=function(){function ConfigurationFromWebpackAdapter(version,build,config){_classCallCheck(this,ConfigurationFromWebpackAdapter),this.version=version,this.build=build,this.config=config}return _createClass(ConfigurationFromWebpackAdapter,[{key:"loadConfiguration",value:function(env){var _this=this,config=JSON.parse(this.config);return new Promise(function(resolve,reject){try{localStorage.getItem("@configVersion")!==config.version,localStorage.getItem("@npmVersion")!==_this.version,localStorage.getItem("@buildVersion")!==_this.build,localStorage.setItem("@configVersion",config.version||"default"),localStorage.setItem("@npmVersion",_this.version||"default"),localStorage.setItem("@buildVersion",_this.build||"default")}catch(err){return resolve(config)}return resolve(config)})}}]),ConfigurationFromWebpackAdapter}();ConfigurationFromWebpackAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[String,String,String])],ConfigurationFromWebpackAdapter)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_1__stejar_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__),__webpack_require__(3));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_di__);__webpack_require__.d(exports,"a",function(){return ConnectConfigurationAdapter});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ConnectConfigurationAdapter=function(_ConnectConfiguration){function ConnectConfigurationAdapter(){return _classCallCheck(this,ConnectConfigurationAdapter),_possibleConstructorReturn(this,(ConnectConfigurationAdapter.__proto__||Object.getPrototypeOf(ConnectConfigurationAdapter)).call(this))}return _inherits(ConnectConfigurationAdapter,_ConnectConfiguration),ConnectConfigurationAdapter}(__WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__.ConnectConfigurationService);ConnectConfigurationAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_1__stejar_di__.injectable,__metadata("design:paramtypes",[])],ConnectConfigurationAdapter)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__=__webpack_require__(121),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_configuration__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_configuration_adapters_ConfigurationFromRequestAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(746)),__WEBPACK_IMPORTED_MODULE_3_app_modules_configuration_adapters_ConfigurationFromWebpackAdapter__=__webpack_require__(747),__WEBPACK_IMPORTED_MODULE_4__stejar_http__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_http__),__webpack_require__(10));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__);__webpack_require__.d(exports,"a",function(){return ConfigurationProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ConfigurationProvider=function(){function ConfigurationProvider(){_classCallCheck(this,ConfigurationProvider)}return _createClass(ConfigurationProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__.ConfigurationService}},{key:"provide",value:function(serviceManager){var env="prod",version="3.0.11",build=1591183984,config='{"env":"prod","assetsUrl":"https://ubistatic2-a.akamaihd.net/overlay/overlay-connect-integration/prod/public","overlayApplicationUrl":"https://overlay.ubisoft.com/overlay-connect-integration","overlayIndexUrl":"https://connect.ubisoft.com/indexOverlay.html","baseUrl":"/","version":"3.0.11","rewardsUrl":"//static8.cdn.ubi.com/u/Uplay","apiEnv":"prod","avatarsEnv":"prod","avatarsUrl":"https://ubisoft-avatars.akamaized.net","connectEnv":"prod","tagCommanderEnv":"prod","badgesSpaceId":"348db1b4-8cdd-400c-97bd-228e6b5a3fa3","clubUrl":"https://club.ubisoft.com","accountUrl":"https://account.ubisoft.com","customerSupportUrl":"https://support.ubi.com","tagCommanderUrl":"//ubistatic-a.akamaihd.net/0106/prod/global/tracking/analyticssdk.js","twitchClientId":"6a9lcgtz1vpt9l49p1ib6alx86lczpz","enableDebug":false,"statsCDNUrl":"https://ubiservices.cdn.ubi.com","webcenterAssetsUrl":"https://ubistatic2-a.akamaihd.net/uplay-webcenter/prod","betaPopulationsSpaceId":"d1035aa9-be98-4295-8184-39a53d3aae10","betaEnitySpaceId":"dc451c3a-d711-4751-95eb-53cea444f7fd","betaType":"Overlay_Notifications","avatarsMaintenanceStartDate":"2020-05-18 06:58:00","avatarsMaintenanceEndDate":"2020-05-18 11:00:00"}';return"prod"!==env&&"cert2"!==env?new __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__.ConfigurationService(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store),new __WEBPACK_IMPORTED_MODULE_2_app_modules_configuration_adapters_ConfigurationFromRequestAdapter__.a(version,build,serviceManager.get(__WEBPACK_IMPORTED_MODULE_4__stejar_http__.HttpService),serviceManager.get(__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__.ApiConfigurationService),serviceManager)):new __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__.ConfigurationService(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store),new __WEBPACK_IMPORTED_MODULE_3_app_modules_configuration_adapters_ConfigurationFromWebpackAdapter__.a(version,build,config))}}]),ConfigurationProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_services_BootstrapService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(271)),__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_4__services_GeneralChannelService__=__webpack_require__(276),__WEBPACK_IMPORTED_MODULE_5__services_WidgetChannelService__=__webpack_require__(98),__WEBPACK_IMPORTED_MODULE_6__services_SocialNetworkService__=__webpack_require__(277),__WEBPACK_IMPORTED_MODULE_7__entities_LinkedAccounts__=__webpack_require__(541),__WEBPACK_IMPORTED_MODULE_8__messages__=__webpack_require__(29);__webpack_require__.d(exports,"a",function(){return BootstrapCommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},BootstrapCommunicationService=function(_AbstractActions){function BootstrapCommunicationService(bootstrapService,emailVerificationService,channel,overlayChannel,socialNetworkService){_classCallCheck(this,BootstrapCommunicationService);var _this=_possibleConstructorReturn(this,(BootstrapCommunicationService.__proto__||Object.getPrototypeOf(BootstrapCommunicationService)).call(this));return _this.bootstrapService=bootstrapService,_this.emailVerificationService=emailVerificationService,_this.channel=channel,_this.overlayChannel=overlayChannel,_this.socialNetworkService=socialNetworkService,_this}return _inherits(BootstrapCommunicationService,_AbstractActions),_createClass(BootstrapCommunicationService,[{key:"startCommunication",value:function(){var _this2=this;return new Promise(function(resolve){var loggedInChannel=_this2.channel.subscribe("ubisoftConnect@LOGGED_IN",function(query){_this2.overlayChannel.send(__WEBPACK_IMPORTED_MODULE_8__messages__.a.INTEGRATOR_CLOSE_LOGIN_MODAL),_this2.bootstrapService.bootstrap(!0,!1,query).then(function(){return _this2.reloadSocialNetwork(query)}),loggedInChannel()}),reInitChannel=_this2.overlayChannel.subscribe(__WEBPACK_IMPORTED_MODULE_8__messages__.a.WIDGET_RE_INIT,function(payload){_this2.bootstrapService.bootstrap(!0,payload),reInitChannel()}),emailActivationChannel=_this2.overlayChannel.subscribe(__WEBPACK_IMPORTED_MODULE_8__messages__.a.WIDGET_TRIGGER_EMAIL_ACTIVATION,function(){_this2.emailVerificationService.afterTriggeredEmailVerification(),emailActivationChannel()});return resolve()})}},{key:"reloadSocialNetwork",value:function(query){if(!query.query||query.query&&!query.query.platform)return Promise.resolve();switch(query.query.platform){case"XBOX":return this.socialNetworkService.loadXboxFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_7__entities_LinkedAccounts__.a);case"PSN":return this.socialNetworkService.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_7__entities_LinkedAccounts__.b);default:return Promise.resolve()}}}]),BootstrapCommunicationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);BootstrapCommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_app_services_BootstrapService__.a,__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_communication_services_EmailVerificationService__.a,__WEBPACK_IMPORTED_MODULE_4__services_GeneralChannelService__.a,__WEBPACK_IMPORTED_MODULE_5__services_WidgetChannelService__.a,__WEBPACK_IMPORTED_MODULE_6__services_SocialNetworkService__.a])],BootstrapCommunicationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_1__services_DebugService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__),__webpack_require__(769));__webpack_require__.d(exports,"a",function(){return ConnectService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},ConnectService=function(){function ConnectService(locale,appId,genomeId,env,enableDebug){var _this=this;_classCallCheck(this,ConnectService),this.localLoginExpirationMinutes=10,this.CONNECTerror="ConnectError",this.CONNECTloginData="ConnectLoginData",this.CONNECTssoExpiration="ConnectSsoExpiration",this.CONNECTLogOut="ConnectLogOut","undefined"==typeof window.Promise&&(window.Promise=__webpack_require__(847)),this.connectConfigurationService=new __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__.ConnectConfigurationService,this.connectConfigurationService.changeConfig(env),this.env=env,this.locale=locale;var callback=function(){return _this.locale};this.debugService=new __WEBPACK_IMPORTED_MODULE_1__services_DebugService__.a,this.ubisoftConnectService=new __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__.UbisoftConnectService({getLocaleCode:function(){return callback()},getApplicationId:function(){return appId},getGenomeId:function(){return genomeId},getIdentifier:function(){return"Ubisoft_Overlay"}},this.connectConfigurationService,this.debugService),this.ubisoftConnectService.changeGetTicketTimeout(15e3),this.ubisoftConnectService.changeScriptsTimeoutTo(15e3),enableDebug&&this.ubisoftConnectService.enableDebug()}return _createClass(ConnectService,[{key:"refreshIdentityFlow",value:function(nextUrl,payload){var _this2=this;try{var connectErrorFromLocalStorage=this.getItemFromLocalStorageKey(this.CONNECTerror),connectLoginDataFromLocalStorage=this.getItemFromLocalStorageKey(this.CONNECTloginData);if(connectLoginDataFromLocalStorage&&!payload.afterLogin&&!payload.isReInit){var expiration=connectLoginDataFromLocalStorage.expiration;if(!this.checkIfExpired(expiration))return Promise.resolve(connectLoginDataFromLocalStorage);this.removeItemFromLocalStorageKey(this.CONNECTerror),this.removeItemFromLocalStorageKey(this.CONNECTloginData),this.removeItemFromLocalStorageKey(this.CONNECTssoExpiration)}if(connectErrorFromLocalStorage&&!payload.afterLogin&&!payload.isReInit){var _expiration=connectErrorFromLocalStorage.expirationDate;if(!this.checkIfExpired(_expiration))return Promise.reject(connectErrorFromLocalStorage);this.removeItemFromLocalStorageKey(this.CONNECTerror),this.removeItemFromLocalStorageKey(this.CONNECTloginData),this.removeItemFromLocalStorageKey(this.CONNECTssoExpiration)}return(payload.afterLogin||payload.isReInit)&&(this.removeItemFromLocalStorageKey(this.CONNECTerror),this.removeItemFromLocalStorageKey(this.CONNECTloginData),this.removeItemFromLocalStorageKey(this.CONNECTssoExpiration)),this.authenticate(nextUrl,!1).then(function(data){return _this2.debugService.log(["[ConnectService] refreshIdentityFlow success",data]),Promise.resolve(data)})["catch"](function(error){return _this2.debugService.error(["[ConnectService] refreshIdentityFlow error",error]),Promise.reject(error)})}catch(error){return Promise.reject(error)}}},{key:"ssoFlow",value:function(nextUrl){var _this3=this;return this.authenticate(nextUrl,!0).then(function(data){return _this3.setItemInLocalStorageKey(_this3.CONNECTloginData,{ticket:data.ticket,user_id:data.user_id,sessionId:data.sessionId,token:data.token,expiration:data.expiration}),_this3.setItemInLocalStorageKey(_this3.CONNECTssoExpiration,data.expiration),_this3.debugService.log(["[ConnectService] ssoFlow success",data]),Promise.resolve(data)})["catch"](function(error){return _this3.setItemInLocalStorageKey(_this3.CONNECTloginData,null),_this3.setItemInLocalStorageKey(_this3.CONNECTerror,error),_this3.setItemInLocalStorageKey(_this3.CONNECTssoExpiration,error.expirationDate),_this3.debugService.log(["[ConnectService] ssoFlow error",error]),Promise.reject(error)})}},{key:"refreshStatusFlow",value:function(nextUrl,expirationDate){var data=this.getItemFromLocalStorageKey(this.CONNECTloginData)?this.getItemFromLocalStorageKey(this.CONNECTloginData):null;if(this.checkIfExpired(expirationDate)&&this.removeItemFromLocalStorageKey(this.CONNECTloginData),data)return this.debugService.log(["[ConnectService] refreshStatusFlow success",data]),new Promise(function(resolve){return resolve(data)});var error={opId:"GetTicket",errorMessage:"no login data available",status:"error",expirationDate:expirationDate};return expirationDate&&this.setItemInLocalStorageKey(this.CONNECTerror,__assign({},error)),this.debugService.error(["[ConnectService] refreshStatusFlow error",error]),new Promise(function(resolve,reject){return reject(error)})}},{key:"authenticate",value:function(nextUrl,isSsoFlow){var _this4=this;return this.check(nextUrl,isSsoFlow,!0,"authenticate").then(function(){return isSsoFlow?_this4.ubisoftConnectService.getTicketFromSsoId().then(function(data){return Promise.resolve(data)}):_this4.ubisoftConnectService.getTicket().then(function(data){return Promise.resolve(data)})})}},{key:"triggerEmailActivation",value:function(ticket,sessionId,userId,nextUrl,callback,iframeCallback){return this.ubisoftConnectService.triggerEmailActivation(ticket,sessionId,userId,function(data){data?(callback(data),iframeCallback()):callback({errorMessage:"missingTicket",opId:"TriggerEmailActivation",status:"missingTicket"})})}},{key:"logout",value:function(ticket,sessionId,nextUrl){var _this5=this;return this.removeAllOverlayDataFromLocaleStorage(),this.setItemInLocalStorageKey(this.CONNECTLogOut,"true"),this.check(nextUrl,!1,!0,"logout").then(function(){return _this5.ubisoftConnectService.logout(ticket,sessionId)})}},{key:"changeConfig",value:function(connectEnv){this.removeAllOverlayDataFromLocaleStorage(),this.connectConfigurationService.changeConfig(connectEnv),this.ubisoftConnectService.resetScriptLoading(),this.env=connectEnv}},{key:"getUserData",value:function(ticket,sessionId,userId,nextUrl,callback){var _this6=this;return this.check(nextUrl,!1,!0,"getUserData").then(function(){return _this6.ubisoftConnectService.getUserData(ticket,sessionId,userId,function(data){callback(data?data:{errorMessage:"missingTicket",
opId:"GetUserStatus",status:"missingTicket"})})})}},{key:"getLoginUrl",value:function(nextUrl,externalLoginType,isInternetExplorer){return this.ubisoftConnectService.getLoginUrl(nextUrl,externalLoginType,isInternetExplorer)}},{key:"setLocale",value:function(locale){return this.locale=locale,this.locale}},{key:"_401Flow",value:function(nextUrl,noTicketCallBack,gotTicketCallBack){var _this7=this;return this.check(nextUrl,!1,!0,"_401Flow").then(function(){window.connectSDK.getTicket().subscribe(function(getTicketResponse){return _this7.debugService.info(["[401] IN 401_stuff...",getTicketResponse]),"error"==getTicketResponse.status?void noTicketCallBack():void gotTicketCallBack(getTicketResponse)})})}},{key:"check",value:function(nextUrl){var _this8=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this),withTpc=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],component=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"check",promise=Promise.resolve();return window.Connect&&window.connectSDK||(promise=this.ubisoftConnectService.loadScripts().then(function(){return _this8.ubisoftConnectService.initialize(nextUrl,withTpc,_this8.localLoginExpirationMinutes,component)})),promise}},{key:"getConnectUrl",value:function(){return this.ubisoftConnectService.getConnectUrl()}},{key:"getTicket",value:function(){return this.ubisoftConnectService.getTicket().then(function(data){return Promise.resolve(data)})["catch"](function(error){return Promise.reject(error)})}},{key:"getProfiles",value:function(ticket,sessionId,userId,callback,nextUrl){var _this9=this;return this.check(nextUrl,!1,!0,"getProfiles").then(function(){return _this9.ubisoftConnectService.getProfiles(ticket,sessionId,userId,function(data){callback(data?data:{errorMessage:"missingTicket",opId:"GetProfiles",status:"missingTicket"})})})}},{key:"getLocalStorageKey",value:function(key){return""+this.env.toUpperCase()+key}},{key:"removeItemFromLocalStorageKey",value:function(key){localStorage.removeItem(this.getLocalStorageKey(key))}},{key:"getItemFromLocalStorageKey",value:function(key){var item=localStorage.getItem(this.getLocalStorageKey(key));return item?JSON.parse(item):null}},{key:"setItemInLocalStorageKey",value:function(key,item){item="Object"==typeof item?JSON.stringify(item):item,localStorage.setItem(this.getLocalStorageKey(key),JSON.stringify(item))}},{key:"getConnectSsoExpiration",value:function(){var date=new Date;return date.setTime(date.getTime()+60*this.localLoginExpirationMinutes*1e3),date.getTime().toString()}},{key:"checkIfExpired",value:function(expiration){return expiration&&parseInt(expiration)<=(new Date).getTime()}},{key:"removeAllOverlayDataFromLocaleStorage",value:function(){this.removeItemFromLocalStorageKey(this.CONNECTloginData),this.removeItemFromLocalStorageKey(this.CONNECTerror),this.removeItemFromLocalStorageKey(this.CONNECTssoExpiration)}},{key:"removeAllDataFromLocaleStorage",value:function(){this.removeItemFromLocalStorageKey("errorRefreshData"),this.removeItemFromLocalStorageKey("ssoCallBackStatusKey"),this.removeItemFromLocalStorageKey("loginData"),this.removeAllOverlayDataFromLocaleStorage()}}]),ConnectService}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HtmlEvents});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HtmlEvents=function(){function HtmlEvents(){_classCallCheck(this,HtmlEvents)}return _createClass(HtmlEvents,null,[{key:"add",value:function(element,evnt,funct){return element.attachEvent?element.attachEvent("on"+evnt,funct):element.addEventListener(evnt,funct,!1)}},{key:"remove",value:function(element,evnt,funct){return element.removeEvent?element.removeEvent("on"+evnt,funct):element.removeEventListener(evnt,funct)}}]),HtmlEvents}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_utils__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_1_messages__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__),__webpack_require__(29)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__=__webpack_require__(752),__WEBPACK_IMPORTED_MODULE_3__ConnectService__=__webpack_require__(751);__webpack_require__.d(exports,"a",function(){return WidgetService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},WidgetService=function(){function WidgetService(config,hasInitializedCallback){_classCallCheck(this,WidgetService),this.config=config,this.hasInitializedCallback=hasInitializedCallback,config.enableDebug&&console.log("[Overlay Widget] Loaded")}return _createClass(WidgetService,[{key:"appendDocumentHeadHtml",value:function(){var headHTML=document.getElementsByTagName("head")[0],link=document.createElement("link");return link.type="text/css",link.rel="stylesheet",link.href=this.cssUrl,headHTML.appendChild(link),null}},{key:"appendContainer",value:function(onload){var _this=this,iframe=document.createElement("iframe");iframe.id="overlay-iframe",iframe.name="overlayIframe",iframe.style.display="none",iframe.scrolling="no",iframe.style.border="0",iframe.style.width="954px",iframe.onload=function(){iframe.style.display="","ar-ae"===_this.options.locale.toLowerCase()&&iframe.classList.add("overlay-iframe-arab-language")},this.iframe=iframe;var iframeContainer=document.createElement("div");iframeContainer.id="overlay-container",iframeContainer.style.height=(this.options.height||50)+"px",iframeContainer.appendChild(iframe);var backdrop=document.createElement("div");backdrop.id="overlay-backdrop",this.backdrop=backdrop;var logo=document.createElement("div");logo.id="overlay-loader-logo";var container=document.getElementById(this.options.container);if(container||(container=document.getElementById(this.options.container.replace("#",""))),container||(container=document.getElementsByClassName(this.options.container.replace(".","")),!container&&container[0]||(container=void 0)),container.style.position="relative",container.style.zIndex=this.options.zIndex?this.options.zIndex:"1000",backdrop.style.zIndex=this.options.zIndex?(parseFloat(this.options.zIndex)-1).toString():"999",logo.style.zIndex=container.style.zIndex,!container)throw new Error("Could not find container element '"+this.options.container+"'");container.appendChild(iframeContainer),container.parentElement.appendChild(backdrop),this.container=container,onload(iframe);var src=this.config.overlayIndexUrl+"?";src+="owner="+window.self.location.protocol+"//"+window.self.location.host,iframe.src=src}},{key:"appendModalContainer",value:function(){var modalNode=document.createElement("div"),modalNodeContainer=document.createElement("div"),modalOverlay=document.createElement("div"),modalContent=document.createElement("div"),modalCloseButton=document.createElement("div"),modalCloseIcon=document.createElement("i"),body=document.getElementsByTagName("body")[0];modalNode.classList.add("ReactModalPortal"),modalNodeContainer.classList.add("ReactModalPortal__Container"),modalNode.style.display="none",modalOverlay.classList.add("ReactModal__Overlay"),modalContent.classList.add("ReactModal__Content"),modalCloseButton.classList.add("ReactModal__Close__Button"),modalCloseIcon.className+="ubico ubico-close",modalCloseButton.appendChild(modalCloseIcon),modalContent.appendChild(modalCloseButton),modalOverlay.appendChild(modalContent),modalNodeContainer.appendChild(modalOverlay),modalNode.appendChild(modalNodeContainer),body.appendChild(modalNode)}},{key:"bootstrap",value:function(options){var _this2=this;0==options.darkBackground&&console.warn("Light theme is disabled for the moment"),this.options=__assign({},options,{scrollbarWidth:this.getScrollbarWidth(),darkBackground:!0}),this.connectService=new __WEBPACK_IMPORTED_MODULE_3__ConnectService__.a(options.locale,options.appId,options.genomeId,this.config.connectEnv,this.config.enableDebug),this.appendDocumentHeadHtml(),this.appendContainer(function(iframe){var channelOrigin=_this2.config.overlayIndexUrl;_this2.channel=new __WEBPACK_IMPORTED_MODULE_0__stejar_utils__.Channel(channelOrigin,iframe.contentWindow,_this2.config.enableDebug),_this2.setupSubscriptions()}),this.appendModalContainer()}},{key:"setupSubscriptions",value:function(){var _this3=this;this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_INITIALIZE,this.handleInitilize.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_SHOW_BACKDROP,this.handleShowBackdrop.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_HIDE_BACKDROP,this.handleHideBackdrop.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_SHOW_MOBILE_TABS,this.handleShowMobileTabs.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_HIDE_MOBILE_TABS,this.handleHideMobileTabs.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_EXPAND,this.handleExpand.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_COLLAPSE,this.handleCollapse.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_LOGGED_IN,this.handleLoggedIn.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_LOGGED_OUT,this.handleLoggedOut.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_RESIZE,this.handleResize.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_OPEN_LOGIN_MODAL,this.handleOpenLoginModal.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CLOSE_LOGIN_MODAL,this.handleCloseLoginModalAndConnect.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_LOCALE,this.handleChangeLocaleFromCommunicationService.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_ENV_LOADED,this.handleInitEnv.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,this.handleChangeIframeHeight.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_IFRAME_URL,this.changeIframeUrl.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_EMAIL_VERIFICATION,this.triggerEmailActivation.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_LOGOUT,this.logout.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_CHANGE_CONFIG,this.changeWidgetConfig.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_USER_DATA,this.getUserData.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_TRIGGER_REFRESH_IDENTITY,this.refreshIdentity.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_401_FLOW,this._401Flow.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,this.handleChangeIframeHeight.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_ENV,this.getEnv.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_IFRAME_BOUNDING_CLIENT_RECT,this.handleGetIframeBoundingClientRect.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_OPEN_POPUP_WINDOW,this.handleOpenPopupWindow.bind(this)),this.options.collapse&&this.options.collapse(function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_COLLAPSE)}),this.options.expandFriends&&this.options.expandFriends(function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_FRIENDS)}),this.options.expandPlayerCard&&this.options.expandPlayerCard(function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_PLAYER_CARD)}),this.options.expandNotifications&&this.options.expandNotifications(function(){_this3.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_NOTIFICATIONS)})}},{key:"handleInitilize",value:function(){var _this4=this,cleanUrl=window.self.location.href,loginUrl=this.connectService.getLoginUrl(this.getLoginUrl(),this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),connectUrl=this.connectService.getConnectUrl();this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_BOOTSTRAP,this.options),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,{loginUrl:loginUrl,connectUrl:connectUrl}),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_URL,cleanUrl),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_INITIAL_WINDOW_HEIGHT,window.innerHeight),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_IFRAME_BOUNDING_CLIENT_RECT,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeBoundingClientRect:this.getIframeBoundingClientRect()}),this.handleOnResize(!0),window.addEventListener("resize",this.debounce(function(){return _this4.handleOnResize(!1)},1e3)),document.getElementsByClassName("ReactModal__Close__Button")[0].addEventListener("click",this.handleCloseLoginModal.bind(this))}},{key:"handleOnResize",value:function(firstTime){this.sendOnResizeEvent(firstTime),this.isInMobileView(window.innerWidth)?this.iframe.style.width="100vw":(document.body.classList.remove("overlay-expanded-on-mobile"),this.iframe.style.width="954px",this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1))}},{key:"sendOnResizeEvent",value:function(firstTime){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RESIZED_WINDOW,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeHeight:this.iframe.offsetHeight,iframeBoundingClientRect:this.iframe.getBoundingClientRect(),firstTime:firstTime})}},{key:"handleShowBackdrop",value:function(){var _this5=this;this.options.onShowHide&&this.options.onShowHide(!0),this.backdrop.classList.add("overlay-backdrop--show"),this.backdropListener=function(){_this5.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_HANDLE_BACKDROP_CLICK)},__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.add(this.backdrop,"click",this.backdropListener)}},{key:"handleHideBackdrop",value:function(){this.options.onShowHide&&this.options.onShowHide(!1),this.isInMobileView(window.innerWidth)||(this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener))}},{key:"handleShowMobileTabs",value:function(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!0),this.isInMobileView(window.innerWidth)&&(document.body.classList.add("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.add("mobileActive"))}},{key:"handleHideMobileTabs",value:function(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!1),this.isInMobileView(window.innerWidth)&&(document.body.classList.remove("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive")),this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleExpand",value:function(){this.iframe.classList.add("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)&&document.getElementById("overlay-container").classList.add("mobileActive")}},{key:"handleLoggedIn",value:function(payload){payload.action==__WEBPACK_IMPORTED_MODULE_1_messages__.b.INIT&&this.hasInitializedCallback(!0),this.options.onConnect&&this.options.onConnect(payload.action,payload.getTicket)}},{key:"handleLoggedOut",value:function(identity){this.options.onConnect&&this.options.onConnect(__WEBPACK_IMPORTED_MODULE_1_messages__.b.LOGOUT,identity),this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),document.body.classList.remove("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"),this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleCollapse",value:function(){this.iframe.classList.remove("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)||document.getElementById("overlay-container").classList.remove("mobileActive")}},{key:"handleResize",value:function(props){this.isInMobileView(window.innerWidth)?(this.iframe.style.height=null,this.options.mobileHeight&&(this.container.style.height=this.options.mobileHeight+"px"),this.container&&(this.container.style.width="50px",!props.showSignInText||props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.c.SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.c.AVATAR_SIGN_IN&&1!=props.showSignInText&&"true"!=props.showSignInText||(this.container.style.width="132px")),document.getElementById("overlay-iframe").classList.add("overlay-iframe-mobile"),props.isInExpandedMode&&document.getElementById("overlay-container").classList.add("mobileActive")):(this.container&&(this.container.style.width=null,this.options.mobileHeight&&(this.container.style.height=this.options.height+"px")),document.getElementById("overlay-iframe").classList.remove("overlay-iframe-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"))}},{key:"handleOpenLoginModal",value:function(connectIFrameUrl){document.getElementsByTagName("body")[0].classList.add("ReactModal__Body--open"),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&(document.getElementsByTagName("body")[0].classList.add("safari-modal-opened"),document.body.style.top="0px");var modalNode=document.getElementsByClassName("ReactModalPortal")[0];modalNode.removeAttribute("style");var modalContent=document.getElementsByClassName("ReactModal__Content")[0],connectIFrame=document.createElement("iframe");connectIFrame.id="connect-iframe",connectIFrame.style.height="100%",connectIFrame.style.border="0px",connectIFrame.src=connectIFrameUrl,modalContent.appendChild(connectIFrame)}},{key:"handleCloseLoginModal",value:function(){document.getElementsByTagName("body")[0].classList.remove("ReactModal__Body--open","safari-modal-opened");var connectIFrame=document.getElementById("connect-iframe");document.body.hasAttribute("style")&&document.body.removeAttribute("style"),connectIFrame&&connectIFrame.parentNode.removeChild(connectIFrame)}},{key:"handleCloseLoginModalAndConnect",value:function(payload){this.handleCloseLoginModal()}},{key:"handleChangeLocale",value:function(locale){this.options.onChangeLocale&&this.options.onChangeLocale(locale),locale||(locale=this.options.locale),"ar-ae"==locale.toLowerCase()?this.iframe.classList.add("overlay-iframe-arab-language"):this.iframe.classList.remove("overlay-iframe-arab-language"),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_LOCALE,locale),this.connectService.setLocale(locale);var loginUrl=this.connectService.getLoginUrl(this.getLoginUrl(),this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),connectUrl=this.connectService.getConnectUrl();this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,{loginUrl:loginUrl,connectUrl:connectUrl})}},{key:"handleChangeLocaleFromCommunicationService",value:function(props){this.isInMobileView(window.innerWidth)&&(!props.showSignInText||props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.c.SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.c.AVATAR_SIGN_IN||(this.container.style.width="132px"))}},{key:"handleChangeTrackingSiteSection",value:function(siteSection){this.options.onChangeTrackingSiteSection&&this.options.onChangeTrackingSiteSection(siteSection),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_TRACKING_SITE_SECTION,siteSection)}},{key:"handleChangeGame",value:function(installmentId){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_GAME,installmentId)}},{key:"reInit",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RE_INIT)}},{key:"isInMobileView",value:function(windowSize){return windowSize<=__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RESIZE_WIDTH||windowSize<=__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_MOBILE_WIDTH&&window.innerHeight<windowSize&&WidgetService.isMobileDevice()}},{key:"handleChangeEnv",value:function(env){}},{key:"handleInitEnv",value:function(newConfig){}},{key:"handleChangeFriendsProfileType",value:function(type){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_FRIEND_PROFILE_TYPE,type)}},{key:"handleChangeIframeHeight",value:function(height){this.isInMobileView(window.innerWidth)||(this.iframe.style.height=height+"px")}},{key:"handleToggleDarkBackground",value:function(toggle){console.warn("Light theme is disabled for the moment")}},{key:"handleChangeLoginType",value:function(type){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_LOGIN_TYPE,type)}},{key:"handleToggleSignInText",value:function(toggle){this.isInMobileView(window.innerWidth)&&(!toggle||toggle!=__WEBPACK_IMPORTED_MODULE_1_messages__.c.SIGN_IN&&toggle!=__WEBPACK_IMPORTED_MODULE_1_messages__.c.AVATAR_SIGN_IN||(this.container.style.width="132px")),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_SIGN_IN_TEXT,toggle)}},{key:"toggleDesktopResize",value:function(toggle){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_DESKTOP_RESIZE,toggle)}},{key:"changeIframeUrl",value:function(){var src=this.iframe.src.split("?")[0],search=this.getQueryParameters(this.iframe.src.split("?")[1]);this.iframe.src=src+"?owner="+search.owner}},{key:"triggerEmailActivation",value:function(payload){var _this6=this;this.connectService.triggerEmailActivation(payload.ticket,payload.sessionId,payload.userId,this.getNextUrl(),function(triggerEmailResponse){_this6.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_EMAIL_VERIFICATION,triggerEmailResponse)},function(){})}},{key:"logout",value:function(payload){var _this7=this,callback=function(){_this7.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_LOGOUT)};this.connectService.logout(payload.ticket,payload.sessionId,this.getNextUrl()).then(callback)["catch"](callback)}},{key:"changeWidgetConfig",value:function(config){this.connectService.changeConfig(config.connectEnv);var loginUrl=this.connectService.getLoginUrl(this.getLoginUrl(),this.options.loginExternalType,!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),connectUrl=this.connectService.getConnectUrl();this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_SET_CONNECT_LOGIN_URL,{loginUrl:loginUrl,connectUrl:connectUrl}),location.reload()}},{key:"getUserData",value:function(payload){var _this8=this,callback=function(triggerEmailResponse){_this8.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_USER_DATA_SUCCESS,triggerEmailResponse)},errorCallback=function(){_this8.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_USER_DATA_ERROR)};return this.connectService.getUserData(payload.ticket,payload.sessionId,payload.userId,this.getNextUrl(),callback)["catch"](function(){return errorCallback()})}},{key:"refreshIdentity",value:function(payload){try{localStorage.setItem("hasLocalStorage","true")}catch(e){return this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR)}var nextUrl=this.getNextUrl();if(this.findByKey(this.getQueryParameters(),"isSso")){if(payload.afterLogin||payload.isReInit)return payload.afterLogin&&this.connectService.removeAllDataFromLocaleStorage(),payload.isReInit&&this.connectService.removeAllOverlayDataFromLocaleStorage(),this.normalGetTicketFlow(nextUrl,payload);var refreshStatus=this.findByKey(this.getQueryParameters(),"refreshStatus");if(refreshStatus)return this.checkIfLocalStorageDataIsExpiredFlow(nextUrl,payload);if(this.findByKey(this.getQueryParameters(),"lgdOut"))return this.connectService.getItemFromLocalStorageKey(this.connectService.CONNECTLogOut)?(this.connectService.removeItemFromLocalStorageKey(this.connectService.CONNECTLogOut),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR)):this.normalGetTicketFlow(nextUrl,payload)}return(payload.afterLogin||payload.isReInit)&&this.connectService.removeAllDataFromLocaleStorage(),this.normalGetTicketFlow(nextUrl,payload)}},{key:"checkIfLocalStorageDataIsExpiredFlow",value:function(nextUrl,payload){var ssoExpiration=this.connectService.getItemFromLocalStorageKey(this.connectService.CONNECTssoExpiration);return ssoExpiration?this.connectService.checkIfExpired(ssoExpiration)?(this.connectService.removeAllOverlayDataFromLocaleStorage(),this.normalGetTicketFlow(nextUrl,payload)):this.refreshStatusFlow(nextUrl,ssoExpiration):(ssoExpiration=this.connectService.getConnectSsoExpiration(),this.connectService.setItemInLocalStorageKey(this.connectService.CONNECTssoExpiration,ssoExpiration),"ok"===this.getQueryParameters().refreshStatus?this.ssoFlow(nextUrl):this.refreshStatusFlow(nextUrl,ssoExpiration))}},{key:"ssoFlow",value:function(nextUrl){var _this9=this;this.connectService.ssoFlow(nextUrl).then(function(data){Object.keys(data).length?_this9.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_SUCESS,data):_this9.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR)})["catch"](function(error){_this9.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR,error)})}},{key:"refreshStatusFlow",value:function(nextUrl,expirationDate){var _this10=this;return this.connectService.refreshStatusFlow(nextUrl,expirationDate).then(function(data){Object.keys(data).length?_this10.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_SUCESS,data):_this10.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR)})["catch"](function(error){_this10.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR,error)})}},{key:"normalGetTicketFlow",value:function(nextUrl,payload){var _this11=this;return this.connectService.refreshIdentityFlow(nextUrl,payload).then(function(data){Object.keys(data).length?_this11.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_SUCESS,data):_this11.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR)})["catch"](function(error){_this11.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TICKET_ERROR,error)})}},{key:"_401Flow",value:function(){var _this12=this,nextUrl=this.getNextUrl();this.connectService._401Flow(nextUrl,function(){_this12.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_401_FLOW_NO_TICKET)},function(getTicketResponse){_this12.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_401_FLOW_GOT_TICKET,getTicketResponse)})}},{key:"getLoginUrl",value:function(){return this.config.overlayApplicationUrl+"/logged-in.html"}},{key:"getSsoUrl",value:function(){return""+window.location.href.split("?")[0]+this.getQueryStringWithAddedParam("isSso","true")}},{key:"getNextUrl",value:function(){return encodeURIComponent(""+this.getSsoUrl())}},{key:"getTicketCallback",value:function(callback){var _this13=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_TICKET);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_TICKET,function(identity){identity.opId?callback({opId:identity.opId,status:identity.status,payload:{expiration:identity.expiration,sessionId:identity.sessionId,ticket:identity.ticket,userId:identity.user_id,nameOnPlatform:identity.nameOnPlatform}}):_this13.connectService.getTicket().then(function(data){callback({opId:data.opId,status:data.status,payload:{expiration:data.expiration,sessionId:data.sessionId,ticket:data.ticket,userId:data.user_id,nameOnPlatform:identity.nameOnPlatform}})})["catch"](function(error){callback(error.opId?{opId:error.opId,status:error.status,errorMessage:error.errorMessage}:{opId:"GetTicket",errorMessage:"no login data available",status:"error"})}),_this13.channel.unsuscribe(subscribed)})}},{key:"getProfileCallback",value:function(callback){var _this14=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_CONNECT_CALLBACKS_PARAMS);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS,function(obj){_this14.connectService.getProfiles(obj.ticket,obj.sessionId,obj.userId,callback,_this14.getNextUrl()),_this14.channel.unsuscribe(subscribed)})}},{key:"debounce",value:function(callback,wait){var _this15=this,_arguments=arguments,timeout=null;return function(){var context=_this15,args=_arguments,later=function(){timeout=null};clearTimeout(timeout),timeout=setTimeout(later,wait),callback.apply(context,args)}}},{key:"getEnv",value:function(){try{this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_ENV,localStorage.getItem("overlay-env-v3"))}catch(e){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_ENV,null)}}},{key:"getQueryParameters",value:function(str){var params=str?str:window.self.location.search?window.self.location.search:window.location.href.split("?").length>1?"?"+window.location.href.split("?")[1]:"",paramsObj=params.replace(/(^\?)/,"").split("&").map(function(n){n=n.split("=");var obj={};return n[0]&&(obj[decodeURIComponent(n[0])]=decodeURIComponent(n[1])),obj}).reduce(function(previousValue,currentValue){return previousValue?__assign({},previousValue,currentValue):currentValue});return paramsObj}},{key:"getQueryString",value:function(){var deleteRefresStatus=arguments.length>0&&void 0!==arguments[0]&&arguments[0],changeRefresStatus=arguments.length>1&&void 0!==arguments[1]&&arguments[1],cleanQueryParams=this.getQueryParameters(),cleanUrl="";return deleteRefresStatus&&delete cleanQueryParams.refreshStatus,changeRefresStatus&&(cleanQueryParams.refreshStatus="toDel"),cleanQueryParams.isSso&&delete cleanQueryParams.isSso,cleanQueryParams.lgdOut&&delete cleanQueryParams.lgdOut,cleanQueryParams.connectSsoId&&delete cleanQueryParams.connectSsoId,
Object.keys(cleanQueryParams).length&&(cleanUrl+="?"+Object.keys(cleanQueryParams).map(function(item){return encodeURIComponent(item)+"="+encodeURIComponent(cleanQueryParams[item])}).join("&")),cleanUrl}},{key:"getQueryStringWithAddedParam",value:function(paramName,paramValue){return this.getQueryString(!0)?this.getQueryString(!0)+"&"+paramName+"="+paramValue:"?"+paramName+"="+paramValue}},{key:"handleGetIframeBoundingClientRect",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_IFRAME_BOUNDING_CLIENT_RECT,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeBoundingClientRect:this.iframe.getBoundingClientRect()})}},{key:"getIframeBoundingClientRect",value:function(){var iframeBoundingClientRect=this.iframe.getBoundingClientRect();return 0==iframeBoundingClientRect.width&&(iframeBoundingClientRect=document.getElementById("overlay-container").getBoundingClientRect(),iframeBoundingClientRect="ar-ae"===this.options.locale.toLowerCase()?{bottom:iframeBoundingClientRect.bottom,height:iframeBoundingClientRect.height,left:iframeBoundingClientRect.left,right:iframeBoundingClientRect.left+954-334,top:iframeBoundingClientRect.top,width:iframeBoundingClientRect.width}:{bottom:iframeBoundingClientRect.bottom,height:iframeBoundingClientRect.height,left:iframeBoundingClientRect.left-954+334,right:iframeBoundingClientRect.right,top:iframeBoundingClientRect.top,width:iframeBoundingClientRect.width}),iframeBoundingClientRect}},{key:"getScrollbarWidth",value:function(){var scrollbarWidth=0;if("undefined"!=typeof document){var div=document.createElement("div");div.style.width="100px",div.style.height="100px",div.style.position="absolute",div.style.top="-9999",div.style.overflow="scroll",div.style.MsOverflowStyle="scrollbar",document.body.appendChild(div),scrollbarWidth=div.offsetWidth-div.clientWidth,document.body.removeChild(div)}return scrollbarWidth||0}},{key:"findByKey",value:function(obj,key){for(var found=!1,array=Object.keys(obj),i=0;i<array.length;i++)if(array[i]===key)return found=!0;return found}},{key:"getEmailVerificationStatusCallback",value:function(callback){var _this16=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_CONNECT_CALLBACKS_PARAMS);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS,function(obj){_this16.connectService.getUserData(obj.ticket,obj.sessionId,obj.userId,_this16.getNextUrl(),callback),_this16.channel.unsuscribe(subscribed)})}},{key:"triggerEmailVerificationCallback",value:function(callback){var _this17=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_CONNECT_CALLBACKS_PARAMS);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_CONNECT_CALLBACKS_PARAMS,function(obj){_this17.connectService.triggerEmailActivation(obj.ticket,obj.sessionId,obj.userId,_this17.getNextUrl(),callback,function(){_this17.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TRIGGER_EMAIL_ACTIVATION)}),_this17.channel.unsuscribe(subscribed)})}},{key:"handleOpenPopupWindow",value:function(props){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_OPEN_POPUP_WINDOW,{url:props.url,title:props.title,width:props.width,height:props.height,windowsWidth:window.outerWidth,windowsHeight:window.outerHeight,windowsScreenY:window.screenY,windowsScreenX:window.screenX})}},{key:"cssUrl",get:function(){return this.config.assetsUrl+"/widget.css"}}],[{key:"isMobileDevice",value:function(){/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)}}]),WidgetService}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(543));__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},IntegratorConfigurationService=function(_AbstractActions){function IntegratorConfigurationService(){return _classCallCheck(this,IntegratorConfigurationService),_possibleConstructorReturn(this,(IntegratorConfigurationService.__proto__||Object.getPrototypeOf(IntegratorConfigurationService)).apply(this,arguments))}return _inherits(IntegratorConfigurationService,_AbstractActions),_createClass(IntegratorConfigurationService,[{key:"loadConfiguration",value:function(config){this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__.a(config))}}]),IntegratorConfigurationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);IntegratorConfigurationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],IntegratorConfigurationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(100),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_3_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_translate__),__webpack_require__(0)),__WEBPACK_IMPORTED_MODULE_3_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__),__WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__=__webpack_require__(15);__webpack_require__.d(exports,"a",function(){return TranslatorProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TranslatorProvider=function(){function TranslatorProvider(){_classCallCheck(this,TranslatorProvider),this.localeString=["en-GB","en-US","en-CA","fr-FR","fr-CA","zh-CN","cs-CZ","da-DK","fi-FI","de-DE","hu-HU","it-IT","ja-JP","nb-NO","pl-PL","pt-PT","pt-BR","ru-RU","es-ES","es-MX","sv-SE","tr-TR","nl-NL","uk-UA","ar-AE","ko-KR","zh-TW","th-TH"],this.localeMappings={"en-GB":__webpack_require__(802),"en-US":__webpack_require__(804),"en-CA":__webpack_require__(803),"fr-FR":__webpack_require__(806),"fr-CA":__webpack_require__(807),"zh-CN":__webpack_require__(797),"cs-CZ":__webpack_require__(799),"da-DK":__webpack_require__(800),"fi-FI":__webpack_require__(805),"de-DE":__webpack_require__(808),"hu-HU":__webpack_require__(809),"it-IT":__webpack_require__(810),"ja-JP":__webpack_require__(811),"nb-NO":__webpack_require__(813),"pl-PL":__webpack_require__(814),"pt-PT":__webpack_require__(815),"pt-BR":__webpack_require__(816),"ru-RU":__webpack_require__(817),"es-ES":__webpack_require__(818),"es-MX":__webpack_require__(819),"sv-SE":__webpack_require__(820),"tr-TR":__webpack_require__(822),"nl-NL":__webpack_require__(801),"uk-UA":__webpack_require__(823),"ar-AE":__webpack_require__(796),"ko-KR":__webpack_require__(812),"zh-TW":__webpack_require__(798),"th-TH":__webpack_require__(821)},this.numbroMap={"en-GB":__webpack_require__(150),"en-US":__webpack_require__(150),"en-CA":__webpack_require__(150),"fr-FR":__webpack_require__(288),"fr-CA":__webpack_require__(288),"zh-CN":__webpack_require__(577),"cs-CZ":__webpack_require__(559),"da-DK":__webpack_require__(560),"fi-FI":__webpack_require__(562),"de-DE":__webpack_require__(561),"hu-HU":__webpack_require__(563),"it-IT":__webpack_require__(564),"ja-JP":__webpack_require__(565),"nb-NO":__webpack_require__(567),"pl-PL":__webpack_require__(569),"pt-PT":__webpack_require__(571),"pt-BR":__webpack_require__(570),"ru-RU":__webpack_require__(572),"es-ES":__webpack_require__(287),"es-MX":__webpack_require__(287),"sv-SE":__webpack_require__(573),"tr-TR":__webpack_require__(575),"nl-NL":__webpack_require__(568),"uk-UA":__webpack_require__(576),"ar-AE":__webpack_require__(150),"ko-KR":__webpack_require__(566),"zh-TW":__webpack_require__(578),"th-TH":__webpack_require__(574)}}return _createClass(TranslatorProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_2__stejar_translate__.TranslatorService}},{key:"provide",value:function(sm){var _this=this,mappings=this.localeMappings,locales=this.localeString,translatorService=new __WEBPACK_IMPORTED_MODULE_2__stejar_translate__.TranslatorService(sm.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store),{load:function(oldLocale){var locale=oldLocale.split("-")[1]?oldLocale.split("-")[0].toLowerCase()+"-"+oldLocale.split("-")[1].toUpperCase():oldLocale;locales.indexOf(locale)===-1&&(locale="en-GB");var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(mappings[locale]);return sm.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(request).then(function(response){var catalog={},data=JSON.parse(response.data.replace("module.exports = ","").replace("];","]"));return data.forEach(function(item){catalog[item.term]=item.definition}),catalog})}});return __WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__.a.getEnableDebug(sm.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState())&&translatorService.enableDebug(),Object.keys(this.localeMappings).forEach(function(locale){var momentLocale=locale.split("-")[0];switch(locale=locale.split("-")[0]+"-"+locale.split("-")[1].toUpperCase(),locales.indexOf(locale)===-1&&(locale="en-GB"),locale){case"en-GB":momentLocale="en-gb",__WEBPACK_IMPORTED_MODULE_3_moment___default.a.defineLocale("en-gb",{parentLocale:"en",longDateFormat:{L:"DD/MM/YYYY"}});break;case"en-US":case"en-CA":momentLocale="en";break;case"pt-BR":momentLocale="pt-br";break;case"zh-CN":momentLocale="zh-cn";break;case"zh-TW":momentLocale="zh-tw"}try{translatorService.registerDateLocale(momentLocale)}catch(error){console.warn(error)}}),Object.keys(this.numbroMap).forEach(function(locale){translatorService.registerNumbersLocale(locale,_this.numbroMap[locale])}),translatorService}}]),TranslatorProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__),__webpack_require__(33)),__WEBPACK_IMPORTED_MODULE_2_app_modules_pageLoader_components_PageLoader_PageLoaderView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(757)),__WEBPACK_IMPORTED_MODULE_3_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(145),__WEBPACK_IMPORTED_MODULE_4__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_5_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_redux__),__webpack_require__(32)),__WEBPACK_IMPORTED_MODULE_6__queries_WidgetQueries__=__webpack_require__(21);__webpack_require__.d(exports,"a",function(){return PageLoaderController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PageLoaderController=function(_PureComponent){function PageLoaderController(){_classCallCheck(this,PageLoaderController);var _this=_possibleConstructorReturn(this,(PageLoaderController.__proto__||Object.getPrototypeOf(PageLoaderController)).apply(this,arguments));return _this.state={show:!0,display:!0},_this.listeners=[],_this}return _inherits(PageLoaderController,_PureComponent),_createClass(PageLoaderController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_2_app_modules_pageLoader_components_PageLoader_PageLoaderView__.a,{show:this.state.show,display:this.state.display,height:this.props.height})}},{key:"componentDidMount",value:function(){var _this2=this;return this.listeners.push(this.props.pageLoaderService.show$.subscribe(function(show){return _this2.setState({show:show})})),this.listeners.push(this.props.pageLoaderService.display$.subscribe(function(display){return _this2.setState({display:display})})),null}},{key:"componentWillUnmount",value:function(){return this.listeners.forEach(function(item){return item()}),null}}]),PageLoaderController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);PageLoaderController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__.inject)({pageLoaderService:__WEBPACK_IMPORTED_MODULE_3_app_modules_pageLoader_services_PageLoaderService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__.connect)(function(){return __WEBPACK_IMPORTED_MODULE_4__stejar_redux__.Selector.fromState({height:__WEBPACK_IMPORTED_MODULE_6__queries_WidgetQueries__.a.getIntegratorConfigurationHeight})}),__metadata("design:paramtypes",[])],PageLoaderController)},function(module,exports,__webpack_require__){"use strict";function PageLoaderView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("PageLoader",{"PageLoader-show":props.show,"PageLoader-display":props.display}),style:{top:"calc("+props.height+"px/2 - 2.5rem)"}},React.createElement("div",{className:"PageLoader-loader"}))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);exports.a=PageLoaderView},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__=__webpack_require__(10);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_api__);__webpack_require__.d(exports,"a",function(){return ApiConfigProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ApiConfigProvider=function(){function ApiConfigProvider(){_classCallCheck(this,ApiConfigProvider)}return _createClass(ApiConfigProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__.ApiConfigurationContract.name}},{key:"provide",value:function(sm){var api=new __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__.ApiConfigurationService;return sm.bind(__WEBPACK_IMPORTED_MODULE_0_ubisoft_api__.ApiConfigurationService,api),api}}]),ApiConfigProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_cache__=__webpack_require__(588),__WEBPACK_IMPORTED_MODULE_1__modules_configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_cache__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__);__webpack_require__.d(exports,"a",function(){return CacheProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CacheProvider=function(){function CacheProvider(){_classCallCheck(this,CacheProvider)}return _createClass(CacheProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_cache__.CacheService}},{key:"provide",value:function(sm){var cache=new __WEBPACK_IMPORTED_MODULE_0__stejar_cache__.CacheService;return cache.enable(),__WEBPACK_IMPORTED_MODULE_1__modules_configuration_queries_ConfigurationQueries__.a.getEnableDebug(sm.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store).getState())&&cache.enableDebug(),cache}}]),CacheProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__=__webpack_require__(221),__WEBPACK_IMPORTED_MODULE_1_app_modules_configuration_adapters_ConnectConfigurationAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__),__webpack_require__(748));__webpack_require__.d(exports,"a",function(){return ConnectConfigProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ConnectConfigProvider=function(){function ConnectConfigProvider(){_classCallCheck(this,ConnectConfigProvider)}return _createClass(ConnectConfigProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__.ConnectConfigurationContract.name}},{key:"provide",value:function(sm){var service=new __WEBPACK_IMPORTED_MODULE_1_app_modules_configuration_adapters_ConnectConfigurationAdapter__.a;return sm.bind(__WEBPACK_IMPORTED_MODULE_1_app_modules_configuration_adapters_ConnectConfigurationAdapter__.a,service),service}}]),ConnectConfigProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__services_GeneralChannelService__=__webpack_require__(276),__WEBPACK_IMPORTED_MODULE_1__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__);__webpack_require__.d(exports,"a",function(){return GeneralChannelProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),GeneralChannelProvider=function(){function GeneralChannelProvider(){_classCallCheck(this,GeneralChannelProvider)}return _createClass(GeneralChannelProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__services_GeneralChannelService__.a.name}},{key:"provide",value:function(sm){var service=new __WEBPACK_IMPORTED_MODULE_0__services_GeneralChannelService__.a(__WEBPACK_IMPORTED_MODULE_1__modules_configuration_queries_ConfigurationQueries__.a.getOverlayIndexUrl(sm.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store).getState()),window,(!1));return sm.bind(__WEBPACK_IMPORTED_MODULE_0__services_GeneralChannelService__.a,service),service}}]),GeneralChannelProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(100);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__);__webpack_require__.d(exports,"a",function(){return HttpProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HttpProvider=function(){function HttpProvider(){_classCallCheck(this,HttpProvider)}return _createClass(HttpProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService}},{key:"provide",value:function(sm){return window.fetch||__webpack_require__(1117),new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService(new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.FetchAdapter)}}]),HttpProvider}()},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_redux__=__webpack_require__(697),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(22)),__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__),__webpack_require__(121)),__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_5__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__stejar_translate__),__webpack_require__(264)),__WEBPACK_IMPORTED_MODULE_7_app_stores_LoadersStore__=__webpack_require__(779),__WEBPACK_IMPORTED_MODULE_8_app_stores_GamesStore__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_11_app_stores_WidgetStore__=__webpack_require__(780),__WEBPACK_IMPORTED_MODULE_12_app_stores_PlatformsStore__=__webpack_require__(77),__WEBPACK_IMPORTED_MODULE_13_app_stores_GameStatsStore__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_14_app_stores_RewardsStore__=__webpack_require__(285),__WEBPACK_IMPORTED_MODULE_15_app_stores_ClubProfilesStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_16_app_stores_UserProfilesStore__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_17_app_stores_AddFriendStore__=__webpack_require__(279),__WEBPACK_IMPORTED_MODULE_18_spark_overlay__=__webpack_require__(38),__WEBPACK_IMPORTED_MODULE_19_app_modules_configuration_stores_EnvironmentStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18_spark_overlay__),__webpack_require__(542)),__WEBPACK_IMPORTED_MODULE_20_app_stores_UserEmailVerificationStore__=__webpack_require__(558),__WEBPACK_IMPORTED_MODULE_21__stores_FilterFriendStore__=__webpack_require__(555),__WEBPACK_IMPORTED_MODULE_22__stores_FriendsActionsStore__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_23__stores_SocialNetworkStore__=__webpack_require__(149),__WEBPACK_IMPORTED_MODULE_24__stores_PsnAccountsStore__=__webpack_require__(283),__WEBPACK_IMPORTED_MODULE_25__stores_XboxAccountsStore__=__webpack_require__(286),__WEBPACK_IMPORTED_MODULE_26__stores_FriendsPlayingGameStore__=__webpack_require__(86),__WEBPACK_IMPORTED_MODULE_27__stores_ChangePlatformStore__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_28__stores_UserNameStore__=__webpack_require__(99),__WEBPACK_IMPORTED_MODULE_29__stores_RecentlyMetStore__=__webpack_require__(284),__WEBPACK_IMPORTED_MODULE_30__stores_ChangeSlideStore__=__webpack_require__(281),__WEBPACK_IMPORTED_MODULE_31__stores_ChangeAvatarStore__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_32__stores_AvatarStore__=__webpack_require__(183),__WEBPACK_IMPORTED_MODULE_33__stores_OtherGamesCarouselStore__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_34__stores_OverlayStore__=__webpack_require__(557),__WEBPACK_IMPORTED_MODULE_35__stores_StatsComparisonStore__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_36__stores_PopulationsStore__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_37__stores_FriendProfileStore__=__webpack_require__(84),__WEBPACK_IMPORTED_MODULE_38__stores_ProfileEntitiesStore__=__webpack_require__(148),__WEBPACK_IMPORTED_MODULE_39__stores_NewsStore__=__webpack_require__(147),__WEBPACK_IMPORTED_MODULE_40__stores_IpLocationStore__=__webpack_require__(556),__WEBPACK_IMPORTED_MODULE_41__stores_PlayerProfileStore__=__webpack_require__(282);__webpack_require__.d(exports,"a",function(){return StoreProvider});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},persistStore=__webpack_require__(693).persistStore,autoRehydrate=__webpack_require__(693).autoRehydrate,StoreProvider=function(){function StoreProvider(){_classCallCheck(this,StoreProvider)}return _createClass(StoreProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store}},{key:"provide",value:function(sm){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18_spark_overlay__.setLocaleReducerMountPoint)("LocaleStore"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18_spark_overlay__.setLocaleCurrentKey)("currentLocale");var store=new __WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store;
sm.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store,store),window.showDebugTable=__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.showDebugTable;var redux=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__.b)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__.c)(__assign({},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.combineStores)(sm)(__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__.ConfigurationStore,__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__.AuthenticationStore,__WEBPACK_IMPORTED_MODULE_5__stejar_translate__.LocaleStore,__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a,__WEBPACK_IMPORTED_MODULE_16_app_stores_UserProfilesStore__.a,__WEBPACK_IMPORTED_MODULE_15_app_stores_ClubProfilesStore__.a,__WEBPACK_IMPORTED_MODULE_7_app_stores_LoadersStore__.a,__WEBPACK_IMPORTED_MODULE_8_app_stores_GamesStore__.a,__WEBPACK_IMPORTED_MODULE_13_app_stores_GameStatsStore__.a,__WEBPACK_IMPORTED_MODULE_12_app_stores_PlatformsStore__.a,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a,__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__.a,__WEBPACK_IMPORTED_MODULE_11_app_stores_WidgetStore__.a,__WEBPACK_IMPORTED_MODULE_14_app_stores_RewardsStore__.a,__WEBPACK_IMPORTED_MODULE_17_app_stores_AddFriendStore__.a,__WEBPACK_IMPORTED_MODULE_19_app_modules_configuration_stores_EnvironmentStore__.a,__WEBPACK_IMPORTED_MODULE_20_app_stores_UserEmailVerificationStore__.a,__WEBPACK_IMPORTED_MODULE_21__stores_FilterFriendStore__.a,__WEBPACK_IMPORTED_MODULE_22__stores_FriendsActionsStore__.a,__WEBPACK_IMPORTED_MODULE_23__stores_SocialNetworkStore__.a,__WEBPACK_IMPORTED_MODULE_24__stores_PsnAccountsStore__.a,__WEBPACK_IMPORTED_MODULE_25__stores_XboxAccountsStore__.a,__WEBPACK_IMPORTED_MODULE_26__stores_FriendsPlayingGameStore__.a,__WEBPACK_IMPORTED_MODULE_27__stores_ChangePlatformStore__.a,__WEBPACK_IMPORTED_MODULE_28__stores_UserNameStore__.a,__WEBPACK_IMPORTED_MODULE_29__stores_RecentlyMetStore__.a,__WEBPACK_IMPORTED_MODULE_30__stores_ChangeSlideStore__.a,__WEBPACK_IMPORTED_MODULE_31__stores_ChangeAvatarStore__.a,__WEBPACK_IMPORTED_MODULE_32__stores_AvatarStore__.a,__WEBPACK_IMPORTED_MODULE_33__stores_OtherGamesCarouselStore__.a,__WEBPACK_IMPORTED_MODULE_35__stores_StatsComparisonStore__.a,__WEBPACK_IMPORTED_MODULE_36__stores_PopulationsStore__.a,__WEBPACK_IMPORTED_MODULE_37__stores_FriendProfileStore__.a,__WEBPACK_IMPORTED_MODULE_38__stores_ProfileEntitiesStore__.a,__WEBPACK_IMPORTED_MODULE_39__stores_NewsStore__.a,__WEBPACK_IMPORTED_MODULE_40__stores_IpLocationStore__.a,__WEBPACK_IMPORTED_MODULE_41__stores_PlayerProfileStore__.a),_defineProperty({},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_34__stores_OverlayStore__.a)(),__WEBPACK_IMPORTED_MODULE_34__stores_OverlayStore__.b))),"object"===("undefined"==typeof window?"undefined":_typeof(window))&&"undefined"!=typeof window._initialState?window._initialState:{},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__.d)(autoRehydrate(),"object"===("undefined"==typeof window?"undefined":_typeof(window))&&"undefined"!=typeof window.devToolsExtension?window.devToolsExtension():function(f){return f}));return window.clearStores=persistStore(redux,{whitelist:["EnvironmentStore","UserEmailVerificationStore","FriendsStore","ConnectionsStore","ApplicationsProfilesStore","UserProfilesStore","ClubProfilesStore","GamesStore","PlatformsStore","ApplicationsStore","AuthenticationStore","ConfigurationStore"]},function(){if(store.bootRedux(redux),store.getState().ConfigurationStore&&store.getState().ConfigurationStore.version&&store.getState().ConfigurationStore.version!==JSON.parse('{"env":"prod","assetsUrl":"https://ubistatic2-a.akamaihd.net/overlay/overlay-connect-integration/prod/public","overlayApplicationUrl":"https://overlay.ubisoft.com/overlay-connect-integration","overlayIndexUrl":"https://connect.ubisoft.com/indexOverlay.html","baseUrl":"/","version":"3.0.11","rewardsUrl":"//static8.cdn.ubi.com/u/Uplay","apiEnv":"prod","avatarsEnv":"prod","avatarsUrl":"https://ubisoft-avatars.akamaized.net","connectEnv":"prod","tagCommanderEnv":"prod","badgesSpaceId":"348db1b4-8cdd-400c-97bd-228e6b5a3fa3","clubUrl":"https://club.ubisoft.com","accountUrl":"https://account.ubisoft.com","customerSupportUrl":"https://support.ubi.com","tagCommanderUrl":"//ubistatic-a.akamaihd.net/0106/prod/global/tracking/analyticssdk.js","twitchClientId":"6a9lcgtz1vpt9l49p1ib6alx86lczpz","enableDebug":false,"statsCDNUrl":"https://ubiservices.cdn.ubi.com","webcenterAssetsUrl":"https://ubistatic2-a.akamaihd.net/uplay-webcenter/prod","betaPopulationsSpaceId":"d1035aa9-be98-4295-8184-39a53d3aae10","betaEnitySpaceId":"dc451c3a-d711-4751-95eb-53cea444f7fd","betaType":"Overlay_Notifications","avatarsMaintenanceStartDate":"2020-05-18 06:58:00","avatarsMaintenanceEndDate":"2020-05-18 11:00:00"}').version)try{window.clearStores.purge()}catch(e){console.error(e)}}),store.bootRedux(redux),store}}]),StoreProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(37)),__WEBPACK_IMPORTED_MODULE_2__services_IpLocationService__=__webpack_require__(770);__webpack_require__.d(exports,"a",function(){return TagCommanderProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TagCommanderProvider=function(){function TagCommanderProvider(){_classCallCheck(this,TagCommanderProvider)}return _createClass(TagCommanderProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__modules_tagCommander_services_TagCommanderService__.a}},{key:"provide",value:function(serviceManager){return new __WEBPACK_IMPORTED_MODULE_1__modules_tagCommander_services_TagCommanderService__.a(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store),serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__services_IpLocationService__.a))}}]),TagCommanderProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_1_app_services_UbisoftApiConfigurationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_api__),__webpack_require__(777)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__);__webpack_require__.d(exports,"a",function(){return UbisoftApiProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UbisoftApiProvider=function(){function UbisoftApiProvider(){_classCallCheck(this,UbisoftApiProvider)}return _createClass(UbisoftApiProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__.ApplicationConfigurationContract.name}},{key:"provide",value:function(sm){return new __WEBPACK_IMPORTED_MODULE_1_app_services_UbisoftApiConfigurationService__.a(sm.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store))}}]),UbisoftApiProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__services_WidgetChannelService__=__webpack_require__(98);__webpack_require__.d(exports,"a",function(){return WidgetChannelProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),WidgetChannelProvider=function(){function WidgetChannelProvider(){_classCallCheck(this,WidgetChannelProvider)}return _createClass(WidgetChannelProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__services_WidgetChannelService__.a.name}},{key:"provide",value:function(sm){var service=new __WEBPACK_IMPORTED_MODULE_0__services_WidgetChannelService__.a(window.self.location.href.split("owner=")[1]||"*",window.self.parent,(!1));return sm.bind(__WEBPACK_IMPORTED_MODULE_0__services_WidgetChannelService__.a,service),service}}]),WidgetChannelProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_2__stores_PlayerProfileStore__=__webpack_require__(282);__webpack_require__.d(exports,"a",function(){return PlayerProfileQueries});var PlayerProfileQueries=function PlayerProfileQueries(){_classCallCheck(this,PlayerProfileQueries)};PlayerProfileQueries.getMyPlayerProfile=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PlayerProfileQueries.getMyPlayerProfile",__WEBPACK_IMPORTED_MODULE_2__stores_PlayerProfileStore__.a.getById,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getUserId,function(playerProfile,hasIdentity,userId){return hasIdentity&&playerProfile[userId]?playerProfile[userId]:null}),PlayerProfileQueries.getHasProfileCallError=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PlayerProfileQueries.getHasProfileCallError",__WEBPACK_IMPORTED_MODULE_2__stores_PlayerProfileStore__.a.getHasProfileCallError,__WEBPACK_IMPORTED_MODULE_1__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,function(hasProfileCallError,hasIdentity){return!!hasIdentity&&hasProfileCallError}),PlayerProfileQueries.getMyLevel=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PlayerProfileQueries.getMyLevel",PlayerProfileQueries.getMyPlayerProfile,function(myPlayerProfile){return myPlayerProfile&&myPlayerProfile.currentLevel?myPlayerProfile.currentLevel.levelNumber:0}),PlayerProfileQueries.getMyNbOfYearsWithUbi=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PlayerProfileQueries.getMyYearsWithUbi",PlayerProfileQueries.getMyPlayerProfile,function(myPlayerProfile){return myPlayerProfile?myPlayerProfile.yos:0}),PlayerProfileQueries.getMyNbOfGamesOwned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PlayerProfileQueries.getMyGamesOwned",PlayerProfileQueries.getMyPlayerProfile,function(myPlayerProfile){return myPlayerProfile?myPlayerProfile.gamesOwned:0})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(285));__webpack_require__.d(exports,"a",function(){return UserRewardsQueries});var UserRewardsQueries=function UserRewardsQueries(){_classCallCheck(this,UserRewardsQueries)};UserRewardsQueries.getRewardsOwned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardsOwned",__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__.a.getRewards,function(rewards){return rewards.filter(function(item){return item.purchased})}),UserRewardsQueries.getNbRewardsOwned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getNbRewardsOwned",UserRewardsQueries.getRewardsOwned,function(rewards){return rewards.length}),UserRewardsQueries.getNbOfTotalRewards=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getNbOfTotalRewards",__WEBPACK_IMPORTED_MODULE_1_app_stores_RewardsStore__.a.getRewards,function(rewards){return rewards.length})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return DebugService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DebugService=function(){function DebugService(){_classCallCheck(this,DebugService),this.debug=!1,this.debug=!1}return _createClass(DebugService,[{key:"enableDebug",value:function(){return this.debug=!0,this}},{key:"disableDebug",value:function(){return this.debug=!1,this}},{key:"log",value:function(messages){this.consoleCall(messages,console.log)}},{key:"info",value:function(messages){this.consoleCall(messages,console.info)}},{key:"warn",value:function(messages){this.consoleCall(messages,console.warn)}},{key:"error",value:function(messages){this.consoleCall(messages,console.error)}},{key:"consoleCall",value:function(messages,callback){this.debug&&(Array.isArray(messages)?messages.forEach(function(message){callback(message)}):callback(messages))}}]),DebugService}()},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedIpLocationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(499)),__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__=__webpack_require__(12);__webpack_require__.d(exports,"a",function(){return IpLocationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},IpLocationService=function(_AbstractActions){function IpLocationService(ipLocationApi){_classCallCheck(this,IpLocationService);var _this=_possibleConstructorReturn(this,(IpLocationService.__proto__||Object.getPrototypeOf(IpLocationService)).call(this));return _this.ipLocationApi=ipLocationApi,_this}return _inherits(IpLocationService,_AbstractActions),_createClass(IpLocationService,[{key:"loadIpLocation",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promise;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.ipLocationApi.getIpLocation();case 2:return promise=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedIpLocationAction__.a(_defineProperty({},promise.ip,promise),_defineProperty({},__WEBPACK_IMPORTED_MODULE_4__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),promise.ip))),_context.abrupt("return",promise);case 5:case"end":return _context.stop()}},_callee,this)}))}}]),IpLocationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);IpLocationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.IpLocationApi])],IpLocationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPsnFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(500)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedXboxFriendsAction__=__webpack_require__(502);__webpack_require__.d(exports,"a",function(){return LinkedAccountsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},LinkedAccountsService=function(_AbstractActions){function LinkedAccountsService(linkedAccountsApi,usersProfilesApi){_classCallCheck(this,LinkedAccountsService);var _this=_possibleConstructorReturn(this,(LinkedAccountsService.__proto__||Object.getPrototypeOf(LinkedAccountsService)).call(this));return _this.linkedAccountsApi=linkedAccountsApi,_this.usersProfilesApi=usersProfilesApi,_this}return _inherits(LinkedAccountsService,_AbstractActions),_createClass(LinkedAccountsService,[{key:"loadPlayStationFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promise;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,this.linkedAccountsApi.getPlayStationFriends(offset,limit);case 3:return promise=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedPsnFriendsAction__.a(promise)),_context.abrupt("return",promise);case 8:return _context.prev=8,_context.t0=_context["catch"](0),_context.abrupt("return",Promise.reject(_context.t0));case 11:case"end":return _context.stop()}},_callee,this,[[0,8]])}))}},{key:"loadXboxFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var promise;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,this.linkedAccountsApi.getXboxFriends(offset,limit);case 3:return promise=_context2.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedXboxFriendsAction__.a(promise)),_context2.abrupt("return",promise);case 8:return _context2.prev=8,_context2.t0=_context2["catch"](0),_context2.abrupt("return",Promise.reject(_context2.t0));case 11:case"end":return _context2.stop()}},_callee2,this,[[0,8]])}))}}]),LinkedAccountsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);LinkedAccountsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.LinkedAccountsApi,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.UserProfilesApi])],LinkedAccountsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedGamesNewsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(235)),__WEBPACK_IMPORTED_MODULE_4__stejar_translate__=__webpack_require__(25);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_translate__);__webpack_require__.d(exports,"a",function(){return NewsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},NewsService=function(_AbstractActions){function NewsService(newsApi){_classCallCheck(this,NewsService);var _this=_possibleConstructorReturn(this,(NewsService.__proto__||Object.getPrototypeOf(NewsService)).call(this));return _this.newsApi=newsApi,_this}return _inherits(NewsService,_AbstractActions),_createClass(NewsService,[{key:"loadNews",value:function(spaceIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var news,byId,bySpaceId;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return news=[],byId={},bySpaceId={},_context.prev=3,_context.next=6,this.newsApi.getNews(spaceIds,!0);case 6:if(news=_context.sent,0!=news.length||"en-US"===__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState())){_context.next=11;break}return _context.next=10,this.newsApi.getNews(spaceIds,!0,null,null,"en-US");case 10:news=_context.sent;case 11:news.map(function(singleNews){byId[singleNews.newsId]=singleNews,bySpaceId[singleNews.spaceId]?bySpaceId[singleNews.spaceId].push(singleNews.newsId):bySpaceId[singleNews.spaceId]=[singleNews.newsId]}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedGamesNewsAction__.a(news,byId,bySpaceId)),_context.next=18;break;case 15:_context.prev=15,_context.t0=_context["catch"](3),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedGamesNewsAction__.a(news,byId,bySpaceId));case 18:case"end":return _context.stop()}},_callee,this,[[3,15]])}))}}]),NewsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);NewsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.NewsApi])],NewsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass);
}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPlayerProfileAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(237));__webpack_require__.d(exports,"a",function(){return PlayerProfileService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},PlayerProfileService=function(_AbstractActions){function PlayerProfileService(playerProfileApi){_classCallCheck(this,PlayerProfileService);var _this=_possibleConstructorReturn(this,(PlayerProfileService.__proto__||Object.getPrototypeOf(PlayerProfileService)).call(this));return _this.playerProfileApi=playerProfileApi,_this}return _inherits(PlayerProfileService,_AbstractActions),_createClass(PlayerProfileService,[{key:"loadPlayerProfile",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var byId,playerProfile;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return byId={},_context.prev=1,_context.next=4,this.playerProfileApi.getPlayerProfile();case 4:playerProfile=_context.sent,byId[playerProfile.profileId]=playerProfile,this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedPlayerProfileAction__.a(byId,(!1))),_context.next=13;break;case 9:_context.prev=9,_context.t0=_context["catch"](1),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedPlayerProfileAction__.a(byId,(!0))),console.error(_context.t0);case 13:case"end":return _context.stop()}},_callee,this,[[1,9]])}))}}]),PlayerProfileService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);PlayerProfileService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PlayerProfileApi])],PlayerProfileService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPopulationsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(238)),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5_moment__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__),__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__=__webpack_require__(119);__webpack_require__.d(exports,"a",function(){return PopulationsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},PopulationsService=function(_AbstractActions){function PopulationsService(populationsApi){_classCallCheck(this,PopulationsService);var _this=_possibleConstructorReturn(this,(PopulationsService.__proto__||Object.getPrototypeOf(PopulationsService)).call(this));return _this.populationsApi=populationsApi,_this}return _inherits(PopulationsService,_AbstractActions),_createClass(PopulationsService,[{key:"loadMyBetaPopulations",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var populations,byUniqueName,byType,byBetaName,byPhaseName,byPlatformCode,bySpaceId;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(populations=[],byUniqueName={},byType={},byBetaName={},byPhaseName={},byPlatformCode={},bySpaceId={},!__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getDefaultDataCacheTime())){_context.next=22;break}return _context.prev=8,_context.next=11,this.populationsApi.getMyPopulations([__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaPopulationsSpaceId(this.getState())]);case 11:populations=_context.sent,populations.forEach(function(population){byUniqueName[population.name+"__"+population.subject]=population,bySpaceId[population.spaceId]?bySpaceId[population.spaceId].push(population.name+"__"+population.subject):bySpaceId[population.spaceId]=[population.name+"__"+population.subject],byType[population.obj.type]?byType[population.obj.type].push(population):byType[population.obj.type]=[population],byBetaName[population.obj.betaName]?byBetaName[population.obj.betaName].push(population):byBetaName[population.obj.betaName]=[population],byPhaseName[population.obj.phaseName]?byPhaseName[population.obj.phaseName].push(population):byPhaseName[population.obj.phaseName]=[population],byPlatformCode[population.obj.platform]?byPlatformCode[population.obj.platform].push(population):byPlatformCode[population.obj.platform]=[population]}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedPopulationsAction__.a(populations,byUniqueName,byType,byBetaName,byPhaseName,byPlatformCode,bySpaceId,__WEBPACK_IMPORTED_MODULE_5_moment___default()().unix())),_context.next=20;break;case 16:_context.prev=16,_context.t0=_context["catch"](8),console.error(_context.t0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedPopulationsAction__.a(populations,byUniqueName,byType,byBetaName,byPhaseName,byPlatformCode,bySpaceId,__WEBPACK_IMPORTED_MODULE_5_moment___default()().unix()));case 20:_context.next=23;break;case 22:this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedPopulationsAction__.a(__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getPopulations(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getByUniqueName(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getByType(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getByBetaName(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getByPhaseName(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getByPlatformCode(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_6__stores_PopulationsStore__.a.getExpiration(this.getState())));case 23:case"end":return _context.stop()}},_callee,this,[[8,16]])}))}}]),PopulationsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);PopulationsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PopulationsApi])],PopulationsService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_5__actions_LoadedProfileEntitiesAction__=__webpack_require__(239);__webpack_require__.d(exports,"a",function(){return ProfileEntitiesService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ProfileEntitiesService=function(_AbstractActions){function ProfileEntitiesService(profileEntitiesApi){_classCallCheck(this,ProfileEntitiesService);var _this=_possibleConstructorReturn(this,(ProfileEntitiesService.__proto__||Object.getPrototypeOf(ProfileEntitiesService)).call(this));return _this.profileEntitiesApi=profileEntitiesApi,_this}return _inherits(ProfileEntitiesService,_AbstractActions),_createClass(ProfileEntitiesService,[{key:"loadMyProfileEntities",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.common(this.profileEntitiesApi.getProfileEntities(__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaType(this.getState())));case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"createProfileEntity",value:function(obj){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.common(this.profileEntitiesApi.createProfileEntity(__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId(this.getState()),"Beta",obj,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaType(this.getState())));case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"updateProfileEntity",value:function(entityId,obj,revision){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(entityId&&obj&&revision){_context3.next=2;break}return _context3.abrupt("return");case 2:return _context3.next=4,this.common(this.profileEntitiesApi.updateProfileEntity(entityId,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaEnitySpaceId(this.getState()),"Beta",obj,revision,__WEBPACK_IMPORTED_MODULE_4__modules_configuration_queries_ConfigurationQueries__.a.getBetaType(this.getState())));case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"common",value:function(promise){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var entities,byEntityId,bySpaceId;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return entities=[],byEntityId={},bySpaceId={},_context4.prev=3,_context4.next=6,promise;case 6:entities=_context4.sent,Array.isArray(entities)?entities.map(function(entity){byEntityId[entity.entityId]=entity,bySpaceId[entity.spaceId]?bySpaceId[entity.spaceId].push(entity.entityId):bySpaceId[entity.spaceId]=[entity.entityId]}):(byEntityId[entities.entityId]=entities,bySpaceId[entities.spaceId]?bySpaceId[entities.spaceId].push(entities.entityId):bySpaceId[entities.spaceId]=[entities.entityId]),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedProfileEntitiesAction__.a(entities,byEntityId,bySpaceId)),_context4.next=14;break;case 11:_context4.prev=11,_context4.t0=_context4["catch"](3),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedProfileEntitiesAction__.a(entities,byEntityId,bySpaceId));case 14:case"end":return _context4.stop()}},_callee4,this,[[3,11]])}))}}]),ProfileEntitiesService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ProfileEntitiesService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.ProfileEntitiesApi])],ProfileEntitiesService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedTwoFactorAuthStatusAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(501));__webpack_require__.d(exports,"a",function(){return TwoFactorAuthService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},TwoFactorAuthService=function(_AbstractActions){function TwoFactorAuthService(twoFactorAuthApi){_classCallCheck(this,TwoFactorAuthService);var _this=_possibleConstructorReturn(this,(TwoFactorAuthService.__proto__||Object.getPrototypeOf(TwoFactorAuthService)).call(this));return _this.twoFactorAuthApi=twoFactorAuthApi,_this}return _inherits(TwoFactorAuthService,_AbstractActions),_createClass(TwoFactorAuthService,[{key:"getTwoFactorAuthStatus",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var twoFactorAuth;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,this.twoFactorAuthApi.getTwoFactorAuthStatus();case 3:twoFactorAuth=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedTwoFactorAuthStatusAction__.a(twoFactorAuth.active,twoFactorAuth.optin)),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context["catch"](0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedTwoFactorAuthStatusAction__.a((!1),(!1)));case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])}))}}]),TwoFactorAuthService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);TwoFactorAuthService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.TwoFactorAuthApi])],TwoFactorAuthService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_translate__),__webpack_require__(28)),__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(15);__webpack_require__.d(exports,"a",function(){return UbisoftApiConfigurationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UbisoftApiConfigurationService=function(_ApplicationConfigura){function UbisoftApiConfigurationService(store){_classCallCheck(this,UbisoftApiConfigurationService);var _this=_possibleConstructorReturn(this,(UbisoftApiConfigurationService.__proto__||Object.getPrototypeOf(UbisoftApiConfigurationService)).call(this));return _this.store=store,_this}return _inherits(UbisoftApiConfigurationService,_ApplicationConfigura),_createClass(UbisoftApiConfigurationService,[{key:"getApplicationId",value:function(){return __WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.store.getState())}},{key:"getSessionId",value:function(){return __WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.store.getState()).sessionId:null}},{key:"getTicket",value:function(){return __WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.store.getState()).ticket:null}},{key:"getToken",value:function(){return __WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.store.getState()).token:null}},{key:"getLocale",value:function(){return __WEBPACK_IMPORTED_MODULE_3__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState())}},{key:"getUserBadgesSpaceId",value:function(){return __WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__.a.getBadgesSpaceId(this.store.getState())}},{key:"getTwitchClientId",value:function(){return __WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__.a.getTwitchClientId(this.store.getState())}}]),UbisoftApiConfigurationService}(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.ApplicationConfigurationContract);UbisoftApiConfigurationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store])],UbisoftApiConfigurationService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(10)),__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_4__actions_LocalizedMessageAction__=__webpack_require__(245),__WEBPACK_IMPORTED_MODULE_5__actions_ValidationErrorCodeAction__=__webpack_require__(540);__webpack_require__.d(exports,"g",function(){return USER_NAME_ERROR_GENERAL}),__webpack_require__.d(exports,"d",function(){return USER_NAME_ERROR_REQUIRED}),__webpack_require__.d(exports,"f",function(){return USER_NAME_ERROR_LOCALIZED}),__webpack_require__.d(exports,"c",function(){return USER_NAME_ERROR_AVAILABLE}),__webpack_require__.d(exports,"e",function(){return USER_NAME_ERROR_RESTRICTED}),__webpack_require__.d(exports,"a",function(){return USER_NAME_ERROR_TIME_LIMIT}),__webpack_require__.d(exports,"b",function(){return USER_NAME_ERROR_TIME_LIMIT_NEW}),__webpack_require__.d(exports,"h",function(){return USER_NAME_ERROR_START}),__webpack_require__.d(exports,"i",function(){return USER_NAME_ERROR_LENGTH}),__webpack_require__.d(exports,"j",function(){return USER_NAME_ERROR_CHARACTER}),__webpack_require__.d(exports,"k",function(){return USER_NAME_ERROR_COMPANY}),__webpack_require__.d(exports,"l",function(){return USER_NAME_ERROR_UBISOFT}),__webpack_require__.d(exports,"m",function(){
return UserNameService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},USER_NAME_ERROR_GENERAL="general",USER_NAME_ERROR_REQUIRED="Required",USER_NAME_ERROR_LOCALIZED="1010",USER_NAME_ERROR_AVAILABLE="1011",USER_NAME_ERROR_RESTRICTED="1013",USER_NAME_ERROR_TIME_LIMIT="1213",USER_NAME_ERROR_TIME_LIMIT_NEW="4",USER_NAME_ERROR_START="USER_NAME_ERROR_START",USER_NAME_ERROR_LENGTH="USER_NAME_ERROR_LENGTH",USER_NAME_ERROR_CHARACTER="USER_NAME_ERROR_CHARACTER",USER_NAME_ERROR_COMPANY="USER_NAME_ERROR_COMPANY",USER_NAME_ERROR_UBISOFT="USER_NAME_ERROR_UBISOFT",UserNameService=function(_AbstractActions){function UserNameService(userNameApi){_classCallCheck(this,UserNameService);var _this=_possibleConstructorReturn(this,(UserNameService.__proto__||Object.getPrototypeOf(UserNameService)).call(this));return _this.userNameApi=userNameApi,_this}return _inherits(UserNameService,_AbstractActions),_createClass(UserNameService,[{key:"validateUserName",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var validation;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.userNameApi.validateScreenName(__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),userName);case 2:return validation=_context.sent,validation.validationReports.length>0?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LocalizedMessageAction__.a(validation.validationReports[0].Message)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ValidationErrorCodeAction__.a(validation.validationReports[0].ErrorCode,(!0)))):(this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LocalizedMessageAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ValidationErrorCodeAction__.a(null,(!1)))),_context.abrupt("return",validation);case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"updateScreenName",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.userNameApi.updateScreenName(__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),userName);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}))}}]),UserNameService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);UserNameService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.UserNameApi])],UserNameService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(236)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGamesAction__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsAction__=__webpack_require__(233),__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsClubProfilesAction__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_8_app_actions_LoadedConnectionsAction__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedRewardsAction__=__webpack_require__(241),__WEBPACK_IMPORTED_MODULE_10_app_actions_LoadedGameStatsAction__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_11_app_actions_LoadingRewardsAction__=__webpack_require__(244),__WEBPACK_IMPORTED_MODULE_12_app_actions_LoadingGameStatsAction__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_13_app_actions_LoadingGamesAction__=__webpack_require__(243),__WEBPACK_IMPORTED_MODULE_14__actions_LoadedAvatarAction__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_15__actions_LoadedFriendsPlayingGame__=__webpack_require__(171),__WEBPACK_IMPORTED_MODULE_16__actions_LoadedFriendsStatsAction__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_17__actions_LoadedRecentlyMetAction__=__webpack_require__(240),__WEBPACK_IMPORTED_MODULE_18__actions_LoadedGalleryAvatarsAction__=__webpack_require__(234),__WEBPACK_IMPORTED_MODULE_19__actions_LoadingAvatarsAction__=__webpack_require__(503),__WEBPACK_IMPORTED_MODULE_20__actions_LoadedPopulationsAction__=__webpack_require__(238),__WEBPACK_IMPORTED_MODULE_21__actions_LoadedProfileEntitiesAction__=__webpack_require__(239),__WEBPACK_IMPORTED_MODULE_22__actions_LoadedGamesNewsAction__=__webpack_require__(235),__WEBPACK_IMPORTED_MODULE_23__actions_LoadingFriendsPlayingGameAction__=__webpack_require__(504),__WEBPACK_IMPORTED_MODULE_24__actions_LoadedPlayerProfileAction__=__webpack_require__(237),__WEBPACK_IMPORTED_MODULE_25__actions_LoadedFriendGamesAction__=__webpack_require__(497);__webpack_require__.d(exports,"a",function(){return LoadersStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LoadersStore=function(_ReducerStore){function LoadersStore(){_classCallCheck(this,LoadersStore);var _this=_possibleConstructorReturn(this,(LoadersStore.__proto__||Object.getPrototypeOf(LoadersStore)).call(this));return _this.iniitalState={MyUserProfiles:!1,FriendsUserProfiles:!1,FriendsClubProfiles:!1,Games:!1,GamesStats:!1,Rewards:!1,Friends:!1,Connections:!1,Avatars:!1,FriendsPlayingGame:!1,GamesFriendsStats:!1,RecentlyMet:!1,GalleryAvatars:!1,Populations:!1,ProfileEntities:!1,News:!1,PlayerProfile:!1,FriendGames:!1},_this.bind(null,function(){return _this.iniitalState}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__.a.name,_this.handleLoadedUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGamesAction__.a.name,_this.handleLoadedGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10_app_actions_LoadedGameStatsAction__.a.name,_this.handleLoadedGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_12_app_actions_LoadingGameStatsAction__.a.name,_this.handleLoadingGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13_app_actions_LoadingGamesAction__.a.name,_this.handleLoadingGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedRewardsAction__.a.name,_this.handleLoadedRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11_app_actions_LoadingRewardsAction__.a.name,_this.handleLoadingRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsClubProfilesAction__.a.name,_this.handleLoadedFriendsClubProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a.name,_this.handleLoadedFriendsUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8_app_actions_LoadedConnectionsAction__.a.name,_this.handleLoadedConnectionsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_LoadedAvatarAction__.a.name,_this.handleLoadedAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_LoadedFriendsPlayingGame__.a.name,_this.handleLoadedFriendsPlayingGame),_this.bind(__WEBPACK_IMPORTED_MODULE_16__actions_LoadedFriendsStatsAction__.a.name,_this.handleLoadedFriendsStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17__actions_LoadedRecentlyMetAction__.a.name,_this.handleLoadedRecentlyMetAction),_this.bind(__WEBPACK_IMPORTED_MODULE_18__actions_LoadedGalleryAvatarsAction__.a.name,_this.handleLoadedGalleryAvatarsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_19__actions_LoadingAvatarsAction__.a.name,_this.handleLoadingGalleryAvatarsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_20__actions_LoadedPopulationsAction__.a.name,_this.handleLoadedPopulationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_21__actions_LoadedProfileEntitiesAction__.a.name,_this.handleLoadedProfileEntitiesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_22__actions_LoadedGamesNewsAction__.a.name,_this.handleLoadedGamesNewsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_23__actions_LoadingFriendsPlayingGameAction__.a.name,_this.handleLoadingFriendsPlayingGame),_this.bind(__WEBPACK_IMPORTED_MODULE_24__actions_LoadedPlayerProfileAction__.a.name,_this.handleLoadedPlayerProfileAction),_this.bind(__WEBPACK_IMPORTED_MODULE_25__actions_LoadedFriendGamesAction__.a.name,_this.handleLoadFriendGamesAction),_this}return _inherits(LoadersStore,_ReducerStore),_createClass(LoadersStore,[{key:"handleLoggedOutAction",value:function(state,action){return this.iniitalState}},{key:"handleLoadedUserProfilesAction",value:function(state,action){return Object.assign({},state,{MyUserProfiles:!0})}},{key:"handleLoadedGamesAction",value:function(state,action){return Object.assign({},state,{Games:!0})}},{key:"handleLoadingGamesAction",value:function(state,action){return Object.assign({},state,{Games:!action.loading})}},{key:"handleLoadedGameStatsAction",value:function(state,action){return Object.assign({},state,{GamesStats:!0})}},{key:"handleLoadingGameStatsAction",value:function(state,action){return Object.assign({},state,{GamesStats:!1})}},{key:"handleLoadedRewardsAction",value:function(state,action){return Object.assign({},state,{Rewards:!0})}},{key:"handleLoadingRewardsAction",value:function(state,action){return Object.assign({},state,{Rewards:!1})}},{key:"handleLoadedFriendsAction",value:function(state,action){return Object.assign({},state,{Friends:!0})}},{key:"handleLoadedFriendsClubProfilesAction",value:function(state,action){return Object.assign({},state,{FriendsClubProfiles:!0})}},{key:"handleLoadedFriendsUserProfilesAction",value:function(state,action){return Object.assign({},state,{FriendsUserProfiles:!0})}},{key:"handleLoadedConnectionsAction",value:function(state,action){return Object.assign({},state,{Connections:!0})}},{key:"handleLoadedAvatarAction",value:function(state,action){return Object.assign({},state,{Avatars:!0})}},{key:"handleLoadedFriendsPlayingGame",value:function(state,action){return Object.assign({},state,{FriendsPlayingGame:!0})}},{key:"handleLoadedRecentlyMetAction",value:function(state,action){return Object.assign({},state,{RecentlyMet:!0})}},{key:"handleLoadedFriendsStatsAction",value:function(state,action){return Object.assign({},state,{GamesFriendsStats:!0})}},{key:"handleLoadedGalleryAvatarsAction",value:function(state,action){return Object.assign({},state,{GalleryAvatars:!0})}},{key:"handleLoadingGalleryAvatarsAction",value:function(state,action){return Object.assign({},state,{Avatars:!1})}},{key:"handleLoadedPopulationsAction",value:function(state,action){return Object.assign({},state,{Populations:!0})}},{key:"handleLoadedProfileEntitiesAction",value:function(state,action){return Object.assign({},state,{ProfileEntities:!0})}},{key:"handleLoadedGamesNewsAction",value:function(state,action){return Object.assign({},state,{News:!0})}},{key:"handleLoadingFriendsPlayingGame",value:function(state,action){return Object.assign({},state,{FriendsPlayingGame:!1})}},{key:"handleLoadedPlayerProfileAction",value:function(state,action){return __assign({},state,{PlayerProfile:!0})}},{key:"handleLoadFriendGamesAction",value:function(state,action){return __assign({},state,{FriendGames:action.loading})}}]),LoadersStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);LoadersStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],LoadersStore)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_3_app_actions_ShowFriendsActivityAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(515)),__WEBPACK_IMPORTED_MODULE_4_app_actions_HideFriendsActivityAction__=__webpack_require__(493),__WEBPACK_IMPORTED_MODULE_5_app_actions_BootedWidgetAction__=__webpack_require__(469),__WEBPACK_IMPORTED_MODULE_6_app_actions_ResizeWidgetAction__=__webpack_require__(509),__WEBPACK_IMPORTED_MODULE_7_app_actions_ShowMobileTabsAction__=__webpack_require__(516),__WEBPACK_IMPORTED_MODULE_8_app_actions_HideMobileTabsAction__=__webpack_require__(494),__WEBPACK_IMPORTED_MODULE_9_app_actions_ToggleOnClickActiveMenuAction__=__webpack_require__(523),__WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeLastPlayedGameAction__=__webpack_require__(479),__WEBPACK_IMPORTED_MODULE_11_app_actions_HideNotificationsPanelAction__=__webpack_require__(495),__WEBPACK_IMPORTED_MODULE_12_app_actions_ShowNotificationsPanelAction__=__webpack_require__(517),__WEBPACK_IMPORTED_MODULE_13__actions_DeselectArabLanguageAction__=__webpack_require__(230),__WEBPACK_IMPORTED_MODULE_14__actions_SelectArabLanguageAction__=__webpack_require__(246),__WEBPACK_IMPORTED_MODULE_15__actions_ResizeWidgetHeightAction__=__webpack_require__(510),__WEBPACK_IMPORTED_MODULE_16__actions_SetParentUrlAction__=__webpack_require__(512),__WEBPACK_IMPORTED_MODULE_17__actions_SetSsoIdAction__=__webpack_require__(513),__WEBPACK_IMPORTED_MODULE_18__actions_ConnectLoginUrlAction__=__webpack_require__(490),__WEBPACK_IMPORTED_MODULE_19__actions_WritteCONNECTloginDataAction__=__webpack_require__(261),__WEBPACK_IMPORTED_MODULE_20__actions_DeleteCONNECTloginDataAction__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_21__actions_ResizeWidgetParentHeightAction__=__webpack_require__(511),__WEBPACK_IMPORTED_MODULE_22__actions_ToggleShowOverviewTabDetailsViewAction__=__webpack_require__(142),__WEBPACK_IMPORTED_MODULE_23__actions_ToggleShowFriendsTabDetailsViewAction__=__webpack_require__(176),__WEBPACK_IMPORTED_MODULE_24__actions_ShowDetailsViewAction__=__webpack_require__(514),__WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowMobileViewOnDesktopAction__=__webpack_require__(527),__WEBPACK_IMPORTED_MODULE_26__actions_StartedPanelFlowAction__=__webpack_require__(519),__WEBPACK_IMPORTED_MODULE_27__actions_ToggleShowStatsHeaderOnPlayerCardDetails__=__webpack_require__(258),__WEBPACK_IMPORTED_MODULE_28__actions_ToggleShowStatsHeaderOnFriendsDetails__=__webpack_require__(257),__WEBPACK_IMPORTED_MODULE_29__actions_ToggleShowNameHeaderOnFriendsDetails__=__webpack_require__(254);__webpack_require__.d(exports,"a",function(){return WidgetStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},WidgetStore=function(_ReducerStore){function WidgetStore(){_classCallCheck(this,WidgetStore);var _this=_possibleConstructorReturn(this,(WidgetStore.__proto__||Object.getPrototypeOf(WidgetStore)).call(this));return _this.bind(null,function(){return{booted:!1,showFriends:!1,showPlayerCard:!1,isInMobileView:!1,showMobileTabs:!1,noActiveClickOnMenu:!1,newLastPlayGameInstallmentId:null,showNotifications:!1,isOnArabLocale:null,height:null,parentUrl:null,ssoId:null,connectLoginUrl:null,connectUrl:null,CONNECTloginData:null,windowHeight:50,showPlayerCardDetails:!1,showFriendsDetails:!1,showDetailsView:!1,showMobileViewOnDesktop:!1,startedPanelFlow:!1,showStatsHeaderOnPlayerCardDetails:!1,showStatsHeaderOnFriendsDetails:!1,showNameHeaderOnFriendsDetails:!1,trackingBannerHeight:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_ShowFriendsActivityAction__.a.name,_this.handleShowFriendsActivityAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_HideFriendsActivityAction__.a.name,_this.handleHideFriendsActivityAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7_app_actions_ShowMobileTabsAction__.a.name,_this.handleShowMobileTabs),_this.bind(__WEBPACK_IMPORTED_MODULE_8_app_actions_HideMobileTabsAction__.a.name,_this.handleHideMobileTabs),_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_BootedWidgetAction__.a.name,_this.handleBootedWidgetAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6_app_actions_ResizeWidgetAction__.a.name,_this.handleResizeWidget),_this.bind(__WEBPACK_IMPORTED_MODULE_9_app_actions_ToggleOnClickActiveMenuAction__.a.name,_this.handleNoActiveClickMenu),_this.bind(__WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeLastPlayedGameAction__.a.name,_this.handleChangeLastPlayedGame),_this.bind(__WEBPACK_IMPORTED_MODULE_12_app_actions_ShowNotificationsPanelAction__.a.name,_this.handleShowNotificationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11_app_actions_HideNotificationsPanelAction__.a.name,_this.handleHideNotificationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_SelectArabLanguageAction__.a.name,_this.handleSelectedArabLanguageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13__actions_DeselectArabLanguageAction__.a.name,_this.handleDeselectArabLanguageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_ResizeWidgetHeightAction__.a.name,_this.handleResizeWidgetHeight),_this.bind(__WEBPACK_IMPORTED_MODULE_16__actions_SetParentUrlAction__.a.name,_this.handleSetParentUrlAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17__actions_SetSsoIdAction__.a.name,_this.handleSetSsoIdAction),_this.bind(__WEBPACK_IMPORTED_MODULE_18__actions_ConnectLoginUrlAction__.a.name,_this.handleSetConnectLoginUrlAction),_this.bind(__WEBPACK_IMPORTED_MODULE_19__actions_WritteCONNECTloginDataAction__.a.name,_this.handleWritteCONNECTloginDataAction),_this.bind(__WEBPACK_IMPORTED_MODULE_20__actions_DeleteCONNECTloginDataAction__.a.name,_this.handleDeleteCONNECTloginDataAction),_this.bind(__WEBPACK_IMPORTED_MODULE_21__actions_ResizeWidgetParentHeightAction__.a.name,_this.handleResizeWidgetParentHeightAction),_this.bind(__WEBPACK_IMPORTED_MODULE_22__actions_ToggleShowOverviewTabDetailsViewAction__.a.name,_this.handleToggleShowOverviewTabDetailsViewAction),_this.bind(__WEBPACK_IMPORTED_MODULE_23__actions_ToggleShowFriendsTabDetailsViewAction__.a.name,_this.handleToggleShowFriendsTabDetailsViewAction),_this.bind(__WEBPACK_IMPORTED_MODULE_24__actions_ShowDetailsViewAction__.a.name,_this.handleShowDetailsViewAction),_this.bind(__WEBPACK_IMPORTED_MODULE_25__actions_ToggleShowMobileViewOnDesktopAction__.a.name,_this.handleToggleShowMobileViewOnDesktopAction),_this.bind(__WEBPACK_IMPORTED_MODULE_26__actions_StartedPanelFlowAction__.a.name,_this.handleStartedPanelFlowAction),_this.bind(__WEBPACK_IMPORTED_MODULE_27__actions_ToggleShowStatsHeaderOnPlayerCardDetails__.a.name,_this.handleToggleShowStatsHeaderOnPlayerCardDetails),_this.bind(__WEBPACK_IMPORTED_MODULE_28__actions_ToggleShowStatsHeaderOnFriendsDetails__.a.name,_this.handleToggleShowStatsHeaderOnFriendsDetails),_this.bind(__WEBPACK_IMPORTED_MODULE_29__actions_ToggleShowNameHeaderOnFriendsDetails__.a.name,_this.handleToggleShowNameHeaderOnFriendsDetails),_this}return _inherits(WidgetStore,_ReducerStore),_createClass(WidgetStore,[{key:"handleLoggedOutAction",value:function(state,action){return __assign({},state,{showFriends:!1,showPlayerCard:!1,showNotifications:!1,height:null,windowHeight:50,showPlayerCardDetails:!1,showFriendsDetails:!1,detailsViewWidth:0,showMobileViewOnDesktop:!1})}},{key:"handleShowFriendsActivityAction",value:function(state,action){return Object.assign({},state,{showFriends:!0})}},{key:"handleHideFriendsActivityAction",value:function(state,action){return Object.assign({},state,{showFriends:!1})}},{key:"handleBootedWidgetAction",value:function(state,action){return Object.assign({},state,{booted:!0})}},{key:"handleResizeWidget",value:function(state,action){return Object.assign({},state,{isInMobileView:action.isInMobileView})}},{key:"handleResizeWidgetHeight",value:function(state,action){return Object.assign({},state,{height:action.height})}},{key:"handleShowMobileTabs",value:function(state,action){return Object.assign({},state,{showMobileTabs:!0})}},{key:"handleHideMobileTabs",value:function(state,action){return Object.assign({},state,{showMobileTabs:!1})}},{key:"handleNoActiveClickMenu",value:function(state,action){return Object.assign({},state,{noActiveClickOnMenu:action.active})}},{key:"handleChangeLastPlayedGame",value:function(state,action){return Object.assign({},state,{newLastPlayGameInstallmentId:action.installmentId})}},{key:"handleShowNotificationsAction",value:function(state,action){return Object.assign({},state,{showNotifications:!0})}},{key:"handleHideNotificationsAction",value:function(state,action){return Object.assign({},state,{showNotifications:!1})}},{key:"handleSelectedArabLanguageAction",value:function(state,action){return Object.assign({},state,{isOnArabLocale:!0})}},{key:"handleDeselectArabLanguageAction",value:function(state,action){return Object.assign({},state,{isOnArabLocale:!1})}},{key:"handleSetParentUrlAction",value:function(state,action){return Object.assign({},state,{parentUrl:action.parentUrl})}},{key:"handleSetSsoIdAction",value:function(state,action){return Object.assign({},state,{ssoId:action.ssoId})}},{key:"handleSetConnectLoginUrlAction",value:function(state,action){return Object.assign({},state,{connectLoginUrl:action.loginUrl,connectUrl:action.connectUrl})}},{key:"handleWritteCONNECTloginDataAction",value:function(state,action){return Object.assign({},state,{CONNECTloginData:action.CONNECTloginData})}},{key:"handleDeleteCONNECTloginDataAction",value:function(state,action){return Object.assign({},state,{CONNECTloginData:null})}},{key:"handleResizeWidgetParentHeightAction",value:function(state,action){return Object.assign({},state,{windowHeight:action.height,trackingBannerHeight:action.trackingBannerHeight})}},{key:"handleToggleShowOverviewTabDetailsViewAction",value:function(state,action){return Object.assign({},state,{showPlayerCardDetails:action.show})}},{key:"handleToggleShowFriendsTabDetailsViewAction",value:function(state,action){return Object.assign({},state,{showFriendsDetails:action.show})}},{key:"handleShowDetailsViewAction",value:function(state,action){return Object.assign({},state,{showDetailsView:action.toggle})}},{key:"handleToggleShowMobileViewOnDesktopAction",value:function(state,action){return Object.assign({},state,{showMobileViewOnDesktop:action.showMobileViewOnDesktop})}},{key:"handleStartedPanelFlowAction",value:function(state,action){return Object.assign({},state,{startedPanelFlow:action.startedPanelFlow})}},{key:"handleToggleShowStatsHeaderOnPlayerCardDetails",value:function(state,action){return Object.assign({},state,{showStatsHeaderOnPlayerCardDetails:action.toggle})}},{key:"handleToggleShowStatsHeaderOnFriendsDetails",value:function(state,action){return Object.assign({},state,{showStatsHeaderOnFriendsDetails:action.toggle})}},{key:"handleToggleShowNameHeaderOnFriendsDetails",value:function(state,action){return Object.assign({},state,{showNameHeaderOnFriendsDetails:action.toggle})}}]),WidgetStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);WidgetStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],WidgetStore)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./af":332,"./af.js":332,"./ar":338,"./ar-dz":333,"./ar-dz.js":333,"./ar-ly":334,"./ar-ly.js":334,"./ar-ma":335,"./ar-ma.js":335,"./ar-sa":336,"./ar-sa.js":336,"./ar-tn":337,"./ar-tn.js":337,"./ar.js":338,"./az":339,"./az.js":339,"./be":340,"./be.js":340,"./bg":341,"./bg.js":341,"./bn":342,"./bn.js":342,"./bo":343,"./bo.js":343,"./br":344,"./br.js":344,"./bs":345,"./bs.js":345,"./ca":346,"./ca.js":346,"./cs":347,"./cs.js":347,"./cv":348,"./cv.js":348,"./cy":349,"./cy.js":349,"./da":350,"./da.js":350,"./de":352,"./de-at":351,"./de-at.js":351,"./de.js":352,"./dv":353,"./dv.js":353,"./el":354,"./el.js":354,"./en-au":355,"./en-au.js":355,"./en-ca":356,"./en-ca.js":356,"./en-gb":357,"./en-gb.js":357,"./en-ie":358,"./en-ie.js":358,"./en-nz":359,"./en-nz.js":359,"./eo":360,"./eo.js":360,"./es":362,"./es-do":361,"./es-do.js":361,"./es.js":362,"./et":363,"./et.js":363,"./eu":364,"./eu.js":364,"./fa":365,"./fa.js":365,"./fi":366,"./fi.js":366,"./fo":367,"./fo.js":367,"./fr":370,"./fr-ca":368,"./fr-ca.js":368,"./fr-ch":369,"./fr-ch.js":369,"./fr.js":370,"./fy":371,"./fy.js":371,"./gd":372,"./gd.js":372,"./gl":373,"./gl.js":373,"./he":374,"./he.js":374,"./hi":375,"./hi.js":375,"./hr":376,"./hr.js":376,"./hu":377,"./hu.js":377,"./hy-am":378,"./hy-am.js":378,"./id":379,"./id.js":379,"./is":380,"./is.js":380,"./it":381,"./it.js":381,"./ja":382,"./ja.js":382,"./jv":383,"./jv.js":383,"./ka":384,"./ka.js":384,"./kk":385,"./kk.js":385,"./km":386,"./km.js":386,"./ko":387,"./ko.js":387,"./ky":388,"./ky.js":388,"./lb":389,"./lb.js":389,"./lo":390,"./lo.js":390,"./lt":391,"./lt.js":391,"./lv":392,"./lv.js":392,"./me":393,"./me.js":393,
"./mi":394,"./mi.js":394,"./mk":395,"./mk.js":395,"./ml":396,"./ml.js":396,"./mr":397,"./mr.js":397,"./ms":399,"./ms-my":398,"./ms-my.js":398,"./ms.js":399,"./my":400,"./my.js":400,"./nb":401,"./nb.js":401,"./ne":402,"./ne.js":402,"./nl":404,"./nl-be":403,"./nl-be.js":403,"./nl.js":404,"./nn":405,"./nn.js":405,"./pa-in":406,"./pa-in.js":406,"./pl":407,"./pl.js":407,"./pt":409,"./pt-br":408,"./pt-br.js":408,"./pt.js":409,"./ro":410,"./ro.js":410,"./ru":411,"./ru.js":411,"./se":412,"./se.js":412,"./si":413,"./si.js":413,"./sk":414,"./sk.js":414,"./sl":415,"./sl.js":415,"./sq":416,"./sq.js":416,"./sr":418,"./sr-cyrl":417,"./sr-cyrl.js":417,"./sr.js":418,"./ss":419,"./ss.js":419,"./sv":420,"./sv.js":420,"./sw":421,"./sw.js":421,"./ta":422,"./ta.js":422,"./te":423,"./te.js":423,"./tet":424,"./tet.js":424,"./th":425,"./th.js":425,"./tl-ph":426,"./tl-ph.js":426,"./tlh":427,"./tlh.js":427,"./tr":428,"./tr.js":428,"./tzl":429,"./tzl.js":429,"./tzm":431,"./tzm-latn":430,"./tzm-latn.js":430,"./tzm.js":431,"./uk":432,"./uk.js":432,"./uz":433,"./uz.js":433,"./vi":434,"./vi.js":434,"./x-pseudo":435,"./x-pseudo.js":435,"./yo":436,"./yo.js":436,"./zh-cn":437,"./zh-cn.js":437,"./zh-hk":438,"./zh-hk.js":438,"./zh-tw":439,"./zh-tw.js":439};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=824},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){},function(module,exports,__webpack_require__){__webpack_require__(716),module.exports=__webpack_require__(715)}],[1360]);