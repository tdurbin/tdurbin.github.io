;/* Version 0086dbec5e8a6e717bf36d3a06b62042 v:4.2.7.0, c:f13d8690475adc7ea03d74e9bbcc4cb7943ccb88, b:8879 n:2-4.2.7.next-build */(function(){/*


 Copyright (c) 2013, AppDynamics, Inc. All rights reserved.

 Derivative of Google Episodes:

 Copyright 2010 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 See the source code here:
 http://code.google.com/p/episodes/
*/
new function(){var g=window.ADRUM;if(g&&g.q&&!0!==window["adrum-disable"]){(function(a){(function(d){d.R=function(f){function c(a){return a.replace(/\s/g,"")===e}var b={a:[1,2,3,"str"]},e='{"a":[1,2,3,"str"]}';if("undefined"!==typeof JSON&&JSON&&d.isFunction(JSON.stringify)&&c(JSON.stringify(b)))return JSON.stringify(f);if("undefined"!==typeof Object&&Object&&d.isFunction(Object.toJSON)&&c(Object.toJSON(b)))return Object.toJSON(f);a.error("M63");return null};d.Ca=function(f,c,b){var e=f,h=b;"xhr"===
b&&(e=document.createElement("div"),f.appendChild(e),h="xhr_"+f.getElementsByTagName("div").length);f=document.createElement("p");f.innerHTML="Script loaded from "+a.conf.adrumExtUrl+". Metrics collected are:";e.appendChild(f);f=document.createElement("table");f.id="ADRUM_"+h;var h=document.createElement("tbody"),l;for(l in c){b=document.createElement("tr");var d=document.createElement("td");d.innerHTML=l;d.className="name";var k=document.createElement("td");k.innerHTML=String(c[l]);k.className="value";
b.appendChild(d);b.appendChild(k);h.appendChild(b)}f.appendChild(h);e.appendChild(f)};d.ff=function(){function a(c,b){try{if("object"!=typeof c)return String(c);if(0<=d.wa(b,c))return"Already visited";b.push(c);var e;if(d.isArray(c)){for(var h="[ ",l=0;l<c.length;l++)0!=l&&(h+=", "),h+=a(c[l],b);e=h+" ]"}else{var h="{ ",l=!0,p;for(p in c)l?l=!1:h+=", ",h+=a(p,b)+" => "+a(c[p],b);e=h+" }"}return e}catch(k){return"dumpObject failed: "+k}}return function(c){return a(c,[])}}();d.wa=d.isFunction(Array.prototype.indexOf)?
function(a,c){return a.indexOf(c)}:function(a,c){for(var b=0;b<a.length;b++)if(a[b]==c)return b;return-1};d.compareWindows=function(a,c){return a==c};d.Ga=function(a,c,b,e,h){if(!d.isDefined(c))return c;if(d.isArray(c)){a=[];for(var l=0,p=c.length;l<p;l++)a[l]=d.Ga(l,c[l],b,e,h);return a}if(d.isFunction(c))return c;if(d.isObject(c)){a={};for(l in c)d.hasOwnPropertyDefined(c,l)&&(a[b(l)]=h&&h(l)?c[l]:d.Ga(l,c[l],b,e,h));return a}return e(a,c)};d.hg=function(a){var c=[],b;for(b in a)d.hasOwnPropertyDefined(a,
b)&&c.push([b,a[b]]);return c};d.Rg=function(){try{localStorage.setItem("try","try");var a=localStorage.getItem("try");localStorage.removeItem("try");return"try"===a}catch(c){return!1}};d.Qg=function(){try{var a=d.R({v:1});return 1===JSON.parse(a).v}catch(c){return!1}};d.Sg=function(){return d.isFunction(window.postMessage)};d.Ze=function(a,c){var b=document.createElement("div");b.innerHTML='<iframe id="'+c+'" src='+a+' width="0" height="0" tabindex="-1" title="empty" style="display: none;"></iframe>';
document.body.appendChild(b);return document.getElementById(c)};d.Ig=function(a,c){d.isDefined(c)&&(a.parentPageName=c)}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(a){a.dd=function(a){return/^[0-9]+$/.test(a)?Number(a):null};a.uc=function(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(d){function f(e){var b=e.split("\r\n"),c=/^\s*ADRUM_(\d+): (.+)\s*$/i;e=[];for(var d=0;d<b.length;d++){var f=b[d];try{var g=c.exec(f);
g&&e.push([Number(g[1]),g[2]])}catch(n){a.exception(n,"M66",f)}}Array.prototype.sort.call(e,function(a,e){return a[0]-e[0]});g=[];for(b=0;b<e.length;b++)g.push(e[b][1]);return g}var c=a.utils.hasOwnPropertyDefined,b=null,e=null;d.lc=function(){e||(e=d.Fc(d.Na(d.cookieMetadataChunks),d.Na(a.footerMetadataChunks)));return e};d.getPageGUID=function(){if(!b){var e=d.lc();b=e&&e.clientRequestGUID||a.utils.generateGUID()}return b};d.Df=function(e){e=f(e);a.log("M64",e);return d.Fc(d.Na(e))};d.Fc=function(e,
b){function c(e){for(var b=0;b<e.length;b++){var h=e[b];h!=f&&0>a.utils.wa(n,h)&&n.push(h)}}if(!e||0>=e.L.length)return null;b||(b=e);var f;if(0<b.L.length){if(f=b.L[0],0>a.utils.wa(e.L,f))return null}else return a.error("M65"),null;var g=b.serverSnapshotType||e.serverSnapshotType,q=b.hasEntryPointErrors||e.hasEntryPointErrors,n=[];c(e.L);c(b.L);var r={clientRequestGUID:f,btGlobalAccountName:e.btGlobalAccountName};0<n.length&&(r.otherClientRequestGUIDs=n);0<d.Ec(e.btTime,b.btTime).length&&(r.btTime=
d.Ec(e.btTime,b.btTime));null!==g&&(r.serverSnapshotType=g);null!==q&&(r.hasEntryPointErrors=q);return r};d.Ec=function(a,e){for(var b=a.concat(e),f={},d={},g=0;g<b.length;g++){var n=b[g];n.id in f||(f[n.id]=-1);f[n.id]=Math.max(f[n.id],n.duration);n.id in d||(d[n.id]=-1);d[n.id]=Math.max(d[n.id],n.ert)}var b=[],r;for(r in f)c(f,r)&&b.push({id:r,duration:f[r],ert:d[r]});return b};d.Na=function(e){if(!a.utils.isArray(e))return null;for(var b=[],c=null,f=[],d=null,g=null,n=0;n<e.length;n++){var r=e[n];
if("string"!==typeof r)return null;r=r.replace(/^"|"$/g,"");r=decodeURIComponent(r).split(",")[0].replace(/^\s+|\s+$/g,"").split(":");if(2===r.length){var s=r[1];switch(r[0]){case "clientRequestGUID":case "g":b.push(s);break;case "btId":case "i":f.push({id:s,duration:-1,ert:-1});break;case "btDuration":case "d":if(0===f.length)return null;r=a.utils.dd(s);if(!a.utils.uc(r)||-1>r)return null;f[f.length-1].duration=r;break;case "btERT":case "e":if(0===f.length)return null;r=a.utils.dd(s);if(!a.utils.uc(r)||
-1>r)return null;f[f.length-1].ert=r;break;case "serverSnapshotType":case "s":d=s;break;case "globalAccountName":case "n":c=s;break;case "hasEntryPointErrors":case "h":g=s}}}return 0===b.length?null:{L:b,btGlobalAccountName:c,btTime:f,serverSnapshotType:d,hasEntryPointErrors:g}};d.Nh=f})(a.correlation||(a.correlation={}))})(g||(g={}));(function(a){var d=a.conf||(a.conf={});d.mh=3E3;d.hd=a.isDebug;d.Ee=1E3;d.Zd=2;d.Yd=5;d.Td=5;d.Ud=20;d.sb=5E3;d.I=512;d.je=140;d.me=10;d.he=30;d.le=10;d.ne=30;d.ie=
30;d.ke=20;d.de=100;d.ub=2048;d.pe=2048;d.Cc={eumAppKey:"ky",userPageName:"un",clientRequestGUID:"cg",otherClientRequestGUIDs:"og",baseGUID:"bg",parentGUID:"mg",parentPageUrl:"mu",parentPageType:"mt",parentLifecyclePhase:"pp",pageType:"pt",pageUrl:"pu",pageReferrer:"pr",pageTitle:"pl",pageName:"pn",navOrXhrMetrics:"mn",cookieMetrics:"mc",resourceTimingInfo:"rt",userData:"ud",userDataLong:"udl",userDataDouble:"udd",userDataBoolean:"udb",userDataDate:"udt",errors:"er",ajaxError:"ae",btGlobalAccountName:"btgan",
btTime:"bt",serverSnapshotType:"ss",hasEntryPointErrors:"se",dataType:"dt",geoCountry:"gc",geoRegion:"gr",geoCity:"gt",localIP:"lp",ip:"ip",BEACONS:"B",ver:"vr",eom:"em",agentId:"ai",rootGUID:"rg",events:"es",guids:"gs",urlParts:"up",sequenceId:"si",eventType:"et",eventGUID:"eg",parentType:"at",serverMetadata:"sm",eventUrl:"eu",line:"ln",message:"dm",duration:"dn",id:"id",ert:"ert",parentUrl:"au",parentPageName:"an",geo:"ge",metrics:"mx",timestamp:"ts",country:"c",region:"r",city:"t",method:"md"}})(g||
(g={}));(function(a){(function(a){var f=function(){function a(){this.Oc=/;jsessionid=[^/?]+/}a.Mg=function(a){for(var e=0,h=0;h<a.length;h++)e=(e<<5)-e+a.charCodeAt(h),e|=0;return e};a.prototype.G=function(a){if(null===a||void 0===a)return null;var e=a.match(this.Oc);if(null!=e){var h=a.indexOf("?");if(0>h||h>e.index)return a.replace(this.Oc,"")}return a};a.prototype.$b=function(a){if(null===a||void 0===a)return null;var e=a.indexOf("?"),h=a.indexOf("#");0>e&&(e=Number.MAX_VALUE);0>h&&(h=Number.MAX_VALUE);
return a.substring(0,Math.min(e,h))};a.prototype.sg=function(b){if(null===b||void 0===b)return null;var e=this.$b(b);return e+"?"+a.Mg(b.substring(e.length))};return a}();a.rh=f;a.n=new f})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(d){d.parseURI=function(a){return(a=String(a).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/))?{href:a[0]||"",protocol:a[1]||"",M:a[2]||"",host:a[3]||"",hostname:a[4]||
"",port:a[5]||"",pathname:a[6]||"",search:a[7]||"",hash:a[8]||""}:null};d.absolutizeURI=function(a,c){function b(a){var b=[];a.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(a){"/.."===a?b.pop():b.push(a)});return b.join("").replace(/^\//,"/"===a.charAt(0)?"/":"")}c=d.parseURI(c||"");a=d.parseURI(a||"");return c&&a?(c.protocol||a.protocol)+(c.protocol||c.M?c.M:a.M)+b(c.protocol||c.M||"/"===c.pathname.charAt(0)?c.pathname:c.pathname?
(a.M&&!a.pathname?"/":"")+a.pathname.slice(0,a.pathname.lastIndexOf("/")+1)+c.pathname:a.pathname)+(c.protocol||c.M||c.pathname?c.search:c.search||a.search)+c.hash:null};d.getFullyQualifiedUrl=function(f){try{return d.absolutizeURI(document.location.href,f)}catch(c){return a.exception(c,"M67",f,document.location.href),f}};d.aa=function(a,c){if(3>=c)return"...";a.length>c&&(a=a.substring(0,c-3)+"...");return a};d.Xg=function(a,c){if(3>=c)return"...";a.length>c&&(a=a.substring(0,(c-3)/2)+"..."+a.substring(a.length-
(c-3)/2,a.length));return a};d.Yg=function(a,c){a.length<=c||(a=d.aa(a,c-1),a+=":");return a};d.Wg=function(a,c,b,e,h,l){a=d.Yg(a,e);c=d.aa(c,h);b=d.aa(b,l);return 0<b.length?a+"//"+c+":"+b:a+"//"+c};d.Zg=function(f,c,b,e,h,l,g,k){b=d.Wg(f.protocol,f.hostname,f.port,b,e,h);g=d.aa(f.search,g);k=d.aa(f.hash,k);f=f.pathname.split("/");e="";0<f.length&&(e=f.pop(),e=d.Xg(e,l));for(l=0==f.length?b+e+g+k:b+f.join("/")+"/"+e+g+k;l.length>c;){if(0>=f.length)return a.error("M68"),null;f.pop();f.push("...");
l=0==f.length?b+e+g+k:b+f.join("/")+"/"+e+g+k;f.pop()}return l}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.Ha=function(){for(var b=0;b<a.pb.length;b++)a.C[a.pb[b]]=a.s.Kd;for(b=0;b<a.nb.length;b++)a.C[a.nb[b]]=a.s.Hd;a.C.js=a.s.xe;a.C.css=a.s.CSS;a.C.svg=a.s.ze;a.C.html=a.s.ob;a.C.htm=a.s.ob};a.Ea=function(a){return a.duration?a.duration:a.responseEnd&&a.startTime?a.responseEnd-a.startTime:-1};a.jc=function(b){var e;return(b=b.pathname)&&-1!=(e=
b.lastIndexOf("."))?a.C[b.substring(e+1,b.length).toLowerCase()]||a.s.xb:a.s.xb};a.s={Kd:"img",xe:"script",CSS:"css",ze:"svg",ob:"html",Hd:"font",xb:"other"};a.pb="bmp gif jpeg jpg png webp".split(" ");a.nb=["ttf","woff","otf","eot"];a.C={};return a}();a.V=f;f.Ha()})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(b){function e(a){h.marks.push(0==b[a]?-1:Math.round(b[a]-h.Hc))}this.marks=[];var h=this;this.Hc=b.startTime;this.Sf(b)?(this.bc=a.kb,e("startTime"),
e("fetchStart")):(this.bc=a.Ab,e("startTime"),e("redirectStart"),e("redirectEnd"),e("fetchStart"),e("domainLookupStart"),e("domainLookupEnd"),e("connectStart"),e("connectEnd"),e("requestStart"),e("responseStart"));e("responseEnd")}a.xf=function(){var b={};b[a.Ab]=a.we;b[a.kb]=a.Ad;return b};a.prototype.Sf=function(a){return this.A(a.redirectStart)&&this.A(a.redirectEnd)&&this.A(a.domainLookupStart)&&this.A(a.domainLookupEnd)&&this.A(a.connectStart)&&this.A(a.connectEnd)&&this.A(a.requestStart)&&this.A(a.responseStart)&&
this.A(a.secureConnectionStart)};a.prototype.A=function(a){return!a||0===a};a.Ab=1;a.kb=2;a.we="startTime redirectStart redirectEnd fetchStart dnsLookupStart dnsLookupEnd connectStart connectEnd requestStart responseStart responseEnd".split(" ");a.Ad=["startTime","fetchStart","responseEnd"];return a}();a.zb=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.prototype.pa=function(a,e){if(a)return a.slice(0,e)};return a}();a.Id=f})(a.events||(a.events=
{}))})(g||(g={}));(function(a){(function(a){var f=function(){function c(){}c.prototype.pa=function(b,e){if(b){if(b.length<=e)return b;for(var h=[],c=0;c<b.length;c++)h.push({Ra:b[c],index:c});h.sort(function(e,b){return-(a.V.Ea(e.Ra)-a.V.Ea(b.Ra))});h=h.slice(0,e);h.sort(function(a,e){return a.index-e.index});for(var f=[],c=0;c<h.length;c++)f.push(h[c].Ra);return f}};return c}();a.Db=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function c(){}c.prototype.pa=
function(b,e){if(b){if(b.length<=e)return b;for(var h=1,c=Math.floor(Number.MAX_VALUE/4),f=b.length;h<c;){for(var g=b.length-1;0<=g;g--)if(a.V.Ea(b[g])<h&&(b.splice(g,1),f--),f<=e)return b;h*=4}return(new a.Db).pa(b,e)}};return c}();a.ve=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){var f=a.utils.hasOwnPropertyDefined,c=function(){function e(h,c){this.version=2;this.resourceTimingInfo={};this.sc={};this.tc={};this.Pc={};this.Qc={};this.Sa=[];this.Je=function(e,h){if(e&&h&&0<
h.length){this.Ug=e;for(var c=new b,l=new b,f=0;f<h.length;f++){var g=h[f],p=a.utils.parseURI(a.utils.n.G(g.name)),y=g.initiatorType,z=d.V.jc(p),w=new d.zb(g);this.Sa.push({u:this.$g(p),i:c.ec(this.tc,y),r:l.ec(this.Qc,z),f:w.bc,o:0===f&&g.isBase?1:Math.round(w.Hc),m:w.marks})}}};var f=e.uf();this.Te(f,h);h=this.Dg(f,h);this.Je(c||a.monitor.perfMonitor.navTiming&&a.monitor.perfMonitor.navTiming.navigationStart,h)}e.Ha=function(){var b=a.conf.userConf&&a.conf.userConf.resTiming&&a.conf.userConf.resTiming.sampler;
e.Cg=b&&"FirstN"==b?new d.Id:b&&"TopN"==b?new d.Db:new d.ve};e.prototype.pc=function(a,e){a[e]=a[e]?a[e]+1:1};e.prototype.$g=function(e){return a.utils.Zg(e,a.conf.je,a.conf.me,a.conf.he,a.conf.le,a.conf.ke,a.conf.ne,a.conf.ie)};e.prototype.Te=function(a,e){a&&this.qc(a);if(e&&0<e.length)for(var b=0;b<e.length;b++)this.qc(e[b])};e.prototype.qc=function(e){var b=a.utils.parseURI(a.utils.n.G(e.name)),b=d.V.jc(b);this.pc(this.sc,e.initiatorType);this.pc(this.Pc,b)};e.prototype.Dg=function(b,c){if(c&&
0<c.length){var d=a.conf.userConf&&a.conf.userConf.resTiming&&a.conf.userConf.resTiming.maxNum||a.conf.de;b&&d--;c=e.Cg.pa(c,d);b&&c.unshift(b)}return c};e.prototype.build=function(){return 0==this.Sa.length?null:{v:this.version,ic:this.sc,it:this.tc,rc:this.Pc,rt:this.Qc,f:d.zb.xf(),t:this.Ug,r:this.Sa}};e.uf=function(){var e=a.monitor.perfMonitor.navTiming,b=null;if(e){var b={},c;for(c in e)f(e,c)&&(b[c]=e[c]);b.initiatorType="other";b.name=document.URL;b.navigationStart&&!b.startTime&&(b.startTime=
b.navigationStart);b.isBase=!0}return b};return e}();d.ResourceTimingInfoBuilder=c;var b=function(){function a(){this.lg=1}a.prototype.ec=function(a,e){a[e]||(a[e]=this.lg++);return a[e]};return a}();c.Ha()})(a.events||(a.events={}))})(g||(g={}));(function(a){a=a.beacons||(a.beacons={});a.numBeaconsSent=0;a.beaconsSent=[]})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.send=function(b,e){var c=(e?a.conf.beaconUrlHttps:a.conf.beaconUrlHttp)+a.conf.corsEndpointPath+
"/"+a.conf.appKey+"/adrum",f;a.utils.isDefined(a.xhrConstructor)&&a.utils.isDefined(a.xhrOpen)?(f=new a.xhrConstructor,a.xhrOpen.call(f,"POST",c)):(f=new XMLHttpRequest,f.open("POST",c));f.setRequestHeader("Content-type","text/plain");var g=a.utils.R(b);null!=g&&(f.send(g),a.log("M69"+c+"\n"),a.log("<hr/>"),a.isDebug&&d.beaconsSent.push(b),d.numBeaconsSent+=1)};return c}();d.zd=f})(a.beacons||(a.beacons={}))})(g||(g={}));g||(g={});(function(a){var d=function(){function d(a,b,e){this.ja=a;this.Nf=
b;this.$a=e}d.prototype.kc=function(){try{return d.fc(this.Nf.ADRUM)}catch(c){return a.error("M70"),d.fc(a)}};d.fc=function(a){return a.correlation.getPageGUID()};return d}();a.vd=d})(g||(g={}));(function(a){a.beacons||(a.beacons={})})(g||(g={}));(function(a){(function(a){var f=function(){function c(){this.count=0;this.N={}}c.prototype.O=function(b){if(a.hasOwnPropertyDefined(this.N,b))return this.N[b];this.N[b]=this.count;this.count++;return this.count-1};c.prototype.dc=function(){var b=[],e;for(e in this.N)a.hasOwnPropertyDefined(this.N,
e)&&(b[this.N[e]]=e);return b};return c}();a.rb=f})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.Ng=function(a){a=a||"";var e=a.match(/([^:\/?#]+:\/\/)?([^?#]+)?(\?[^#]+)?(#.+)?/);return e&&e[0]==a?(a={},e[1]&&(a.protocol=e[1].substring(0,e[1].length-3)),e[2]&&(a.path=e[2]),e[3]&&(a.Nc=e[3].substring(1)),e[4]&&(a.anchor=e[4].substring(1)),a):null};a.kf=function(b,e){var h=a.Ng(b);if(null!=h){var d="";h.protocol&&(d+=e.O(h.protocol),d+="://");if(h.path)for(var f=
h.path.split("/"),g=f.length,m=0;m<g;m++){var q=f[m];0<q.length&&(d+=e.O(q));m!=g-1&&(d+="/")}h.Nc&&(d=d+"?"+e.O(h.Nc));h.anchor&&(d+="#",d+=e.O(h.anchor));return d}return""+e.O(b)};a.hf=function(a,e){return""+e.O(a)};return a}();a.jb=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(d){(function(d){function c(){var b=null,c=null;try{b=localStorage[e]}catch(h){}if(b)try{b=c=JSON.parse(b),a.utils.isObject(b)&&a.utils.isNumber(b[g])&&-1<b[g]?k=c:a.error("M71")}catch(d){a.exception(d,
"M72");try{delete localStorage[e]}catch(f){a.exception(f,"M73")}}}function b(){try{var b=a.channel,c=k[h]||k[l],d=b&&b.H&&b.H.D&&b.H.D.id||(a.utils.isString(c)?c:a.utils.generateGUID());k[h]=k[l]=d;localStorage[e]=a.utils.R(k)}catch(f){}}var e="ADRUM_CLIENTINFO",h="agentId",l="clientId",g="seqId",k;c();k||(k={seqId:0});b();d.wf=function(){c();var a=k[g]++;b();return a}})(d.Rb||(d.Rb={}))})(a.Xc||(a.Xc={}))})(g||(g={}));(function(a){a=a.T||(a.T={});a.Q||(a.Q={})})(g||(g={}));(function(a){a=a.T||(a.T=
{});a.Q||(a.Q={})})(g||(g={}));(function(a){(function(d){(function(d){var c=function(){function b(e,b,c){this.Ag=0;this.Qa=[];this.oc=!1;this.Hf=c;var d=this;a.utils.addEventListener(window,"message",function(a){d.vg(a)});this.Gf=a.utils.Ze(b,e)}b.prototype.vg=function(e){var b;try{if(b=JSON.parse(e.data),!0===b.success)if(-1===b.id&&"iframe-ready"===b.data)this.oc=!0,this.Hf();else{if(this.Qa[b.id])this.Qa[b.id](b.data)}else a.error("M74"+e.data+"]")}catch(c){a.exception(c,"M75")}};b.prototype.send=
function(e,b,c,d){if(this.oc){var f=this.Ag++;this.Qa[f]=d;this.Gf.contentWindow.postMessage(a.utils.R({id:f,action:e,key:b,value:c}),"*")}};b.prototype.generateGUID=function(a,b){this.send("generateGUID",a,null,b)};return b}();d.Bd=c})(d.Q||(d.Q={}))})(a.T||(a.T={}))})(g||(g={}));(function(a){(function(d){var f=function(){function e(){this.Kb=new c(e.sd);this.pd=new c(e.ud);this.hh=new b(e.td)}e.prototype.init=function(b){this.channel=b;a.utils.Rg()&&a.utils.Qg()?a.utils.Sg()&&e.eg()?this.ah():this.jd():
e.Gc=!0};e.prototype.jd=function(){var b=this.Kb.load();e.cg(b)||(b={ver:a.conf.agentVer,id:a.utils.generateGUID()},this.Kb.save(b));e.D=b};e.prototype.ah=function(){var b=this.pd.load();if(e.dg(b))e.D=b;else{a.log("M76");var c=this;this.hh.load(function(b){b&&(b={ver:a.conf.agentVer,id:b,ttl:(new Date).getTime()+e.Dd},c.pd.save(b),e.D=b,a.log("M77"))});c=this;a.utils.tryPeriodically(e.xa,function(){return c.isReady()},function(){c.onReady()},function(){c.La()})}};e.eg=function(){return a.conf.userConf&&
a.conf.userConf.xd&&a.conf.userConf.xd.enable};e.cg=function(a){return a&&a.id&&0<a.id.length};e.dg=function(a){return a&&a.id&&0<a.id.length&&0===a.id.indexOf("XD_")&&a.ttl>(new Date).getTime()};e.prototype.isReady=function(){return e.Gc||a.utils.isDefined(e.D)};e.prototype.onReady=function(){this.channel.onResolverReady()};e.prototype.La=function(){a.log("M78");this.jd();this.channel.onResolverReady()};e.xa=function(a){return 10<a?-1:[1,50,100,500][a-1]||1E3};e.sd="ADRUM_AGENT_INFO";e.ud="ADRUM_XD_AGENT_INFO";
e.td="ADRUM_XD_AGENT_ID";e.Dd=6048E5;e.Gc=!1;return e}();d.H=f;var c=function(){function e(a){this.Jb=a}e.prototype.load=function(){var e=null;try{var b=localStorage.getItem(this.Jb);b&&(e=JSON.parse(b))}catch(c){a.exception(c,"M79")}return e};e.prototype.save=function(e){try{var b=a.utils.R(e);b&&localStorage.setItem(this.Jb,b)}catch(c){a.exception(c,"M80")}};return e}(),b=function(){function e(a){this.Me=a}e.prototype.load=function(e){var b=this;try{var c=new a.T.Q.Bd("cross-domain-store-server-iframe",
a.conf.adrumXdUrl,function(){c.generateGUID(b.Me,e)})}catch(d){a.exception(d,"M81")}};return e}()})(a.channel||(a.channel={}))})(g||(g={}));(function(a){(function(d){var f=a.utils.isString,c=function(){function b(){}b.prototype.Ja=function(e,c,d){e={ver:a.conf.agentVer,dataType:"R",rootGUID:d.kc(),events:e};a.channel.H.D&&a.channel.H.D.id&&(e.agentId=a.channel.H.D.id);c&&(e.geo=c);return b.yg(e)};b.yg=function(e){a.isDebug||(e=b.We(e));return e};b.We=function(e){var c=new a.utils.rb,l=new a.utils.rb;
e=a.utils.Ga(null,e,b.Fa,function(e,g){f(g)&&g.length>a.conf.ub&&(g=g.substr(0,a.conf.ub));b.bg(e)&&(f(g)&&g.length>a.conf.I&&(g=3<a.conf.I?g.substr(0,a.conf.I-3):"",g+="..."),g=d.jb.kf(g,c));b.Uf(e)&&(g=d.jb.hf(g,l));return g},b.kg);e[b.Fa("guids")]=l.dc();e[b.Fa("urlParts")]=c.dc();return e};b.bg=function(a){return"eventUrl"==a||"parentUrl"==a||"pageReferrer"==a||"pageUrl"==a||"u"==a};b.Uf=function(a){return"eventGUID"==a||"parentGUID"==a||"rootGUID"==a||"clientRequestGUID"==a};b.Fa=function(e){if(a.conf.hd)return e;
var b=a.conf.Cc[e];return"undefined"===typeof b?e:b};b.kg=function(a){return 0==(""+a).indexOf("userData")};return b}();d.yd=c})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.send=function(a,e){for(var c=0;c<a.length;c++)this.Gg(a[c],e)};c.prototype.Gg=function(b,e){var c=(e?a.conf.beaconUrlHttps:a.conf.beaconUrlHttp)+a.conf.imageEndpointPath,f=document.createElement("img");try{f.src=c+b}catch(g){}a.isDebug&&d.beaconsSent.push(b);d.numBeaconsSent+=
1};return c}();d.Pd=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){a.events||(a.events={})})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.prototype.make=function(b){var e={eventGUID:b.guid(),eventType:b.type(),eventUrl:a.utils.n.G(b.url()||document.URL),timestamp:(new Date).getTime()};b.type()!==a.EventType.BASE_PAGE&&a.utils.mergeJSON(e,{parentGUID:b.parentGUID()||a.correlation.getPageGUID(),parentUrl:a.utils.n.G(b.parentUrl()||document.URL),parentType:b.parentType()||
(a.utils.compareWindows(top,window)?a.EventType.BASE_PAGE:a.EventType.IFRAME)});b=a.EventType[b.type()];b=d.Ce.Ef(b,a.conf.userConf,a.conf.pe);for(var c in b)e[c]=b[c];return e};return c}();d.ba=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){}c.tg=function(b,e){var c=!1;if(null!=b&&a.utils.isObject(b)){var d=a.utils.R(b);if(null==d||d.length<=e)c=!0}c||(a.log("User event info dropped because they are malformed or too long"),"undefined"!==typeof console&&
"undefined"!==typeof console.log&&console.log("User event info dropped because they are malformed or too long"));return c};c.Ef=function(b,e,d){var f={};return(b=e&&e.userEventInfo&&e.userEventInfo[b])?(f=a.utils.isFunction(b)?b.call(null,f):b,c.tg(f,d)?f:{}):{}};return c}();d.Ce=f})(a.events||(a.events={}))})(g||(g={}));var t=this.He||function(a,d){function f(){this.constructor=a}for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);f.prototype=d.prototype;a.prototype=new f};(function(a){(function(d){var f=
function(c){function b(){c.apply(this,arguments)}t(b,c);b.setPageName=function(a){b.dh=a};b.addUserData=function(a,c){b.bb=b.bb||{};b.bb[a]=c};b.prototype.make=function(e){e=c.prototype.make.call(this,e||new d.PageView);var f=this.Af(),g=this.vf();a.conf.viz&&(f&&a.utils.Ca(document.getElementById(a.conf.viz),f,"navtime"),a.utils.Ca(document.getElementById(a.conf.viz),g,"cookie"));g.PLC=1;f&&(f.PLC=1);0<a.monitor.ErrorMonitor.errorsSent&&(g.EPM=1,f&&(f.EPM=1));a.utils.mergeJSON(e,{eventGUID:a.correlation.getPageGUID(),
eventType:a.utils.compareWindows(top,window)?a.EventType.BASE_PAGE:a.EventType.IFRAME,cookieMetrics:g});var p=-1;f&&f.timestamp?p=f.timestamp:g&&g.timestamp&&(p=g.timestamp);0<p&&a.utils.mergeJSON(e,{timestamp:p});f&&(e.metrics=f);document.referrer&&null!==document.referrer&&0<document.referrer.length&&(e.pageReferrer=a.utils.n.G(document.referrer));f=b.Bf();0<f.length&&(e.pageTitle=f);f=a.correlation.lc();null!==f&&(e.serverMetadata=f);f=a.monitor.perfMonitor.resTiming?(new d.ResourceTimingInfoBuilder(a.monitor.perfMonitor.resTiming)).build():
null;null!==f&&(e.resourceTimingInfo=f);a.utils.isDefined(e.userData)||(e.userData=b.bb);a.utils.isDefined(e.userPageName)||(e.userPageName=b.dh);b.userPageName=e.userPageName;return e};b.prototype.Af=function(){if(!a.monitor.perfMonitor.navTiming)return null;var e={},c=b.gc(a.monitor.perfMonitor.navTiming,e,"NT"),f=d.B[a.EventType.BASE_PAGE],g;for(g in f){var k=f[g];c.add(k.name,k.start,k.end)}e.timestamp=a.monitor.perfMonitor.navTiming.navigationStart;return e};b.prototype.vf=function(){var e={};
a.commands.marks&&(b.gc(a.commands.marks,e,"CK").add("PLT","starttime","onload").add("FBT","starttime","firstbyte").add("FET","firstbyte","onload").add("DRT","firstbyte","onready").add("PRT","onready","onload").add("DOM","starttime","onready"),e.timestamp=a.commands.marks.starttime?a.commands.marks.starttime:a.commands.marks.firstbyte);return e};b.Bf=function(){var e=a.conf.userConf,e=e&&e.page,b;b=e&&"captureTitle"in e?e.captureTitle:!0;var c,d;e&&(c="title"in e,d=e.title);c=b?c?a.utils.isFunction(d)?
d():d:document.title:"";if(a.utils.isString(c))return c;c="Ignoring wrong type of page title: "+typeof c;a.log(c);console&&console.log&&console.log(c);return""};b.Ie=function(e,b,c,d,f,g){b=d[b];c=d[c];b&&c?f[e]=c-b:a.log("M82",g,e,b,c)};b.gc=function(a,c,d){var f={add:function(g,m,q){b.Ie(g,m,q,a,c,d);return f}};return f};return b}(d.ba);d.J=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){(function(d){function c(d,f){var h,k=f[d],q=typeof k;s.push(d);var C=r[s.join(".")];if(a.utils.isFunction(C))h=
C(k);else switch(q){case "string":h="number"==typeof C?m(k,e,C):e(k);break;case "number":h=p(k);break;case "object":if(k)if(a.utils.isArray(k))h=g(k,!1,!1);else{h=[];for(var u in k)n(k,u)&&(q=c(u,k))&&(b(d)&&"timestamp"==u||h.push({la:u,v:q}));if(b(d)){for(k=0;k<h.length;k++)h[k]=h[k].la+e(":")+h[k].v;h=e("{")+h.join(e(","))+e("}")}else{for(k=0;k<h.length;k++)u=h[k],q=u.la,a.conf.hd||((C=a.conf.Cc[u.la])?q=C:a.error("M83",u.la)),h[k]=q+"="+u.v;h=h.join("&")}}else h=null}s.pop();return h}function b(a){return"navOrXhrMetrics"==
a||"cookieMetrics"==a}function e(a){return"undefined"===typeof a||null===a||0===a.length?null:encodeURIComponent(a)}function h(a){return encodeURIComponent(encodeURIComponent(a))}function g(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!0);if(0===a.length)return null;var f=[];if(b)f=a;else for(b=0;b<a.length;b++)f.push(c(b,a));return e("[")+f.join(e(","))+e(d?">":"]")}function p(a){a=Math.round(a);a<d.wb&&(a=d.wb);a>d.tb&&(a=d.tb);return e(a)}function k(a,b){if(a>b||0>a)a=d.se;return e(a)}function m(e,
b,c,d){void 0===d&&(d=!0);if("undefined"===typeof e||null===e||0===e.length)return null;var f=3<=c?"...":"";a.assert(c>=f.length);for(var h=!1,g=null;;){try{g=b(e);if(null===g)return null;if(g.length<=c)break}catch(l){}var k;h?k=e.length-1:(h=!0,k=c-=f.length);var p=d?0:Math.max(e.length-k,0);e=e.substr(p,k)}h&&(g=d?g+f:f+g);return g}function q(e,b,c){if(0==c)return d.ua;if(b<e)return 0;b=d.ua+(b-e)/c;a.assert(b>=d.ua);a.log("M84",e,b);return b}var n=a.utils.hasOwnPropertyDefined;d.se=-1;d.I=180;
d.fe=50;d.ge=50;d.ae=40;d.ua=50;d.Qd=50;d.vb=128;d.Wd=30;d.Xd=30;d.Vd=30;d.be=8;d.wb=-99999;d.tb=999999;d.Rd=2E3;d.ee=2;d.Sd=99999999;var r={".pageUrl":d.I,".parentPageUrl":d.I,".pageReferrer":d.I,".pageTitle":d.fe,".userPageName":d.ge,".geoCountry":d.Wd,".geoRegion":d.Xd,".geoCity":d.Vd,".localIP":d.be,".otherClientRequestGUIDs":function(a){a=a||[];var e=a.slice(0,d.ee);return g(e,!1,e.length<a.length)},".btTime":function(e){e=e||[];for(var b=e.slice(0,a.conf.Td),c=[],h=0;h<b.length;h++){var r=b[h];
c.push(g([k(Number(r[0]),d.Sd),p(r[1]),p(r[2])],!0,!1))}return g(c,!0,b.length<e.length)},".ajaxError":function(a){return g([h(a[0]),m(a[1],h,d.Qd)],!0,!1)},".userData":function(a){a=a||[];for(var e=!1,b=0,c=[],k=0;k<a.length;k++){var p=a[k];c[k]=g([h(p[0]),h(p[1])],!0,!1);b+=c[k].length;if(b>d.vb){e=!0;break}}for(;;){a=g(c,!0,e);if(null===a||a.length<=d.vb)return a;c.pop();e=!0}}},s=[];d.gf=function(e,b){void 0===b&&(b=!0);s=[];var k=[];e.errors&&(k=e.errors,e.errors=null);var r=c("",{"":e});if(k&&
0<k.length){for(var n=q(b?870:354,d.Rd-r.length,k.length),C=[],u=0;u<k.length;u++){var t=k[u],A=a.utils.n.$b(a.utils.n.G(t[0]));C.push(g([m(A,h,d.ae,!1),p(t[1]),m(t[2],h,n)],!0,!1))}k=g(C,!0,!1);r+="&errors="+k}return r};d.Ah=c;d.Uh=e;d.element=h;d.uh=g;d.wh=p;d.Mh=k;d.truncate=m;d.Rh=q})(d.qb||(d.qb={}))})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(d){var f=a.utils.hasOwnPropertyDefined,c=function(){function b(){}b.prototype.Ja=function(e,c,f){for(var g=[],k=[],m=null,q=[],n=
0;n<e.length;n++){var r=e[n];if(r.eventType===a.EventType.PAGE_ERROR){var s=r;k.push([r.eventUrl,s.line,s.message])}else{if(r.eventType===a.EventType.BASE_PAGE||r.eventType===a.EventType.IFRAME)m=r;q.push(r)}}e=q;if(0<k.length)for(m&&(m.errors=k.splice(0,a.conf.Zd));0<k.length;)r=k.splice(0,a.conf.Yd),m=b.wg.make(),m.errors=r,m.isErrorEvent=!0,m.cookieMetrics=null,m.metrics=null,m.resourceTimingInfo=null,e.push(m);for(k=0;k<e.length;k++)r=e[k],a.log("M85"),r.resourceTimingInfo=null,b.rf(r,c,f),m=
b.transform(r),g.push(d.qb.gf(m,r.isErrorEvent));return g};b.rf=function(e,b,c){e.ver=this.Ld;e.rootGUID=c.kc();e.geo=b;e.dataType="R";e.eom=1;e.eumAppKey=a.conf.appKey;e.PLC=1};b.transform=function(a){var c={};b.md("",{"":a},c);return c};b.md=function(e,c,d){c=c[e];var g=b.zc[e];if("metrics"===e||"cookieMetrics"===e)d[g]=c;else if("btTime"===e&&a.utils.isArray(c)&&0<c.length){e=[];for(var k=0;k<c.length;k++)e.push([c[k].id,c[k].duration,c[k].ert]);d[g]=e}else if("userData"===e&&a.utils.isObject(c))d[g]=
a.utils.hg(c);else if(a.utils.isObject(c))for(k in c)f(c,k)&&b.md(k,c,d);else b.zc[e]&&("eventType"===e&&c>a.EventType.XHR&&(c=a.utils.compareWindows(top,window)?a.EventType.BASE_PAGE:a.EventType.IFRAME),d[g]=c)};b.wg=new a.events.J;b.Ld=3;b.zc={eumAppKey:"eumAppKey",userPageName:"userPageName",rootGUID:"baseGUID",parentGUID:"parentGUID",parentUrl:"parentPageUrl",parentType:"parentPageType",parentLifecyclePhase:"parentLifecyclePhase",eventType:"pageType",eventUrl:"pageUrl",pageReferrer:"pageReferrer",
pageTitle:"pageTitle",metrics:"navOrXhrMetrics",xhrMetrics:"navOrXhrMetrics",resourceTimingInfo:"resourceTimingInfo",cookieMetrics:"cookieMetrics",userData:"userData",errors:"errors",ajaxError:"ajaxError",dataType:"dataType",country:"geoCountry",region:"geoRegion",city:"geoCity",localIP:"localIP",ver:"ver",eom:"eom",eventGUID:"clientRequestGUID",otherClientRequestGUIDs:"otherClientRequestGUIDs",btTime:"btTime",serverSnapshotType:"serverSnapshotType",hasEntryPointErrors:"hasEntryPointErrors"};return b}();
d.Od=c})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.prototype.send=function(){};return a}();a.Gd=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.prototype.Ja=function(){return null};return a}();a.Fd=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){var d=function(){function d(){}d.Tb=function(c,b){if(!c)return null;var e=c.ADRUM.lifecycle;if(!e||!e.getPhaseCallbackTime)return null;
var d=b.getPhaseCallbackTime("AT_ONLOAD"),e=e.getPhaseCallbackTime("AT_ONLOAD"),f=null==e;return null==d?(a.error("M86"),null):a.lifecycle.getPhaseID(f||d<=e?"AFTER_FIRST_BYTE":"AFTER_ONLOAD")};return d}();a.ue=d;a.cPLPI=d.Tb})(g||(g={}));(function(a){(function(d){var f=function(){function c(b){this.ready=!1;this.geoResolverUrl=b;a.utils.isString(b)&&0<a.utils.trim(b).length&&(this.geoResolverUrl=b+"/resolve.js")}c.prototype.init=function(b){this.channel=b;if(this.Aa()&&(a.geo=this.Za(),this.Ne()||
this.ma()&&!this.cc())){this.channel.Ua(a.geo.result);return}this.cc()?(this.ma()&&(this.geoResolverUrl+="?ip="+encodeURIComponent(a.conf.userConf.geo.localIP)),this.bh()):(this.ready=!0,this.channel.onResolverReady())};c.prototype.Aa=function(){return a.utils.isDefined(a.conf.userConf)&&a.utils.isDefined(a.conf.userConf.geo)};c.prototype.ma=function(){return this.Aa()&&a.utils.isDefined(a.conf.userConf.geo.localIP)&&!a.utils.isDefined(a.conf.userConf.geo.city)&&!a.utils.isDefined(a.conf.userConf.geo.region)&&
!a.utils.isDefined(a.conf.userConf.geo.country)};c.prototype.Za=function(){return{failed:!1,result:{country:a.conf.userConf.geo.country,region:a.conf.userConf.geo.region,city:a.conf.userConf.geo.city,localIP:this.jf(a.conf.userConf.geo.localIP)}}};c.prototype.Ne=function(){return this.Aa()&&a.utils.isDefined(a.conf.userConf.geo.localIP)&&a.utils.isDefined(a.conf.userConf.geo.city)&&a.utils.isDefined(a.conf.userConf.geo.region)&&a.utils.isDefined(a.conf.userConf.geo.country)};c.prototype.cc=function(){return a.utils.isString(this.geoResolverUrl)&&
0<a.utils.trim(this.geoResolverUrl).length};c.prototype.jf=function(a){if(null==a||0==a.length)return null;a=a.split(".");if(4!=a.length)return null;for(var e=[],c=0;c<a.length;c++){var d=parseInt(a[c]);if(isNaN(d)||0>d||255<d)return null;e.push(("0"+d.toString(16)).slice(-2))}return e.join("")};c.prototype.bh=function(){a.geo={failed:!1,result:null};a.utils.loadScriptAsync(this.geoResolverUrl);var b=this;a.utils.tryPeriodically(c.xa,function(){return b.isReady()},function(){b.onReady()},function(){b.La()})};
c.prototype.isReady=function(){this.ready||(this.ready=a.geo&&(a.geo.failed||null!==a.geo.result))||a.log("M87");return this.ready};c.prototype.onReady=function(){a.geo.failed?(a.log("M88"),this.ma()&&(a.geo=this.Za())):(a.assert("object"===typeof a.geo.result),a.log("M89",a.geo.result));a.geo&&a.geo.result&&this.channel.Ua(a.geo.result);this.channel.onResolverReady()};c.prototype.La=function(){a.log("M90");this.ma()&&(a.geo=this.Za());a.geo&&a.geo.result&&this.channel.Ua(a.geo.result);this.ready=
!0;this.channel.onResolverReady()};c.xa=function(a){return 10<a?-1:[1,50,100,500][a-1]||1E3};return c}();d.Jd=f})(a.channel||(a.channel={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){this.ready=!1;this.channel=null}c.prototype.init=function(b){this.channel=b;c.p=c.p||c.tf();this.ready=!c.p.ja;var e=this;if(c.p.ja)a.log("M91"),c.p.ja.ADRUM.command("listenForOkToSendChildFrameBeacons",function(){a.log("M92");e.ready=!0;e.onReady()});else e.onReady()};c.prototype.isReady=function(){this.isReady||
a.log("M93");return this.ready};c.prototype.onReady=function(){this.channel.Hg(c.p);this.channel.onResolverReady()};c.tf=function(){for(var b=window,e,d=c.wc(b),f=window;!a.utils.compareWindows(f,f.parent);){f=f.parent;d=d||c.wc(f);try{f.ADRUM&&(e=e||f,b=f)}catch(g){}}return new a.vd(e,b,d)};c.wc=function(a){try{return 0==a.document.URL.indexOf("https:")}catch(e){}};c.p=null;return c}();d.wd=f})(a.channel||(a.channel={}))})(g||(g={}));(function(a){(function(d){var f=function(){function b(e,b,c){this.events=
[];this.K={};this.ia=NaN;this.F=[];this.Da=!1;this.bufferMode=a.conf.userConf&&a.conf.userConf.channel&&"undefined"!==typeof a.conf.userConf.channel.bufferMode?a.conf.userConf.channel.bufferMode:!0;this.qa=-1;this.Vg=e;this.Oe=b;this.F.push(new d.Jd(c));this.F.push(new d.wd);this.F.push(new d.H)}b.create=function(){var e,c;b.Rf()&&!b.Vf()?(e=new a.beacons.zd,c=new a.beacons.yd):b.Xf()?(e=new a.beacons.Gd,c=new a.beacons.Fd):(e=new a.beacons.Pd,c=new a.beacons.Od);e=new b(e,c,a.conf.geoResolverUrl);
e.init();return e};b.prototype.init=function(){for(var a=0;a<this.F.length;a++)this.F[a].init(this)};b.prototype.gh=function(e){return(e.parentType===a.EventType.VIRTUAL_PAGE||e.parentType===a.EventType.NG_VIRTUAL_PAGE)&&null!==this.K[e.parentGUID]};b.prototype.zg=function(e){var b=e.parentGUID;if(!a.utils.isDefined(this.K[b])){this.K[b]=[];var c=this,d=e.eventGUID;setTimeout(function(){c.Ba(d)},1E4)}this.K[b].push(e)};b.prototype.report=function(e){e.sequenceId=a.Xc.Rb.wf();e.timestamp=e.timestamp||
a.utils.now();this.gh(e)?this.zg(e):this.events.push(e);1==this.events.length&&(this.ia=a.utils.now());var c=e.parentGUID;c&&c!==a.correlation.getPageGUID()||this.Ba(e.eventGUID);b.Wf(e)&&(this.Da=!0);this.Xa()};b.prototype.Ba=function(a){var b=this.K[a];this.K[a]=null;if(b&&0!=b.length)for(this.events=this.events.concat(b),a=0;a<b.length;a++)this.Ba(b[a].eventGUID)};b.prototype.Yf=function(e){return e.eventType===a.EventType.BASE_PAGE||e.eventType===a.EventType.IFRAME};b.prototype.Pe=function(){for(var e=
0;e<this.events.length;e++){var b=this.events[e];if(this.Yf(b)){var c=this.p.ja;c&&(b.parentLifecyclePhase=a.ue.Tb(c,a.lifecycle),b.parentGUID=c.ADRUM.correlation.getPageGUID(),b.parentUrl=a.utils.n.G(c.document.URL),a.utils.isDefined(c.ADRUM.events.J.userPageName)&&(b.parentPageName=c.ADRUM.events.J.userPageName),b.parentType=a.utils.compareWindows(top,c)?a.EventType.BASE_PAGE:a.EventType.IFRAME)}}};b.prototype.Fg=function(){if(0==this.events.length)a.log("M94");else{this.Pe();var e=this.$a(this.events,
this.p),b=this.Oe.Ja(this.events,this.sf,this.p);this.Vg.send(b,e);this.events=[];this.ia=Number.POSITIVE_INFINITY}};b.prototype.onResolverReady=function(){this.Xa()};b.prototype.Ua=function(a){this.sf=a};b.prototype.Hg=function(a){this.p=a};b.prototype.addResolver=function(a){a.init(this);this.F.push(a)};b.prototype.Bg=function(){for(var a=0;a<this.F.length;a++)if(!this.F[a].isReady())return!1;return!0};b.prototype.yc=function(){return this.ia+a.conf.sb>a.utils.now()};b.prototype.$f=function(){return this.events.length<
a.conf.Ud};b.prototype.$a=function(a,b){if(b.$a)return!0;for(var c=0;c<a.length;c++){var d=a[c];if(d.eventUrl&&0==d.eventUrl.indexOf("https:"))return!0}};b.prototype.getEventsWithParentGUID=function(a){return this.K[a]||[]};b.prototype.Xa=function(){if(this.Bg())if(this.fh()){if(this.yc()&&0<this.events.length&&0>this.qa){var b=this;this.qa=setTimeout(function(){b.Xa()},a.conf.sb+this.ia-a.utils.now())}}else clearTimeout(this.qa),this.qa=-1,this.Da=!1,this.Fg()};b.Wf=function(b){return b.eventType===
a.EventType.BASE_PAGE||b.eventType===a.EventType.IFRAME||b.eventType===a.EventType.VIRTUAL_PAGE};b.prototype.fh=function(){return this.bufferMode&&!this.Da&&this.$f()&&this.yc()};b.Rf=function(){var a="undefined"!==typeof JSON&&!(!JSON||!JSON.stringify);return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&a};b.Vf=function(){return"true"===a.conf.sendImageBeacon||!0===window["adrum-send-image-beacon"]};b.Xf=function(){return a.conf.userConf&&a.conf.userConf.beacon&&a.conf.userConf.beacon.neverSendImageBeacon};
return b}();d.Channel=f;var c=f.create();d.report=function(a){c.report(a)};d.addResolver=function(a){c.addResolver(a)};d.getEventsWithParentGUID=function(a){return c.getEventsWithParentGUID(a)}})(a.channel||(a.channel={}))})(g||(g={}));(function(a){var d=function(){function d(){}d.Lc=function(){return window.attachEvent?window.addEventListener?this.ab:this.ed:this.gd};d.Kc=function(c){var b=null;switch(d.Lc()){case d.gd:b=c.parentPhase();break;case d.ab:b=a.lifecycle.findPhaseAtNominalTime(c.getSendTime());
break;case d.ed:b=null}return a.lifecycle.getPhaseID(b)};d.gd="uCT";d.ab="uNET";d.ed="tIA";return d}();a.ga=d})(g||(g={}));(function(a){(function(d){var f=a.utils.hasOwnPropertyDefined,c=function(b){function e(){b.apply(this,arguments)}t(e,b);e.prototype.make=function(c){var f=b.prototype.make.call(this,c),g=c.url(),k=c.getSendTime(),m=c.getFirstByteTime(),q=c.getRespAvailTime(),n=c.getRespProcTime();a.assert(null!==g&&null!==k&&null!==m&&null!==q&&null!==n,"missing some pieces of XHR data: url="+
g+", send="+k+", fbt="+m+", rat="+q+", eut="+n+", parentPhase="+c.parentPhase());if(null===g||null===k||null===m||null===q||null===n)return null;g=c.error();k={PLC:1,FBT:m-k,DDT:q-m,DPT:n-q,PLT:n-k,ARE:g?1:0};m=a.utils.getFullyQualifiedUrl(c.url());if(!e.fg(k,m))return null;a.conf.viz&&a.utils.Ca(document.getElementById(a.conf.viz),k,"xhr");a.utils.mergeJSON(f,{eventUrl:a.utils.n.G(m),parentType:c.parentType()||a.EventType.BASE_PAGE,parentLifecyclePhase:c.parentPhaseId(),metrics:k,method:c.method(),
timestamp:c.timestamp(),ajaxError:g&&[g.status,g.msg||""]});a.utils.Ig(f,d.J.userPageName);return f};e.fg=function(b,e){for(var c in b)if(f(b,c)){var d=b[c];if(0>d)return a.error("XHR "+c+" ["+d+"] "+e),!1}return!0};return e}(d.ba);d.Fb=c})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){var f=function(c){function b(){c.apply(this,arguments)}t(b,c);b.prototype.make=function(b){var d=c.prototype.make.call(this,b);d&&(b=b.xhr().getAllResponseHeaders(),(b=a.correlation.Df(b))&&null!==
b&&null!==b.clientRequestGUID&&(d.eventGUID=b.clientRequestGUID),null!==b&&(d.serverMetadata=b));return d};return b}(d.Fb);d.rd=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(d){var f=function(c){function b(){c.apply(this,arguments)}t(b,c);b.prototype.make=function(b){var d=c.prototype.make.call(this,b);a.utils.mergeJSON(d,{message:b.msg()||"",timestamp:b.timestamp(),line:b.line(),stack:b.stack()});return d};return b}(d.ba);d.te=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){(function(f){f.build=
function(c){var b={},e=a.B[c.type()],f;for(f in e){var g=e[f];if(null!==g.name&&c.perf.getEntryByName(g.start)&&c.perf.getEntryByName(g.end)){c.perf.measure(g.name,g.start,g.end);var p=c.perf.getEntryByName(g.name);b[g.name]=p&&0<=p.duration&&p.duration||null}}for(f in b)b[f]=Math.round(b[f]);return b}})(a.Cb||(a.Cb={}))})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(c){function b(){c.apply(this,arguments)}t(b,c);b.prototype.make=function(b){var f=c.prototype.make.call(this,
b),g=a.Cb.build(b);g.PLC=1;f.metrics=g;f.timestamp=b.timestamp();b=(new a.ResourceTimingInfoBuilder(b.resTiming())).build();null!==b&&(f.resourceTimingInfo=b);return f};return b}(a.ba);a.Eb=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(a){function b(){a.apply(this,arguments)}t(b,a);b.prototype.make=function(b){var d=a.prototype.make.call(this,b);d&&(d.metrics.VDC=b.digestCount()||0);return d};return b}(a.Eb);a.re=f})(a.events||(a.events={}))})(g||(g={}));(function(a){var d=
a.events||(a.events={});d.Oa={};a=[{S:d.PageView,P:new d.J},{S:d.Ajax,P:new d.Fb},{S:d.AdrumAjax,P:new d.rd},{S:d.Error,P:new d.te},{S:d.VPageView,P:new d.Eb},{S:a.ng.NgVPageView,P:new d.re}];for(var f=0;f<a.length;f++){var c=a[f];c.S.prototype._regId=f;d.Oa[f]=c.P}})(g||(g={}));(function(a){(function(d){d.reportEvent=function(d){var c=!!a.events.Oa[d._regId];c||a.log("M96"+a.EventType[a.eventType]);c&&(c=a.events.Oa[d._regId].make(d),a.utils.isDefined(c)&&(a.log("M95",a.EventType[d.type()]),a.channel.report(c)))}})(a.reporter||
(a.reporter={}))})(g||(g={}));(function(a){(function(d){var f=function(){function c(){this.ready=!1}c.prototype.onReady=function(a){this.ready=a;this.channel.onResolverReady()};c.prototype.isReady=function(){this.ready||a.log("M97");return this.ready};c.prototype.init=function(a){this.channel=a};return c}();d.Ge=f})(a.commands||(a.commands={}))})(g||(g={}));(function(a){(function(d){var f=new d.Ge;a.channel.addResolver(f);d.marks={};d.mark=function(c,b){a.log("M98",c,b);d.marks[c]=b};d.reportOnload=
function(c){setTimeout(function(){a.log("M99");f.onReady(!0);a.reporter.reportEvent(c)},a.conf.Ee)};d.reportEvent=function(){a.reporter.reportEvent.apply(a.reporter,arguments)};d.addResolver=function(c){a.channel.addResolver(c)};d.reportXhr=function(c){a.log("M100");a.ga.Lc()==a.ga.ab?(a.log("M101"),setTimeout(function(){c.parentPhaseId(a.ga.Kc(c));a.reporter.reportEvent(c)},0)):(c.parentPhaseId(a.ga.Kc(c)),a.reporter.reportEvent(c))};d.listenForOkToSendChildFrameBeacons=function(c){a.log("M102");
try{c()}catch(b){a.exception(b,"M103")}};d.reportPageError=function(c){var b=c.url();a.log("M104",c.msg(),b,c.line(),c.stack());b&&0!==b.length||c.url("CROSSORIGIN");a.reporter.reportEvent(c)};d.setPageName=function(c){a.events.J.setPageName(c)};d.addUserData=function(c,b){a.events.J.addUserData(c,b)};d.call=function(a){a()}})(a.commands||(a.commands={}))})(g||(g={}));(function(a){(function(a){a.Yb=function(f){return encodeURIComponent(a.n.sg(f))}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(d){var f=
function(){function c(){}c.prototype.setUp=function(){this.ig();a.utils.addEventListener(window,"pagehide",c.gb);a.utils.addEventListener(window,"beforeunload",c.gb);a.utils.addEventListener(window,"unload",c.gb)};c.prototype.ig=function(){(this.startTime=c.pf()||c.of())&&a.commands.mark("starttime",this.startTime)};c.pf=function(){var b;try{if(a.utils.isDefined(window.external)&&a.utils.isNumber(window.external.pageT))b=(new Date).getTime()-window.external.pageT;else if(a.utils.isDefined(window.mc)&&
a.utils.isFunction(window.mc.pageT)){var e=window.mc.pageT();a.utils.isNumber(e)&&(b=(new Date).getTime()-e)}else a.utils.isDefined(window.chrome)&&a.utils.isFunction(window.chrome.csi)&&(e=window.chrome.csi(),a.utils.isDefined(e)&&a.utils.isNumber(e.pageT)&&(b=(new Date).getTime()-e.pageT));b&&(b=Math.round(b),a.log("M105",b))}catch(c){a.exception(c,"M106")}return b};c.of=function(){var b=a.correlation.startTimeCookie;if(b){a.log("M107",b.startTime,b.startPage);var e=a.utils.Yb(document.referrer);
if(e===b.startPage)if(isNaN(b.startTime))a.log("M108",b.startTime);else return b.startTime;else a.log("M109",e,b.startPage)}else a.log("M110")};c.cf=function(b,e){var c=document.domain,d="https:"===document.location.protocol,f="ADRUM=s="+Number(new Date)+"&r="+a.utils.Yb(document.location.href),g=f+";path=/";d&&(g+=";secure");a.log("M111",f);if(!a.conf.useStrictDomainCookies){for(var d=b(),c=c.split("."),m="",q=c.length-1;0<=q;q--){m="."+c[q]+m;a.log("M112",m);e(g+";domain="+m);var n=b();if(n!=d&&
0<=n.indexOf(f)){a.log("M113");a.log("M114");return}}a.log("M115")}a.log("M116");e(g);a.log("M117")};c.gb=function(){var a=!1;return function(){a||(a=!0,c.cf(function(){return document.cookie},function(a){document.cookie=a}))}}();return c}();d.qh=f;d.Pg=new f})(a.monitor||(a.monitor={}))})(g||(g={}));(function(a){a.log("M118");a.monitor.Pg.setUp();a.q.processQ();a.initEXTDone=!0;a.log("M119")})(g||(g={}))}};})();
