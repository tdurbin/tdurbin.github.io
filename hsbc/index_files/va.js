var vaVersion=0,vaFileVersion={},vaFullPath="//www.askus.hsbc.co.uk/counter-service/embedp2new";function injectVA(data){var fileVersion=data.ver,vascript=document.createElement("script");if(vaVersion=data.ver,!data.global)for(var key in vaFileVersion=data.files,data.files)("init.js"==key||"init.min.js"==key)&&(fileVersion=data.files[key]);vascript.setAttribute("src",vaFullPath+"/init.min.js?v="+fileVersion),document.getElementById("virtual-assistant").appendChild(vascript)}var loadVAJSONP=function(url,callback,context){var name="cvversion";url+="?callback="+name+"&v="+Math.round(+new Date/1e3);var script=document.createElement("script");script.type="text/javascript",script.src=url,window[name]=function(data){callback.call(context||window,data),document.getElementsByTagName("head")[0].removeChild(script),script=null,delete window[name]},document.getElementsByTagName("head")[0].appendChild(script)};"complete"==document.readyState?loadVAJSONP(vaFullPath+"/ver.js",(function(data){injectVA(data)})):document.addEventListener?document.addEventListener("DOMContentLoaded",(function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),loadVAJSONP(vaFullPath+"/ver.js",(function(data){injectVA(data)}))}),!1):document.attachEvent&&document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),loadVAJSONP(vaFullPath+"/ver.js",(function(data){injectVA(data)})))}));